(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var we={},fH={get exports(){return we},set exports(t){we=t}},Ym={},ut={},dH={get exports(){return ut},set exports(t){ut=t}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=Symbol.for("react.element"),pH=Symbol.for("react.portal"),vH=Symbol.for("react.fragment"),gH=Symbol.for("react.strict_mode"),mH=Symbol.for("react.profiler"),yH=Symbol.for("react.provider"),wH=Symbol.for("react.context"),xH=Symbol.for("react.forward_ref"),bH=Symbol.for("react.suspense"),_H=Symbol.for("react.memo"),SH=Symbol.for("react.lazy"),AR=Symbol.iterator;function EH(t){return t===null||typeof t!="object"?null:(t=AR&&t[AR]||t["@@iterator"],typeof t=="function"?t:null)}var _L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SL=Object.assign,EL={};function Lc(t,e,n){this.props=t,this.context=e,this.refs=EL,this.updater=n||_L}Lc.prototype.isReactComponent={};Lc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TL(){}TL.prototype=Lc.prototype;function uE(t,e,n){this.props=t,this.context=e,this.refs=EL,this.updater=n||_L}var lE=uE.prototype=new TL;lE.constructor=uE;SL(lE,Lc.prototype);lE.isPureReactComponent=!0;var PR=Array.isArray,kL=Object.prototype.hasOwnProperty,cE={current:null},CL={key:!0,ref:!0,__self:!0,__source:!0};function IL(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)kL.call(e,r)&&!CL.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Nd,type:t,key:o,ref:a,props:i,_owner:cE.current}}function TH(t,e){return{$$typeof:Nd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nd}function kH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RR=/\/+/g;function ub(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kH(""+t.key):e.toString(36)}function ug(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nd:case pH:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ub(a,0):r,PR(i)?(n="",t!=null&&(n=t.replace(RR,"$&/")+"/"),ug(i,e,n,"",function(h){return h})):i!=null&&(hE(i)&&(i=TH(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(RR,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",PR(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+ub(o,u);a+=ug(o,e,n,c,i)}else if(c=EH(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+ub(o,u++),a+=ug(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cv(t,e,n){if(t==null)return t;var r=[],i=0;return ug(t,r,"","",function(o){return e.call(n,o,i++)}),r}function CH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},lg={transition:null},IH={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:lg,ReactCurrentOwner:cE};ge.Children={map:Cv,forEach:function(t,e,n){Cv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cv(t,function(){e++}),e},toArray:function(t){return Cv(t,function(e){return e})||[]},only:function(t){if(!hE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Lc;ge.Fragment=vH;ge.Profiler=mH;ge.PureComponent=uE;ge.StrictMode=gH;ge.Suspense=bH;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IH;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SL({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=cE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)kL.call(e,c)&&!CL.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Nd,type:t.type,key:i,ref:o,props:r,_owner:a}};ge.createContext=function(t){return t={$$typeof:wH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yH,_context:t},t.Consumer=t};ge.createElement=IL;ge.createFactory=function(t){var e=IL.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:xH,render:t}};ge.isValidElement=hE;ge.lazy=function(t){return{$$typeof:SH,_payload:{_status:-1,_result:t},_init:CH}};ge.memo=function(t,e){return{$$typeof:_H,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=lg.transition;lg.transition={};try{t()}finally{lg.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return Pr.current.useCallback(t,e)};ge.useContext=function(t){return Pr.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Pr.current.useEffect(t,e)};ge.useId=function(){return Pr.current.useId()};ge.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Pr.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};ge.useRef=function(t){return Pr.current.useRef(t)};ge.useState=function(t){return Pr.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Pr.current.useTransition()};ge.version="18.2.0";(function(t){t.exports=ge})(dH);const Ve=aE(ut);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AH=ut,PH=Symbol.for("react.element"),RH=Symbol.for("react.fragment"),OH=Object.prototype.hasOwnProperty,MH=AH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NH={key:!0,ref:!0,__self:!0,__source:!0};function AL(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)OH.call(e,r)&&!NH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PH,type:t,key:o,ref:a,props:i,_owner:MH.current}}Ym.Fragment=RH;Ym.jsx=AL;Ym.jsxs=AL;(function(t){t.exports=Ym})(fH);var Ai={},DH={get exports(){return Ai},set exports(t){Ai=t}},hi={},z1={},LH={get exports(){return z1},set exports(t){z1=t}},PL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,F){var V=S.length;S.push(F);t:for(;0<V;){var K=V-1>>>1,Y=S[K];if(0<i(Y,F))S[K]=F,S[V]=Y,V=K;else break t}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var F=S[0],V=S.pop();if(V!==F){S[0]=V;t:for(var K=0,Y=S.length,M=Y>>>1;K<M;){var B=2*(K+1)-1,H=S[B],q=B+1,Q=S[q];if(0>i(H,V))q<Y&&0>i(Q,H)?(S[K]=Q,S[q]=V,K=q):(S[K]=H,S[B]=V,K=B);else if(q<Y&&0>i(Q,V))S[K]=Q,S[q]=V,K=q;else break t}}return F}function i(S,F){var V=S.sortIndex-F.sortIndex;return V!==0?V:S.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],h=[],f=1,v=null,g=3,x=!1,m=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(S){for(var F=n(h);F!==null;){if(F.callback===null)r(h);else if(F.startTime<=S)r(h),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(h)}}function L(S){if(E=!1,T(S),!m)if(n(c)!==null)m=!0,w(j);else{var F=n(h);F!==null&&O(L,F.startTime-S)}}function j(S,F){m=!1,E&&(E=!1,C(D),D=-1),x=!0;var V=g;try{for(T(F),v=n(c);v!==null&&(!(v.expirationTime>F)||S&&!A());){var K=v.callback;if(typeof K=="function"){v.callback=null,g=v.priorityLevel;var Y=K(v.expirationTime<=F);F=t.unstable_now(),typeof Y=="function"?v.callback=Y:v===n(c)&&r(c),T(F)}else r(c);v=n(c)}if(v!==null)var M=!0;else{var B=n(h);B!==null&&O(L,B.startTime-F),M=!1}return M}finally{v=null,g=V,x=!1}}var z=!1,$=null,D=-1,P=5,I=-1;function A(){return!(t.unstable_now()-I<P)}function k(){if($!==null){var S=t.unstable_now();I=S;var F=!0;try{F=$(!0,S)}finally{F?b():(z=!1,$=null)}}else z=!1}var b;if(typeof _=="function")b=function(){_(k)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,d=y.port2;y.port1.onmessage=k,b=function(){d.postMessage(null)}}else b=function(){R(k,0)};function w(S){$=S,z||(z=!0,b())}function O(S,F){D=R(function(){S(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){m||x||(m=!0,w(j))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(S){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var V=g;g=F;try{return S()}finally{g=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,F){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var V=g;g=S;try{return F()}finally{g=V}},t.unstable_scheduleCallback=function(S,F,V){var K=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=V+Y,S={id:f++,callback:F,priorityLevel:S,startTime:V,expirationTime:Y,sortIndex:-1},V>K?(S.sortIndex=V,e(h,S),n(c)===null&&S===n(h)&&(E?(C(D),D=-1):E=!0,O(L,V-K))):(S.sortIndex=Y,e(c,S),m||x||(m=!0,w(j))),S},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(S){var F=g;return function(){var V=g;g=F;try{return S.apply(this,arguments)}finally{g=V}}}})(PL);(function(t){t.exports=PL})(LH);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL=ut,ai=z1;function Mt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OL=new Set,zf={};function Nu(t,e){nc(t,e),nc(t+"Capture",e)}function nc(t,e){for(zf[t]=e,t=0;t<e.length;t++)OL.add(e[t])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V1=Object.prototype.hasOwnProperty,FH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OR={},MR={};function jH(t){return V1.call(MR,t)?!0:V1.call(OR,t)?!1:FH.test(t)?MR[t]=!0:(OR[t]=!0,!1)}function BH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UH(t,e,n,r){if(e===null||typeof e>"u"||BH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jn[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jn[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jn[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jn[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jn[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jn[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jn[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jn[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jn[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var fE=/[\-:]([a-z])/g;function dE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fE,dE);Jn[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fE,dE);Jn[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fE,dE);Jn[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jn[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function pE(t,e,n,r){var i=Jn.hasOwnProperty(e)?Jn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UH(e,n,i,r)&&(n=null),r||i===null?jH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=RL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iv=Symbol.for("react.element"),Pl=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),vE=Symbol.for("react.strict_mode"),$1=Symbol.for("react.profiler"),ML=Symbol.for("react.provider"),NL=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),H1=Symbol.for("react.suspense_list"),mE=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),DL=Symbol.for("react.offscreen"),NR=Symbol.iterator;function zh(t){return t===null||typeof t!="object"?null:(t=NR&&t[NR]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,lb;function of(t){if(lb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lb=e&&e[1]||""}return`
`+lb+t}var cb=!1;function hb(t,e){if(!t||cb)return"";cb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{cb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?of(t):""}function zH(t){switch(t.tag){case 5:return of(t.type);case 16:return of("Lazy");case 13:return of("Suspense");case 19:return of("SuspenseList");case 0:case 2:case 15:return t=hb(t.type,!1),t;case 11:return t=hb(t.type.render,!1),t;case 1:return t=hb(t.type,!0),t;default:return""}}function G1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rl:return"Fragment";case Pl:return"Portal";case $1:return"Profiler";case vE:return"StrictMode";case W1:return"Suspense";case H1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NL:return(t.displayName||"Context")+".Consumer";case ML:return(t._context.displayName||"Context")+".Provider";case gE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mE:return e=t.displayName||null,e!==null?e:G1(t.type)||"Memo";case Ts:e=t._payload,t=t._init;try{return G1(t(e))}catch{}}return null}function VH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G1(e);case 8:return e===vE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $H(t){var e=LL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Av(t){t._valueTracker||(t._valueTracker=$H(t))}function FL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K1(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function DR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jL(t,e){e=e.checked,e!=null&&pE(t,"checked",e,!1)}function X1(t,e){jL(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y1(t,e.type,n):e.hasOwnProperty("defaultValue")&&Y1(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Y1(t,e,n){(e!=="number"||Pg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sf=Array.isArray;function Hl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function q1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Mt(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Mt(92));if(sf(n)){if(1<n.length)throw Error(Mt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function BL(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pv,zL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pv=Pv||document.createElement("div"),Pv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WH=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(t){WH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vf[e]=vf[t]})});function VL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vf.hasOwnProperty(t)&&vf[t]?(""+e).trim():e+"px"}function $L(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var HH=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function J1(t,e){if(e){if(HH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Mt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Mt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Mt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Mt(62))}}function Z1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t_=null;function yE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var e_=null,Gl=null,Kl=null;function BR(t){if(t=Fd(t)){if(typeof e_!="function")throw Error(Mt(280));var e=t.stateNode;e&&(e=ty(e),e_(t.stateNode,t.type,e))}}function WL(t){Gl?Kl?Kl.push(t):Kl=[t]:Gl=t}function HL(){if(Gl){var t=Gl,e=Kl;if(Kl=Gl=null,BR(t),e)for(t=0;t<e.length;t++)BR(e[t])}}function GL(t,e){return t(e)}function KL(){}var fb=!1;function XL(t,e,n){if(fb)return t(e,n);fb=!0;try{return GL(t,e,n)}finally{fb=!1,(Gl!==null||Kl!==null)&&(KL(),HL())}}function $f(t,e){var n=t.stateNode;if(n===null)return null;var r=ty(n);if(r===null)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Mt(231,e,typeof n));return n}var n_=!1;if(Yo)try{var Vh={};Object.defineProperty(Vh,"passive",{get:function(){n_=!0}}),window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{n_=!1}function GH(t,e,n,r,i,o,a,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var gf=!1,Rg=null,Og=!1,r_=null,KH={onError:function(t){gf=!0,Rg=t}};function XH(t,e,n,r,i,o,a,u,c){gf=!1,Rg=null,GH.apply(KH,arguments)}function YH(t,e,n,r,i,o,a,u,c){if(XH.apply(this,arguments),gf){if(gf){var h=Rg;gf=!1,Rg=null}else throw Error(Mt(198));Og||(Og=!0,r_=h)}}function Du(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UR(t){if(Du(t)!==t)throw Error(Mt(188))}function qH(t){var e=t.alternate;if(!e){if(e=Du(t),e===null)throw Error(Mt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return UR(i),t;if(o===r)return UR(i),e;o=o.sibling}throw Error(Mt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(Mt(189))}}if(n.alternate!==r)throw Error(Mt(190))}if(n.tag!==3)throw Error(Mt(188));return n.stateNode.current===n?t:e}function qL(t){return t=qH(t),t!==null?QL(t):null}function QL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QL(t);if(e!==null)return e;t=t.sibling}return null}var JL=ai.unstable_scheduleCallback,zR=ai.unstable_cancelCallback,QH=ai.unstable_shouldYield,JH=ai.unstable_requestPaint,ln=ai.unstable_now,ZH=ai.unstable_getCurrentPriorityLevel,wE=ai.unstable_ImmediatePriority,ZL=ai.unstable_UserBlockingPriority,Mg=ai.unstable_NormalPriority,tG=ai.unstable_LowPriority,t2=ai.unstable_IdlePriority,qm=null,yo=null;function eG(t){if(yo&&typeof yo.onCommitFiberRoot=="function")try{yo.onCommitFiberRoot(qm,t,void 0,(t.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:iG,nG=Math.log,rG=Math.LN2;function iG(t){return t>>>=0,t===0?32:31-(nG(t)/rG|0)|0}var Rv=64,Ov=4194304;function af(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ng(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=af(u):(o&=a,o!==0&&(r=af(o)))}else a=n&~i,a!==0?r=af(a):o!==0&&(r=af(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qi(e),i=1<<n,r|=t[n],e&=~i;return r}function oG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Qi(o),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=oG(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function i_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e2(){var t=Rv;return Rv<<=1,!(Rv&4194240)&&(Rv=64),t}function db(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qi(e),t[e]=n}function aG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function xE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function n2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r2,bE,i2,o2,s2,o_=!1,Mv=[],Fs=null,js=null,Bs=null,Wf=new Map,Hf=new Map,Is=[],uG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VR(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Wf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(e.pointerId)}}function $h(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Fd(e),e!==null&&bE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lG(t,e,n,r,i){switch(e){case"focusin":return Fs=$h(Fs,t,e,n,r,i),!0;case"dragenter":return js=$h(js,t,e,n,r,i),!0;case"mouseover":return Bs=$h(Bs,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wf.set(o,$h(Wf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hf.set(o,$h(Hf.get(o)||null,t,e,n,r,i)),!0}return!1}function a2(t){var e=Ka(t.target);if(e!==null){var n=Du(e);if(n!==null){if(e=n.tag,e===13){if(e=YL(n),e!==null){t.blockedOn=e,s2(t.priority,function(){i2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=s_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);t_=r,n.target.dispatchEvent(r),t_=null}else return e=Fd(n),e!==null&&bE(e),t.blockedOn=n,!1;e.shift()}return!0}function $R(t,e,n){cg(t)&&n.delete(e)}function cG(){o_=!1,Fs!==null&&cg(Fs)&&(Fs=null),js!==null&&cg(js)&&(js=null),Bs!==null&&cg(Bs)&&(Bs=null),Wf.forEach($R),Hf.forEach($R)}function Wh(t,e){t.blockedOn===e&&(t.blockedOn=null,o_||(o_=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,cG)))}function Gf(t){function e(i){return Wh(i,t)}if(0<Mv.length){Wh(Mv[0],t);for(var n=1;n<Mv.length;n++){var r=Mv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&Wh(Fs,t),js!==null&&Wh(js,t),Bs!==null&&Wh(Bs,t),Wf.forEach(e),Hf.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)a2(n),n.blockedOn===null&&Is.shift()}var Xl=is.ReactCurrentBatchConfig,Dg=!0;function hG(t,e,n,r){var i=Oe,o=Xl.transition;Xl.transition=null;try{Oe=1,_E(t,e,n,r)}finally{Oe=i,Xl.transition=o}}function fG(t,e,n,r){var i=Oe,o=Xl.transition;Xl.transition=null;try{Oe=4,_E(t,e,n,r)}finally{Oe=i,Xl.transition=o}}function _E(t,e,n,r){if(Dg){var i=s_(t,e,n,r);if(i===null)Sb(t,e,r,Lg,n),VR(t,r);else if(lG(i,t,e,n,r))r.stopPropagation();else if(VR(t,r),e&4&&-1<uG.indexOf(t)){for(;i!==null;){var o=Fd(i);if(o!==null&&r2(o),o=s_(t,e,n,r),o===null&&Sb(t,e,r,Lg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sb(t,e,r,null,n)}}var Lg=null;function s_(t,e,n,r){if(Lg=null,t=yE(r),t=Ka(t),t!==null)if(e=Du(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lg=t,null}function u2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZH()){case wE:return 1;case ZL:return 4;case Mg:case tG:return 16;case t2:return 536870912;default:return 16}default:return 16}}var Ns=null,SE=null,hg=null;function l2(){if(hg)return hg;var t,e=SE,n=e.length,r,i="value"in Ns?Ns.value:Ns.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return hg=i.slice(t,1<r?1-r:void 0)}function fg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nv(){return!0}function WR(){return!1}function fi(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nv:WR,this.isPropagationStopped=WR,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nv)},persist:function(){},isPersistent:Nv}),e}var Fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EE=fi(Fc),Ld=en({},Fc,{view:0,detail:0}),dG=fi(Ld),pb,vb,Hh,Qm=en({},Ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hh&&(Hh&&t.type==="mousemove"?(pb=t.screenX-Hh.screenX,vb=t.screenY-Hh.screenY):vb=pb=0,Hh=t),pb)},movementY:function(t){return"movementY"in t?t.movementY:vb}}),HR=fi(Qm),pG=en({},Qm,{dataTransfer:0}),vG=fi(pG),gG=en({},Ld,{relatedTarget:0}),gb=fi(gG),mG=en({},Fc,{animationName:0,elapsedTime:0,pseudoElement:0}),yG=fi(mG),wG=en({},Fc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xG=fi(wG),bG=en({},Fc,{data:0}),GR=fi(bG),_G={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EG[t])?!!e[t]:!1}function TE(){return TG}var kG=en({},Ld,{key:function(t){if(t.key){var e=_G[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TE,charCode:function(t){return t.type==="keypress"?fg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CG=fi(kG),IG=en({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KR=fi(IG),AG=en({},Ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TE}),PG=fi(AG),RG=en({},Fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),OG=fi(RG),MG=en({},Qm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NG=fi(MG),DG=[9,13,27,32],kE=Yo&&"CompositionEvent"in window,mf=null;Yo&&"documentMode"in document&&(mf=document.documentMode);var LG=Yo&&"TextEvent"in window&&!mf,c2=Yo&&(!kE||mf&&8<mf&&11>=mf),XR=String.fromCharCode(32),YR=!1;function h2(t,e){switch(t){case"keyup":return DG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function FG(t,e){switch(t){case"compositionend":return f2(e);case"keypress":return e.which!==32?null:(YR=!0,XR);case"textInput":return t=e.data,t===XR&&YR?null:t;default:return null}}function jG(t,e){if(Ol)return t==="compositionend"||!kE&&h2(t,e)?(t=l2(),hg=SE=Ns=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c2&&e.locale!=="ko"?null:e.data;default:return null}}var BG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BG[t.type]:e==="textarea"}function d2(t,e,n,r){WL(r),e=Fg(e,"onChange"),0<e.length&&(n=new EE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yf=null,Kf=null;function UG(t){E2(t,0)}function Jm(t){var e=Dl(t);if(FL(e))return t}function zG(t,e){if(t==="change")return e}var p2=!1;if(Yo){var mb;if(Yo){var yb="oninput"in document;if(!yb){var QR=document.createElement("div");QR.setAttribute("oninput","return;"),yb=typeof QR.oninput=="function"}mb=yb}else mb=!1;p2=mb&&(!document.documentMode||9<document.documentMode)}function JR(){yf&&(yf.detachEvent("onpropertychange",v2),Kf=yf=null)}function v2(t){if(t.propertyName==="value"&&Jm(Kf)){var e=[];d2(e,Kf,t,yE(t)),XL(UG,e)}}function VG(t,e,n){t==="focusin"?(JR(),yf=e,Kf=n,yf.attachEvent("onpropertychange",v2)):t==="focusout"&&JR()}function $G(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jm(Kf)}function WG(t,e){if(t==="click")return Jm(e)}function HG(t,e){if(t==="input"||t==="change")return Jm(e)}function GG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eo=typeof Object.is=="function"?Object.is:GG;function Xf(t,e){if(eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!V1.call(e,i)||!eo(t[i],e[i]))return!1}return!0}function ZR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tO(t,e){var n=ZR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ZR(n)}}function g2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m2(){for(var t=window,e=Pg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pg(t.document)}return e}function CE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KG(t){var e=m2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&g2(n.ownerDocument.documentElement,n)){if(r!==null&&CE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=tO(n,o);var a=tO(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XG=Yo&&"documentMode"in document&&11>=document.documentMode,Ml=null,a_=null,wf=null,u_=!1;function eO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;u_||Ml==null||Ml!==Pg(r)||(r=Ml,"selectionStart"in r&&CE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wf&&Xf(wf,r)||(wf=r,r=Fg(a_,"onSelect"),0<r.length&&(e=new EE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ml)))}function Dv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nl={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},wb={},y2={};Yo&&(y2=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Zm(t){if(wb[t])return wb[t];if(!Nl[t])return t;var e=Nl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in y2)return wb[t]=e[n];return t}var w2=Zm("animationend"),x2=Zm("animationiteration"),b2=Zm("animationstart"),_2=Zm("transitionend"),S2=new Map,nO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){S2.set(t,e),Nu(e,[t])}for(var xb=0;xb<nO.length;xb++){var bb=nO[xb],YG=bb.toLowerCase(),qG=bb[0].toUpperCase()+bb.slice(1);sa(YG,"on"+qG)}sa(w2,"onAnimationEnd");sa(x2,"onAnimationIteration");sa(b2,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(_2,"onTransitionEnd");nc("onMouseEnter",["mouseout","mouseover"]);nc("onMouseLeave",["mouseout","mouseover"]);nc("onPointerEnter",["pointerout","pointerover"]);nc("onPointerLeave",["pointerout","pointerover"]);Nu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QG=new Set("cancel close invalid load scroll toggle".split(" ").concat(uf));function rO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YH(r,e,void 0,t),t.currentTarget=null}function E2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break t;rO(i,u,h),o=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,h=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break t;rO(i,u,h),o=c}}}if(Og)throw t=r_,Og=!1,r_=null,t}function Ue(t,e){var n=e[d_];n===void 0&&(n=e[d_]=new Set);var r=t+"__bubble";n.has(r)||(T2(e,t,2,!1),n.add(r))}function _b(t,e,n){var r=0;e&&(r|=4),T2(n,t,r,e)}var Lv="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[Lv]){t[Lv]=!0,OL.forEach(function(n){n!=="selectionchange"&&(QG.has(n)||_b(n,!1,t),_b(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lv]||(e[Lv]=!0,_b("selectionchange",!1,e))}}function T2(t,e,n,r){switch(u2(e)){case 1:var i=hG;break;case 4:i=fG;break;default:i=_E}n=i.bind(null,e,n,t),i=void 0,!n_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)t:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Ka(u),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue t}u=u.parentNode}}r=r.return}XL(function(){var h=o,f=yE(n),v=[];t:{var g=S2.get(t);if(g!==void 0){var x=EE,m=t;switch(t){case"keypress":if(fg(n)===0)break t;case"keydown":case"keyup":x=CG;break;case"focusin":m="focus",x=gb;break;case"focusout":m="blur",x=gb;break;case"beforeblur":case"afterblur":x=gb;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=HR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=vG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=PG;break;case w2:case x2:case b2:x=yG;break;case _2:x=OG;break;case"scroll":x=dG;break;case"wheel":x=NG;break;case"copy":case"cut":case"paste":x=xG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=KR}var E=(e&4)!==0,R=!E&&t==="scroll",C=E?g!==null?g+"Capture":null:g;E=[];for(var _=h,T;_!==null;){T=_;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,C!==null&&(L=$f(_,C),L!=null&&E.push(qf(_,L,T)))),R)break;_=_.return}0<E.length&&(g=new x(g,m,null,n,f),v.push({event:g,listeners:E}))}}if(!(e&7)){t:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==t_&&(m=n.relatedTarget||n.fromElement)&&(Ka(m)||m[qo]))break t;if((x||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,x?(m=n.relatedTarget||n.toElement,x=h,m=m?Ka(m):null,m!==null&&(R=Du(m),m!==R||m.tag!==5&&m.tag!==6)&&(m=null)):(x=null,m=h),x!==m)){if(E=HR,L="onMouseLeave",C="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=KR,L="onPointerLeave",C="onPointerEnter",_="pointer"),R=x==null?g:Dl(x),T=m==null?g:Dl(m),g=new E(L,_+"leave",x,n,f),g.target=R,g.relatedTarget=T,L=null,Ka(f)===h&&(E=new E(C,_+"enter",m,n,f),E.target=T,E.relatedTarget=R,L=E),R=L,x&&m)e:{for(E=x,C=m,_=0,T=E;T;T=yl(T))_++;for(T=0,L=C;L;L=yl(L))T++;for(;0<_-T;)E=yl(E),_--;for(;0<T-_;)C=yl(C),T--;for(;_--;){if(E===C||C!==null&&E===C.alternate)break e;E=yl(E),C=yl(C)}E=null}else E=null;x!==null&&iO(v,g,x,E,!1),m!==null&&R!==null&&iO(v,R,m,E,!0)}}t:{if(g=h?Dl(h):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var j=zG;else if(qR(g))if(p2)j=HG;else{j=$G;var z=VG}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=WG);if(j&&(j=j(t,h))){d2(v,j,n,f);break t}z&&z(t,g,h),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&Y1(g,"number",g.value)}switch(z=h?Dl(h):window,t){case"focusin":(qR(z)||z.contentEditable==="true")&&(Ml=z,a_=h,wf=null);break;case"focusout":wf=a_=Ml=null;break;case"mousedown":u_=!0;break;case"contextmenu":case"mouseup":case"dragend":u_=!1,eO(v,n,f);break;case"selectionchange":if(XG)break;case"keydown":case"keyup":eO(v,n,f)}var $;if(kE)t:{switch(t){case"compositionstart":var D="onCompositionStart";break t;case"compositionend":D="onCompositionEnd";break t;case"compositionupdate":D="onCompositionUpdate";break t}D=void 0}else Ol?h2(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(c2&&n.locale!=="ko"&&(Ol||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ol&&($=l2()):(Ns=f,SE="value"in Ns?Ns.value:Ns.textContent,Ol=!0)),z=Fg(h,D),0<z.length&&(D=new GR(D,t,null,n,f),v.push({event:D,listeners:z}),$?D.data=$:($=f2(n),$!==null&&(D.data=$)))),($=LG?FG(t,n):jG(t,n))&&(h=Fg(h,"onBeforeInput"),0<h.length&&(f=new GR("onBeforeInput","beforeinput",null,n,f),v.push({event:f,listeners:h}),f.data=$))}E2(v,e)})}function qf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$f(t,n),o!=null&&r.unshift(qf(t,o,i)),o=$f(t,e),o!=null&&r.push(qf(t,o,i))),t=t.return}return r}function yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iO(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=$f(n,o),c!=null&&a.unshift(qf(n,c,u))):i||(c=$f(n,o),c!=null&&a.push(qf(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var JG=/\r\n?/g,ZG=/\u0000|\uFFFD/g;function oO(t){return(typeof t=="string"?t:""+t).replace(JG,`
`).replace(ZG,"")}function Fv(t,e,n){if(e=oO(e),oO(t)!==e&&n)throw Error(Mt(425))}function jg(){}var l_=null,c_=null;function h_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f_=typeof setTimeout=="function"?setTimeout:void 0,t6=typeof clearTimeout=="function"?clearTimeout:void 0,sO=typeof Promise=="function"?Promise:void 0,e6=typeof queueMicrotask=="function"?queueMicrotask:typeof sO<"u"?function(t){return sO.resolve(null).then(t).catch(n6)}:f_;function n6(t){setTimeout(function(){throw t})}function Eb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gf(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jc=Math.random().toString(36).slice(2),go="__reactFiber$"+jc,Qf="__reactProps$"+jc,qo="__reactContainer$"+jc,d_="__reactEvents$"+jc,r6="__reactListeners$"+jc,i6="__reactHandles$"+jc;function Ka(t){var e=t[go];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qo]||n[go]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aO(t);t!==null;){if(n=t[go])return n;t=aO(t)}return e}t=n,n=t.parentNode}return null}function Fd(t){return t=t[go]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Mt(33))}function ty(t){return t[Qf]||null}var p_=[],Ll=-1;function aa(t){return{current:t}}function $e(t){0>Ll||(t.current=p_[Ll],p_[Ll]=null,Ll--)}function Fe(t,e){Ll++,p_[Ll]=t.current,t.current=e}var Js={},fr=aa(Js),Ur=aa(!1),pu=Js;function rc(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function Bg(){$e(Ur),$e(fr)}function uO(t,e,n){if(fr.current!==Js)throw Error(Mt(168));Fe(fr,e),Fe(Ur,n)}function k2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Mt(108,VH(t)||"Unknown",i));return en({},n,r)}function Ug(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,pu=fr.current,Fe(fr,t),Fe(Ur,Ur.current),!0}function lO(t,e,n){var r=t.stateNode;if(!r)throw Error(Mt(169));n?(t=k2(t,e,pu),r.__reactInternalMemoizedMergedChildContext=t,$e(Ur),$e(fr),Fe(fr,t)):$e(Ur),Fe(Ur,n)}var Bo=null,ey=!1,Tb=!1;function C2(t){Bo===null?Bo=[t]:Bo.push(t)}function o6(t){ey=!0,C2(t)}function ua(){if(!Tb&&Bo!==null){Tb=!0;var t=0,e=Oe;try{var n=Bo;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bo=null,ey=!1}catch(i){throw Bo!==null&&(Bo=Bo.slice(t+1)),JL(wE,ua),i}finally{Oe=e,Tb=!1}}return null}var Fl=[],jl=0,zg=null,Vg=0,yi=[],wi=0,vu=null,Uo=1,zo="";function La(t,e){Fl[jl++]=Vg,Fl[jl++]=zg,zg=t,Vg=e}function I2(t,e,n){yi[wi++]=Uo,yi[wi++]=zo,yi[wi++]=vu,vu=t;var r=Uo;t=zo;var i=32-Qi(r)-1;r&=~(1<<i),n+=1;var o=32-Qi(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Uo=1<<32-Qi(e)+i|n<<i|r,zo=o+t}else Uo=1<<o|n<<i|r,zo=t}function IE(t){t.return!==null&&(La(t,1),I2(t,1,0))}function AE(t){for(;t===zg;)zg=Fl[--jl],Fl[jl]=null,Vg=Fl[--jl],Fl[jl]=null;for(;t===vu;)vu=yi[--wi],yi[wi]=null,zo=yi[--wi],yi[wi]=null,Uo=yi[--wi],yi[wi]=null}var si=null,ni=null,Ke=!1,Yi=null;function A2(t,e){var n=xi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ni=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vu!==null?{id:Uo,overflow:zo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,si=t,ni=null,!0):!1;default:return!1}}function v_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function g_(t){if(Ke){var e=ni;if(e){var n=e;if(!cO(t,e)){if(v_(t))throw Error(Mt(418));e=Us(n.nextSibling);var r=si;e&&cO(t,e)?A2(r,n):(t.flags=t.flags&-4097|2,Ke=!1,si=t)}}else{if(v_(t))throw Error(Mt(418));t.flags=t.flags&-4097|2,Ke=!1,si=t}}}function hO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function jv(t){if(t!==si)return!1;if(!Ke)return hO(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!h_(t.type,t.memoizedProps)),e&&(e=ni)){if(v_(t))throw P2(),Error(Mt(418));for(;e;)A2(t,e),e=Us(e.nextSibling)}if(hO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Mt(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ni=Us(t.nextSibling);break t}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ni=null}}else ni=si?Us(t.stateNode.nextSibling):null;return!0}function P2(){for(var t=ni;t;)t=Us(t.nextSibling)}function ic(){ni=si=null,Ke=!1}function PE(t){Yi===null?Yi=[t]:Yi.push(t)}var s6=is.ReactCurrentBatchConfig;function Gi(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $g=aa(null),Wg=null,Bl=null,RE=null;function OE(){RE=Bl=Wg=null}function ME(t){var e=$g.current;$e($g),t._currentValue=e}function m_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yl(t,e){Wg=t,RE=Bl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jr=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(RE!==t)if(t={context:t,memoizedValue:e,next:null},Bl===null){if(Wg===null)throw Error(Mt(308));Bl=t,Wg.dependencies={lanes:0,firstContext:t}}else Bl=Bl.next=t;return e}var Xa=null;function NE(t){Xa===null?Xa=[t]:Xa.push(t)}function R2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,NE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ks=!1;function DE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ho(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qo(t,n)}return i=r.interleaved,i===null?(e.next=e,NE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qo(t,n)}function dg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xE(t,n)}}function fO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hg(t,e,n,r){var i=t.updateQueue;ks=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,a===null?o=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=c))}if(o!==null){var v=i.baseState;a=0,f=h=c=null,u=o;do{var g=u.lane,x=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var m=t,E=u;switch(g=e,x=n,E.tag){case 1:if(m=E.payload,typeof m=="function"){v=m.call(x,v,g);break t}v=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=E.payload,g=typeof m=="function"?m.call(x,v,g):m,g==null)break t;v=en({},v,g);break t;case 2:ks=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else x={eventTime:x,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=x,c=v):f=f.next=x,a|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);mu|=a,t.lanes=a,t.memoizedState=v}}function dO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Mt(191,i));i.call(r)}}}var M2=new RL.Component().refs;function y_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ny={isMounted:function(t){return(t=t._reactInternals)?Du(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cr(),i=$s(t),o=Ho(r,i);o.payload=e,n!=null&&(o.callback=n),e=zs(t,o,i),e!==null&&(Ji(e,t,i,r),dg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cr(),i=$s(t),o=Ho(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zs(t,o,i),e!==null&&(Ji(e,t,i,r),dg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cr(),r=$s(t),i=Ho(n,r);i.tag=2,e!=null&&(i.callback=e),e=zs(t,i,r),e!==null&&(Ji(e,t,r,n),dg(e,t,r))}};function pO(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Xf(n,r)||!Xf(i,o):!0}function N2(t,e,n){var r=!1,i=Js,o=e.contextType;return typeof o=="object"&&o!==null?o=Pi(o):(i=zr(e)?pu:fr.current,r=e.contextTypes,o=(r=r!=null)?rc(t,i):Js),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ny,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ny.enqueueReplaceState(e,e.state,null)}function w_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=M2,DE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pi(o):(o=zr(e)?pu:fr.current,i.context=rc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(y_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ny.enqueueReplaceState(i,i.state,null),Hg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Mt(309));var r=n.stateNode}if(!r)throw Error(Mt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=i.refs;u===M2&&(u=i.refs={}),a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Mt(284));if(!n._owner)throw Error(Mt(290,t))}return t}function Bv(t,e){throw t=Object.prototype.toString.call(e),Error(Mt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gO(t){var e=t._init;return e(t._payload)}function D2(t){function e(C,_){if(t){var T=C.deletions;T===null?(C.deletions=[_],C.flags|=16):T.push(_)}}function n(C,_){if(!t)return null;for(;_!==null;)e(C,_),_=_.sibling;return null}function r(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function i(C,_){return C=Ws(C,_),C.index=0,C.sibling=null,C}function o(C,_,T){return C.index=T,t?(T=C.alternate,T!==null?(T=T.index,T<_?(C.flags|=2,_):T):(C.flags|=2,_)):(C.flags|=1048576,_)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function u(C,_,T,L){return _===null||_.tag!==6?(_=Ob(T,C.mode,L),_.return=C,_):(_=i(_,T),_.return=C,_)}function c(C,_,T,L){var j=T.type;return j===Rl?f(C,_,T.props.children,L,T.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ts&&gO(j)===_.type)?(L=i(_,T.props),L.ref=Gh(C,_,T),L.return=C,L):(L=wg(T.type,T.key,T.props,null,C.mode,L),L.ref=Gh(C,_,T),L.return=C,L)}function h(C,_,T,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Mb(T,C.mode,L),_.return=C,_):(_=i(_,T.children||[]),_.return=C,_)}function f(C,_,T,L,j){return _===null||_.tag!==7?(_=su(T,C.mode,L,j),_.return=C,_):(_=i(_,T),_.return=C,_)}function v(C,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ob(""+_,C.mode,T),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Iv:return T=wg(_.type,_.key,_.props,null,C.mode,T),T.ref=Gh(C,null,_),T.return=C,T;case Pl:return _=Mb(_,C.mode,T),_.return=C,_;case Ts:var L=_._init;return v(C,L(_._payload),T)}if(sf(_)||zh(_))return _=su(_,C.mode,T,null),_.return=C,_;Bv(C,_)}return null}function g(C,_,T,L){var j=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:u(C,_,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Iv:return T.key===j?c(C,_,T,L):null;case Pl:return T.key===j?h(C,_,T,L):null;case Ts:return j=T._init,g(C,_,j(T._payload),L)}if(sf(T)||zh(T))return j!==null?null:f(C,_,T,L,null);Bv(C,T)}return null}function x(C,_,T,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return C=C.get(T)||null,u(_,C,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Iv:return C=C.get(L.key===null?T:L.key)||null,c(_,C,L,j);case Pl:return C=C.get(L.key===null?T:L.key)||null,h(_,C,L,j);case Ts:var z=L._init;return x(C,_,T,z(L._payload),j)}if(sf(L)||zh(L))return C=C.get(T)||null,f(_,C,L,j,null);Bv(_,L)}return null}function m(C,_,T,L){for(var j=null,z=null,$=_,D=_=0,P=null;$!==null&&D<T.length;D++){$.index>D?(P=$,$=null):P=$.sibling;var I=g(C,$,T[D],L);if(I===null){$===null&&($=P);break}t&&$&&I.alternate===null&&e(C,$),_=o(I,_,D),z===null?j=I:z.sibling=I,z=I,$=P}if(D===T.length)return n(C,$),Ke&&La(C,D),j;if($===null){for(;D<T.length;D++)$=v(C,T[D],L),$!==null&&(_=o($,_,D),z===null?j=$:z.sibling=$,z=$);return Ke&&La(C,D),j}for($=r(C,$);D<T.length;D++)P=x($,C,D,T[D],L),P!==null&&(t&&P.alternate!==null&&$.delete(P.key===null?D:P.key),_=o(P,_,D),z===null?j=P:z.sibling=P,z=P);return t&&$.forEach(function(A){return e(C,A)}),Ke&&La(C,D),j}function E(C,_,T,L){var j=zh(T);if(typeof j!="function")throw Error(Mt(150));if(T=j.call(T),T==null)throw Error(Mt(151));for(var z=j=null,$=_,D=_=0,P=null,I=T.next();$!==null&&!I.done;D++,I=T.next()){$.index>D?(P=$,$=null):P=$.sibling;var A=g(C,$,I.value,L);if(A===null){$===null&&($=P);break}t&&$&&A.alternate===null&&e(C,$),_=o(A,_,D),z===null?j=A:z.sibling=A,z=A,$=P}if(I.done)return n(C,$),Ke&&La(C,D),j;if($===null){for(;!I.done;D++,I=T.next())I=v(C,I.value,L),I!==null&&(_=o(I,_,D),z===null?j=I:z.sibling=I,z=I);return Ke&&La(C,D),j}for($=r(C,$);!I.done;D++,I=T.next())I=x($,C,D,I.value,L),I!==null&&(t&&I.alternate!==null&&$.delete(I.key===null?D:I.key),_=o(I,_,D),z===null?j=I:z.sibling=I,z=I);return t&&$.forEach(function(k){return e(C,k)}),Ke&&La(C,D),j}function R(C,_,T,L){if(typeof T=="object"&&T!==null&&T.type===Rl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Iv:t:{for(var j=T.key,z=_;z!==null;){if(z.key===j){if(j=T.type,j===Rl){if(z.tag===7){n(C,z.sibling),_=i(z,T.props.children),_.return=C,C=_;break t}}else if(z.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ts&&gO(j)===z.type){n(C,z.sibling),_=i(z,T.props),_.ref=Gh(C,z,T),_.return=C,C=_;break t}n(C,z);break}else e(C,z);z=z.sibling}T.type===Rl?(_=su(T.props.children,C.mode,L,T.key),_.return=C,C=_):(L=wg(T.type,T.key,T.props,null,C.mode,L),L.ref=Gh(C,_,T),L.return=C,C=L)}return a(C);case Pl:t:{for(z=T.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(C,_.sibling),_=i(_,T.children||[]),_.return=C,C=_;break t}else{n(C,_);break}else e(C,_);_=_.sibling}_=Mb(T,C.mode,L),_.return=C,C=_}return a(C);case Ts:return z=T._init,R(C,_,z(T._payload),L)}if(sf(T))return m(C,_,T,L);if(zh(T))return E(C,_,T,L);Bv(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(C,_.sibling),_=i(_,T),_.return=C,C=_):(n(C,_),_=Ob(T,C.mode,L),_.return=C,C=_),a(C)):n(C,_)}return R}var oc=D2(!0),L2=D2(!1),jd={},wo=aa(jd),Jf=aa(jd),Zf=aa(jd);function Ya(t){if(t===jd)throw Error(Mt(174));return t}function LE(t,e){switch(Fe(Zf,e),Fe(Jf,t),Fe(wo,jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Q1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Q1(e,t)}$e(wo),Fe(wo,e)}function sc(){$e(wo),$e(Jf),$e(Zf)}function F2(t){Ya(Zf.current);var e=Ya(wo.current),n=Q1(e,t.type);e!==n&&(Fe(Jf,t),Fe(wo,n))}function FE(t){Jf.current===t&&($e(wo),$e(Jf))}var Qe=aa(0);function Gg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kb=[];function jE(){for(var t=0;t<kb.length;t++)kb[t]._workInProgressVersionPrimary=null;kb.length=0}var pg=is.ReactCurrentDispatcher,Cb=is.ReactCurrentBatchConfig,gu=0,tn=null,bn=null,Pn=null,Kg=!1,xf=!1,td=0,a6=0;function nr(){throw Error(Mt(321))}function BE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!eo(t[n],e[n]))return!1;return!0}function UE(t,e,n,r,i,o){if(gu=o,tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pg.current=t===null||t.memoizedState===null?h6:f6,t=n(r,i),xf){o=0;do{if(xf=!1,td=0,25<=o)throw Error(Mt(301));o+=1,Pn=bn=null,e.updateQueue=null,pg.current=d6,t=n(r,i)}while(xf)}if(pg.current=Xg,e=bn!==null&&bn.next!==null,gu=0,Pn=bn=tn=null,Kg=!1,e)throw Error(Mt(300));return t}function zE(){var t=td!==0;return td=0,t}function po(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?tn.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Ri(){if(bn===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Pn===null?tn.memoizedState:Pn.next;if(e!==null)Pn=e,bn=t;else{if(t===null)throw Error(Mt(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Pn===null?tn.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function ed(t,e){return typeof e=="function"?e(t):e}function Ib(t){var e=Ri(),n=e.queue;if(n===null)throw Error(Mt(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=a=null,c=null,h=o;do{var f=h.lane;if((gu&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var v={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=v,a=r):c=c.next=v,tn.lanes|=f,mu|=f}h=h.next}while(h!==null&&h!==o);c===null?a=r:c.next=u,eo(r,e.memoizedState)||(jr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,tn.lanes|=o,mu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ab(t){var e=Ri(),n=e.queue;if(n===null)throw Error(Mt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);eo(o,e.memoizedState)||(jr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function j2(){}function B2(t,e){var n=tn,r=Ri(),i=e(),o=!eo(r.memoizedState,i);if(o&&(r.memoizedState=i,jr=!0),r=r.queue,VE(V2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,nd(9,z2.bind(null,n,r,i,e),void 0,null),Ln===null)throw Error(Mt(349));gu&30||U2(n,e,i)}return i}function U2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z2(t,e,n,r){e.value=n,e.getSnapshot=r,$2(e)&&W2(t)}function V2(t,e,n){return n(function(){$2(e)&&W2(t)})}function $2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eo(t,n)}catch{return!0}}function W2(t){var e=Qo(t,1);e!==null&&Ji(e,t,1,-1)}function mO(t){var e=po();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:t},e.queue=t,t=t.dispatch=c6.bind(null,tn,t),[e.memoizedState,t]}function nd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H2(){return Ri().memoizedState}function vg(t,e,n,r){var i=po();tn.flags|=t,i.memoizedState=nd(1|e,n,void 0,r===void 0?null:r)}function ry(t,e,n,r){var i=Ri();r=r===void 0?null:r;var o=void 0;if(bn!==null){var a=bn.memoizedState;if(o=a.destroy,r!==null&&BE(r,a.deps)){i.memoizedState=nd(e,n,o,r);return}}tn.flags|=t,i.memoizedState=nd(1|e,n,o,r)}function yO(t,e){return vg(8390656,8,t,e)}function VE(t,e){return ry(2048,8,t,e)}function G2(t,e){return ry(4,2,t,e)}function K2(t,e){return ry(4,4,t,e)}function X2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y2(t,e,n){return n=n!=null?n.concat([t]):null,ry(4,4,X2.bind(null,e,t),n)}function $E(){}function q2(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Q2(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J2(t,e,n){return gu&21?(eo(n,e)||(n=e2(),tn.lanes|=n,mu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jr=!0),t.memoizedState=n)}function u6(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Cb.transition;Cb.transition={};try{t(!1),e()}finally{Oe=n,Cb.transition=r}}function Z2(){return Ri().memoizedState}function l6(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tF(t))eF(e,n);else if(n=R2(t,e,n,r),n!==null){var i=Cr();Ji(n,t,r,i),nF(n,e,r)}}function c6(t,e,n){var r=$s(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tF(t))eF(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,eo(u,a)){var c=e.interleaved;c===null?(i.next=i,NE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=R2(t,e,i,r),n!==null&&(i=Cr(),Ji(n,t,r,i),nF(n,e,r))}}function tF(t){var e=t.alternate;return t===tn||e!==null&&e===tn}function eF(t,e){xf=Kg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xE(t,n)}}var Xg={readContext:Pi,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},h6={readContext:Pi,useCallback:function(t,e){return po().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:yO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vg(4194308,4,X2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vg(4194308,4,t,e)},useInsertionEffect:function(t,e){return vg(4,2,t,e)},useMemo:function(t,e){var n=po();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=po();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l6.bind(null,tn,t),[r.memoizedState,t]},useRef:function(t){var e=po();return t={current:t},e.memoizedState=t},useState:mO,useDebugValue:$E,useDeferredValue:function(t){return po().memoizedState=t},useTransition:function(){var t=mO(!1),e=t[0];return t=u6.bind(null,t[1]),po().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tn,i=po();if(Ke){if(n===void 0)throw Error(Mt(407));n=n()}else{if(n=e(),Ln===null)throw Error(Mt(349));gu&30||U2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,yO(V2.bind(null,r,o,t),[t]),r.flags|=2048,nd(9,z2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=po(),e=Ln.identifierPrefix;if(Ke){var n=zo,r=Uo;n=(r&~(1<<32-Qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=td++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=a6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f6={readContext:Pi,useCallback:q2,useContext:Pi,useEffect:VE,useImperativeHandle:Y2,useInsertionEffect:G2,useLayoutEffect:K2,useMemo:Q2,useReducer:Ib,useRef:H2,useState:function(){return Ib(ed)},useDebugValue:$E,useDeferredValue:function(t){var e=Ri();return J2(e,bn.memoizedState,t)},useTransition:function(){var t=Ib(ed)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:j2,useSyncExternalStore:B2,useId:Z2,unstable_isNewReconciler:!1},d6={readContext:Pi,useCallback:q2,useContext:Pi,useEffect:VE,useImperativeHandle:Y2,useInsertionEffect:G2,useLayoutEffect:K2,useMemo:Q2,useReducer:Ab,useRef:H2,useState:function(){return Ab(ed)},useDebugValue:$E,useDeferredValue:function(t){var e=Ri();return bn===null?e.memoizedState=t:J2(e,bn.memoizedState,t)},useTransition:function(){var t=Ab(ed)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:j2,useSyncExternalStore:B2,useId:Z2,unstable_isNewReconciler:!1};function ac(t,e){try{var n="",r=e;do n+=zH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function x_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p6=typeof WeakMap=="function"?WeakMap:Map;function rF(t,e,n){n=Ho(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qg||(qg=!0,P_=r),x_(t,e)},n}function iF(t,e,n){n=Ho(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){x_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){x_(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function wO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new p6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=I6.bind(null,t,e,n),e.then(t,t))}function xO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ho(-1,1),e.tag=2,zs(n,e,1))),n.lanes|=1),t)}var v6=is.ReactCurrentOwner,jr=!1;function xr(t,e,n,r){e.child=t===null?L2(e,null,n,r):oc(e,t.child,n,r)}function _O(t,e,n,r,i){n=n.render;var o=e.ref;return Yl(e,i),r=UE(t,e,n,r,o,i),n=zE(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Ke&&n&&IE(e),e.flags|=1,xr(t,e,r,i),e.child)}function SO(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!QE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,oF(t,e,o,r,i)):(t=wg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xf,n(a,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=Ws(o,r),t.ref=e.ref,t.return=e,e.child=t}function oF(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Xf(o,r)&&t.ref===e.ref)if(jr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(jr=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return b_(t,e,n,r,i)}function sF(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(zl,Qr),Qr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(zl,Qr),Qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(zl,Qr),Qr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(zl,Qr),Qr|=r;return xr(t,e,i,n),e.child}function aF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function b_(t,e,n,r,i){var o=zr(n)?pu:fr.current;return o=rc(e,o),Yl(e,i),n=UE(t,e,n,r,o,i),r=zE(),t!==null&&!jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Ke&&r&&IE(e),e.flags|=1,xr(t,e,n,i),e.child)}function EO(t,e,n,r,i){if(zr(n)){var o=!0;Ug(e)}else o=!1;if(Yl(e,i),e.stateNode===null)gg(t,e),N2(e,n,r),w_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Pi(h):(h=zr(n)?pu:fr.current,h=rc(e,h));var f=n.getDerivedStateFromProps,v=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==h)&&vO(e,a,r,h),ks=!1;var g=e.memoizedState;a.state=g,Hg(e,r,a,i),c=e.memoizedState,u!==r||g!==c||Ur.current||ks?(typeof f=="function"&&(y_(e,n,f,r),c=e.memoizedState),(u=ks||pO(e,n,u,r,g,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,O2(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Gi(e.type,u),a.props=h,v=e.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pi(c):(c=zr(n)?pu:fr.current,c=rc(e,c));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==v||g!==c)&&vO(e,a,r,c),ks=!1,g=e.memoizedState,a.state=g,Hg(e,r,a,i);var m=e.memoizedState;u!==v||g!==m||Ur.current||ks?(typeof x=="function"&&(y_(e,n,x,r),m=e.memoizedState),(h=ks||pO(e,n,h,r,g,m,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return __(t,e,n,r,o,i)}function __(t,e,n,r,i,o){aF(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&lO(e,n,!1),Jo(t,e,o);r=e.stateNode,v6.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=oc(e,t.child,null,o),e.child=oc(e,null,u,o)):xr(t,e,u,o),e.memoizedState=r.state,i&&lO(e,n,!0),e.child}function uF(t){var e=t.stateNode;e.pendingContext?uO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uO(t,e.context,!1),LE(t,e.containerInfo)}function TO(t,e,n,r,i){return ic(),PE(i),e.flags|=256,xr(t,e,n,r),e.child}var S_={dehydrated:null,treeContext:null,retryLane:0};function E_(t){return{baseLanes:t,cachePool:null,transitions:null}}function lF(t,e,n){var r=e.pendingProps,i=Qe.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Qe,i&1),t===null)return g_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=sy(a,r,0,null),t=su(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=E_(n),e.memoizedState=S_,t):WE(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return g6(t,e,a,r,u,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ws(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Ws(u,o):(o=su(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?E_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=S_,r}return o=t.child,t=o.sibling,r=Ws(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function WE(t,e){return e=sy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uv(t,e,n,r){return r!==null&&PE(r),oc(e,t.child,null,n),t=WE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g6(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Pb(Error(Mt(422))),Uv(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=sy({mode:"visible",children:r.children},i,0,null),o=su(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&oc(e,t.child,null,a),e.child.memoizedState=E_(a),e.memoizedState=S_,o);if(!(e.mode&1))return Uv(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(Mt(419)),r=Pb(o,r,void 0),Uv(t,e,a,r)}if(u=(a&t.childLanes)!==0,jr||u){if(r=Ln,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qo(t,i),Ji(r,t,i,-1))}return qE(),r=Pb(Error(Mt(421))),Uv(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ni=Us(i.nextSibling),si=e,Ke=!0,Yi=null,t!==null&&(yi[wi++]=Uo,yi[wi++]=zo,yi[wi++]=vu,Uo=t.id,zo=t.overflow,vu=e),e=WE(e,r.children),e.flags|=4096,e)}function kO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),m_(t.return,e,n)}function Rb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function cF(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xr(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kO(t,n,e);else if(t.tag===19)kO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rb(e,!0,n,null,o);break;case"together":Rb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Mt(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m6(t,e,n){switch(e.tag){case 3:uF(e),ic();break;case 5:F2(e);break;case 1:zr(e.type)&&Ug(e);break;case 4:LE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe($g,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?lF(t,e,n):(Fe(Qe,Qe.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,sF(t,e,n)}return Jo(t,e,n)}var hF,T_,fF,dF;hF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};T_=function(){};fF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ya(wo.current);var o=null;switch(n){case"input":i=K1(t,i),r=K1(t,r),o=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),o=[];break;case"textarea":i=q1(t,i),r=q1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jg)}J1(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(zf.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(zf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ue("scroll",t),o||u===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};dF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kh(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function y6(t,e,n){var r=e.pendingProps;switch(AE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(e),null;case 1:return zr(e.type)&&Bg(),rr(e),null;case 3:return r=e.stateNode,sc(),$e(Ur),$e(fr),jE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yi!==null&&(M_(Yi),Yi=null))),T_(t,e),rr(e),null;case 5:FE(e);var i=Ya(Zf.current);if(n=e.type,t!==null&&e.stateNode!=null)fF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Mt(166));return rr(e),null}if(t=Ya(wo.current),jv(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[go]=e,r[Qf]=o,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<uf.length;i++)Ue(uf[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":DR(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":FR(r,o),Ue("invalid",r)}J1(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Fv(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Fv(r.textContent,u,t),i=["children",""+u]):zf.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Av(r),LR(r,o,!0);break;case"textarea":Av(r),jR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[go]=e,t[Qf]=r,hF(t,e,!1,!1),e.stateNode=t;t:{switch(a=Z1(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),i=r;break;case"iframe":case"object":case"embed":Ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<uf.length;i++)Ue(uf[i],t);i=r;break;case"source":Ue("error",t),i=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),i=r;break;case"details":Ue("toggle",t),i=r;break;case"input":DR(t,r),i=K1(t,r),Ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=en({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":FR(t,r),i=q1(t,r),Ue("invalid",t);break;default:i=r}J1(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?$L(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zL(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vf(t,c):typeof c=="number"&&Vf(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zf.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ue("scroll",t):c!=null&&pE(t,o,c,a))}switch(n){case"input":Av(t),LR(t,r,!1);break;case"textarea":Av(t),jR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Hl(t,!!r.multiple,o,!1):r.defaultValue!=null&&Hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rr(e),null;case 6:if(t&&e.stateNode!=null)dF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Mt(166));if(n=Ya(Zf.current),Ya(wo.current),jv(e)){if(r=e.stateNode,n=e.memoizedProps,r[go]=e,(o=r.nodeValue!==n)&&(t=si,t!==null))switch(t.tag){case 3:Fv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[go]=e,e.stateNode=r}return rr(e),null;case 13:if($e(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&ni!==null&&e.mode&1&&!(e.flags&128))P2(),ic(),e.flags|=98560,o=!1;else if(o=jv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Mt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Mt(317));o[go]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rr(e),o=!1}else Yi!==null&&(M_(Yi),Yi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?Sn===0&&(Sn=3):qE())),e.updateQueue!==null&&(e.flags|=4),rr(e),null);case 4:return sc(),T_(t,e),t===null&&Yf(e.stateNode.containerInfo),rr(e),null;case 10:return ME(e.type._context),rr(e),null;case 17:return zr(e.type)&&Bg(),rr(e),null;case 19:if($e(Qe),o=e.memoizedState,o===null)return rr(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Kh(o,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Gg(t),a!==null){for(e.flags|=128,Kh(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&ln()>uc&&(e.flags|=128,r=!0,Kh(o,!1),e.lanes=4194304)}else{if(!r)if(t=Gg(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ke)return rr(e),null}else 2*ln()-o.renderingStartTime>uc&&n!==1073741824&&(e.flags|=128,r=!0,Kh(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),e):(rr(e),null);case 22:case 23:return YE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qr&1073741824&&(rr(e),e.subtreeFlags&6&&(e.flags|=8192)):rr(e),null;case 24:return null;case 25:return null}throw Error(Mt(156,e.tag))}function w6(t,e){switch(AE(e),e.tag){case 1:return zr(e.type)&&Bg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sc(),$e(Ur),$e(fr),jE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return FE(e),null;case 13:if($e(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Mt(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Qe),null;case 4:return sc(),null;case 10:return ME(e.type._context),null;case 22:case 23:return YE(),null;case 24:return null;default:return null}}var zv=!1,sr=!1,x6=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Ul(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(t,e,r)}else n.current=null}function k_(t,e,n){try{n()}catch(r){rn(t,e,r)}}var CO=!1;function b6(t,e){if(l_=Dg,t=m2(),CE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break t}var a=0,u=-1,c=-1,h=0,f=0,v=t,g=null;e:for(;;){for(var x;v!==n||i!==0&&v.nodeType!==3||(u=a+i),v!==o||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(x=v.firstChild)!==null;)g=v,v=x;for(;;){if(v===t)break e;if(g===n&&++h===i&&(u=a),g===o&&++f===r&&(c=a),(x=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=x}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(c_={focusedElem:t,selectionRange:n},Dg=!1,Ut=e;Ut!==null;)if(e=Ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ut=t;else for(;Ut!==null;){e=Ut;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var E=m.memoizedProps,R=m.memoizedState,C=e.stateNode,_=C.getSnapshotBeforeUpdate(e.elementType===e.type?E:Gi(e.type,E),R);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Mt(163))}}catch(L){rn(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Ut=t;break}Ut=e.return}return m=CO,CO=!1,m}function bf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&k_(e,n,o)}i=i.next}while(i!==r)}}function iy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function C_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pF(t){var e=t.alternate;e!==null&&(t.alternate=null,pF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[go],delete e[Qf],delete e[d_],delete e[r6],delete e[i6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vF(t){return t.tag===5||t.tag===3||t.tag===4}function IO(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jg));else if(r!==4&&(t=t.child,t!==null))for(I_(t,e,n),t=t.sibling;t!==null;)I_(t,e,n),t=t.sibling}function A_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(A_(t,e,n),t=t.sibling;t!==null;)A_(t,e,n),t=t.sibling}var $n=null,Xi=!1;function ys(t,e,n){for(n=n.child;n!==null;)gF(t,e,n),n=n.sibling}function gF(t,e,n){if(yo&&typeof yo.onCommitFiberUnmount=="function")try{yo.onCommitFiberUnmount(qm,n)}catch{}switch(n.tag){case 5:sr||Ul(n,e);case 6:var r=$n,i=Xi;$n=null,ys(t,e,n),$n=r,Xi=i,$n!==null&&(Xi?(t=$n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$n.removeChild(n.stateNode));break;case 18:$n!==null&&(Xi?(t=$n,n=n.stateNode,t.nodeType===8?Eb(t.parentNode,n):t.nodeType===1&&Eb(t,n),Gf(t)):Eb($n,n.stateNode));break;case 4:r=$n,i=Xi,$n=n.stateNode.containerInfo,Xi=!0,ys(t,e,n),$n=r,Xi=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&k_(n,e,a),i=i.next}while(i!==r)}ys(t,e,n);break;case 1:if(!sr&&(Ul(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){rn(n,e,u)}ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,ys(t,e,n),sr=r):ys(t,e,n);break;default:ys(t,e,n)}}function AO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x6),e.forEach(function(r){var i=P6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,u=a;t:for(;u!==null;){switch(u.tag){case 5:$n=u.stateNode,Xi=!1;break t;case 3:$n=u.stateNode.containerInfo,Xi=!0;break t;case 4:$n=u.stateNode.containerInfo,Xi=!0;break t}u=u.return}if($n===null)throw Error(Mt(160));gF(o,a,i),$n=null,Xi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){rn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mF(e,t),e=e.sibling}function mF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zi(e,t),fo(t),r&4){try{bf(3,t,t.return),iy(3,t)}catch(E){rn(t,t.return,E)}try{bf(5,t,t.return)}catch(E){rn(t,t.return,E)}}break;case 1:zi(e,t),fo(t),r&512&&n!==null&&Ul(n,n.return);break;case 5:if(zi(e,t),fo(t),r&512&&n!==null&&Ul(n,n.return),t.flags&32){var i=t.stateNode;try{Vf(i,"")}catch(E){rn(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&jL(i,o),Z1(u,a);var h=Z1(u,o);for(a=0;a<c.length;a+=2){var f=c[a],v=c[a+1];f==="style"?$L(i,v):f==="dangerouslySetInnerHTML"?zL(i,v):f==="children"?Vf(i,v):pE(i,f,v,h)}switch(u){case"input":X1(i,o);break;case"textarea":BL(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Hl(i,!!o.multiple,x,!1):g!==!!o.multiple&&(o.defaultValue!=null?Hl(i,!!o.multiple,o.defaultValue,!0):Hl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qf]=o}catch(E){rn(t,t.return,E)}}break;case 6:if(zi(e,t),fo(t),r&4){if(t.stateNode===null)throw Error(Mt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){rn(t,t.return,E)}}break;case 3:if(zi(e,t),fo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gf(e.containerInfo)}catch(E){rn(t,t.return,E)}break;case 4:zi(e,t),fo(t);break;case 13:zi(e,t),fo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(KE=ln())),r&4&&AO(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(sr=(h=sr)||f,zi(e,t),sr=h):zi(e,t),fo(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Ut=t,f=t.child;f!==null;){for(v=Ut=f;Ut!==null;){switch(g=Ut,x=g.child,g.tag){case 0:case 11:case 14:case 15:bf(4,g,g.return);break;case 1:Ul(g,g.return);var m=g.stateNode;if(typeof m.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(E){rn(r,n,E)}}break;case 5:Ul(g,g.return);break;case 22:if(g.memoizedState!==null){RO(v);continue}}x!==null?(x.return=g,Ut=x):RO(v)}f=f.sibling}t:for(f=null,v=t;;){if(v.tag===5){if(f===null){f=v;try{i=v.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=VL("display",a))}catch(E){rn(t,t.return,E)}}}else if(v.tag===6){if(f===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(E){rn(t,t.return,E)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break t;for(;v.sibling===null;){if(v.return===null||v.return===t)break t;f===v&&(f=null),v=v.return}f===v&&(f=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:zi(e,t),fo(t),r&4&&AO(t);break;case 21:break;default:zi(e,t),fo(t)}}function fo(t){var e=t.flags;if(e&2){try{t:{for(var n=t.return;n!==null;){if(vF(n)){var r=n;break t}n=n.return}throw Error(Mt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vf(i,""),r.flags&=-33);var o=IO(t);A_(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=IO(t);I_(t,u,a);break;default:throw Error(Mt(161))}}catch(c){rn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _6(t,e,n){Ut=t,yF(t)}function yF(t,e,n){for(var r=(t.mode&1)!==0;Ut!==null;){var i=Ut,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||zv;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||sr;u=zv;var h=sr;if(zv=a,(sr=c)&&!h)for(Ut=i;Ut!==null;)a=Ut,c=a.child,a.tag===22&&a.memoizedState!==null?OO(i):c!==null?(c.return=a,Ut=c):OO(i);for(;o!==null;)Ut=o,yF(o),o=o.sibling;Ut=i,zv=u,sr=h}PO(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ut=o):PO(t)}}function PO(t){for(;Ut!==null;){var e=Ut;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||iy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&dO(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dO(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var v=f.dehydrated;v!==null&&Gf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Mt(163))}sr||e.flags&512&&C_(e)}catch(g){rn(e,e.return,g)}}if(e===t){Ut=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ut=n;break}Ut=e.return}}function RO(t){for(;Ut!==null;){var e=Ut;if(e===t){Ut=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ut=n;break}Ut=e.return}}function OO(t){for(;Ut!==null;){var e=Ut;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iy(4,e)}catch(c){rn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){rn(e,i,c)}}var o=e.return;try{C_(e)}catch(c){rn(e,o,c)}break;case 5:var a=e.return;try{C_(e)}catch(c){rn(e,a,c)}}}catch(c){rn(e,e.return,c)}if(e===t){Ut=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Ut=u;break}Ut=e.return}}var S6=Math.ceil,Yg=is.ReactCurrentDispatcher,HE=is.ReactCurrentOwner,ki=is.ReactCurrentBatchConfig,xe=0,Ln=null,pn=null,Xn=0,Qr=0,zl=aa(0),Sn=0,rd=null,mu=0,oy=0,GE=0,_f=null,Fr=null,KE=0,uc=1/0,Fo=null,qg=!1,P_=null,Vs=null,Vv=!1,Ds=null,Qg=0,Sf=0,R_=null,mg=-1,yg=0;function Cr(){return xe&6?ln():mg!==-1?mg:mg=ln()}function $s(t){return t.mode&1?xe&2&&Xn!==0?Xn&-Xn:s6.transition!==null?(yg===0&&(yg=e2()),yg):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:u2(t.type)),t):1}function Ji(t,e,n,r){if(50<Sf)throw Sf=0,R_=null,Error(Mt(185));Dd(t,n,r),(!(xe&2)||t!==Ln)&&(t===Ln&&(!(xe&2)&&(oy|=n),Sn===4&&As(t,Xn)),Vr(t,r),n===1&&xe===0&&!(e.mode&1)&&(uc=ln()+500,ey&&ua()))}function Vr(t,e){var n=t.callbackNode;sG(t,e);var r=Ng(t,t===Ln?Xn:0);if(r===0)n!==null&&zR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zR(n),e===1)t.tag===0?o6(MO.bind(null,t)):C2(MO.bind(null,t)),e6(function(){!(xe&6)&&ua()}),n=null;else{switch(n2(r)){case 1:n=wE;break;case 4:n=ZL;break;case 16:n=Mg;break;case 536870912:n=t2;break;default:n=Mg}n=kF(n,wF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wF(t,e){if(mg=-1,yg=0,xe&6)throw Error(Mt(327));var n=t.callbackNode;if(ql()&&t.callbackNode!==n)return null;var r=Ng(t,t===Ln?Xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jg(t,r);else{e=r;var i=xe;xe|=2;var o=bF();(Ln!==t||Xn!==e)&&(Fo=null,uc=ln()+500,ou(t,e));do try{k6();break}catch(u){xF(t,u)}while(1);OE(),Yg.current=o,xe=i,pn!==null?e=0:(Ln=null,Xn=0,e=Sn)}if(e!==0){if(e===2&&(i=i_(t),i!==0&&(r=i,e=O_(t,i))),e===1)throw n=rd,ou(t,0),As(t,r),Vr(t,ln()),n;if(e===6)As(t,r);else{if(i=t.current.alternate,!(r&30)&&!E6(i)&&(e=Jg(t,r),e===2&&(o=i_(t),o!==0&&(r=o,e=O_(t,o))),e===1))throw n=rd,ou(t,0),As(t,r),Vr(t,ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Mt(345));case 2:Fa(t,Fr,Fo);break;case 3:if(As(t,r),(r&130023424)===r&&(e=KE+500-ln(),10<e)){if(Ng(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=f_(Fa.bind(null,t,Fr,Fo),e);break}Fa(t,Fr,Fo);break;case 4:if(As(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Qi(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S6(r/1960))-r,10<r){t.timeoutHandle=f_(Fa.bind(null,t,Fr,Fo),r);break}Fa(t,Fr,Fo);break;case 5:Fa(t,Fr,Fo);break;default:throw Error(Mt(329))}}}return Vr(t,ln()),t.callbackNode===n?wF.bind(null,t):null}function O_(t,e){var n=_f;return t.current.memoizedState.isDehydrated&&(ou(t,e).flags|=256),t=Jg(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&M_(e)),t}function M_(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function E6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!eo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~GE,e&=~oy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qi(e),r=1<<n;t[n]=-1,e&=~r}}function MO(t){if(xe&6)throw Error(Mt(327));ql();var e=Ng(t,0);if(!(e&1))return Vr(t,ln()),null;var n=Jg(t,e);if(t.tag!==0&&n===2){var r=i_(t);r!==0&&(e=r,n=O_(t,r))}if(n===1)throw n=rd,ou(t,0),As(t,e),Vr(t,ln()),n;if(n===6)throw Error(Mt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,Fr,Fo),Vr(t,ln()),null}function XE(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(uc=ln()+500,ey&&ua())}}function yu(t){Ds!==null&&Ds.tag===0&&!(xe&6)&&ql();var e=xe;xe|=1;var n=ki.transition,r=Oe;try{if(ki.transition=null,Oe=1,t)return t()}finally{Oe=r,ki.transition=n,xe=e,!(xe&6)&&ua()}}function YE(){Qr=zl.current,$e(zl)}function ou(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t6(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(AE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bg();break;case 3:sc(),$e(Ur),$e(fr),jE();break;case 5:FE(r);break;case 4:sc();break;case 13:$e(Qe);break;case 19:$e(Qe);break;case 10:ME(r.type._context);break;case 22:case 23:YE()}n=n.return}if(Ln=t,pn=t=Ws(t.current,null),Xn=Qr=e,Sn=0,rd=null,GE=oy=mu=0,Fr=_f=null,Xa!==null){for(e=0;e<Xa.length;e++)if(n=Xa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Xa=null}return t}function xF(t,e){do{var n=pn;try{if(OE(),pg.current=Xg,Kg){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kg=!1}if(gu=0,Pn=bn=tn=null,xf=!1,td=0,HE.current=null,n===null||n.return===null){Sn=1,rd=e,pn=null;break}t:{var o=t,a=n.return,u=n,c=e;if(e=Xn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=u,v=f.tag;if(!(f.mode&1)&&(v===0||v===11||v===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=xO(a);if(x!==null){x.flags&=-257,bO(x,a,u,o,e),x.mode&1&&wO(o,h,e),e=x,c=h;var m=e.updateQueue;if(m===null){var E=new Set;E.add(c),e.updateQueue=E}else m.add(c);break t}else{if(!(e&1)){wO(o,h,e),qE();break t}c=Error(Mt(426))}}else if(Ke&&u.mode&1){var R=xO(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),bO(R,a,u,o,e),PE(ac(c,u));break t}}o=c=ac(c,u),Sn!==4&&(Sn=2),_f===null?_f=[o]:_f.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var C=rF(o,c,e);fO(o,C);break t;case 1:u=c;var _=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Vs===null||!Vs.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var L=iF(o,u,e);fO(o,L);break t}}o=o.return}while(o!==null)}SF(n)}catch(j){e=j,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(1)}function bF(){var t=Yg.current;return Yg.current=Xg,t===null?Xg:t}function qE(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Ln===null||!(mu&268435455)&&!(oy&268435455)||As(Ln,Xn)}function Jg(t,e){var n=xe;xe|=2;var r=bF();(Ln!==t||Xn!==e)&&(Fo=null,ou(t,e));do try{T6();break}catch(i){xF(t,i)}while(1);if(OE(),xe=n,Yg.current=r,pn!==null)throw Error(Mt(261));return Ln=null,Xn=0,Sn}function T6(){for(;pn!==null;)_F(pn)}function k6(){for(;pn!==null&&!QH();)_F(pn)}function _F(t){var e=TF(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,e===null?SF(t):pn=e,HE.current=null}function SF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w6(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,pn=null;return}}else if(n=y6(n,e,Qr),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Fa(t,e,n){var r=Oe,i=ki.transition;try{ki.transition=null,Oe=1,C6(t,e,n,r)}finally{ki.transition=i,Oe=r}return null}function C6(t,e,n,r){do ql();while(Ds!==null);if(xe&6)throw Error(Mt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Mt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(aG(t,o),t===Ln&&(pn=Ln=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vv||(Vv=!0,kF(Mg,function(){return ql(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ki.transition,ki.transition=null;var a=Oe;Oe=1;var u=xe;xe|=4,HE.current=null,b6(t,n),mF(n,t),KG(c_),Dg=!!l_,c_=l_=null,t.current=n,_6(n),JH(),xe=u,Oe=a,ki.transition=o}else t.current=n;if(Vv&&(Vv=!1,Ds=t,Qg=i),o=t.pendingLanes,o===0&&(Vs=null),eG(n.stateNode),Vr(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qg)throw qg=!1,t=P_,P_=null,t;return Qg&1&&t.tag!==0&&ql(),o=t.pendingLanes,o&1?t===R_?Sf++:(Sf=0,R_=t):Sf=0,ua(),null}function ql(){if(Ds!==null){var t=n2(Qg),e=ki.transition,n=Oe;try{if(ki.transition=null,Oe=16>t?16:t,Ds===null)var r=!1;else{if(t=Ds,Ds=null,Qg=0,xe&6)throw Error(Mt(331));var i=xe;for(xe|=4,Ut=t.current;Ut!==null;){var o=Ut,a=o.child;if(Ut.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(Ut=h;Ut!==null;){var f=Ut;switch(f.tag){case 0:case 11:case 15:bf(8,f,o)}var v=f.child;if(v!==null)v.return=f,Ut=v;else for(;Ut!==null;){f=Ut;var g=f.sibling,x=f.return;if(pF(f),f===h){Ut=null;break}if(g!==null){g.return=x,Ut=g;break}Ut=x}}}var m=o.alternate;if(m!==null){var E=m.child;if(E!==null){m.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}Ut=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ut=a;else t:for(;Ut!==null;){if(o=Ut,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bf(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,Ut=C;break t}Ut=o.return}}var _=t.current;for(Ut=_;Ut!==null;){a=Ut;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,Ut=T;else t:for(a=_;Ut!==null;){if(u=Ut,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:iy(9,u)}}catch(j){rn(u,u.return,j)}if(u===a){Ut=null;break t}var L=u.sibling;if(L!==null){L.return=u.return,Ut=L;break t}Ut=u.return}}if(xe=i,ua(),yo&&typeof yo.onPostCommitFiberRoot=="function")try{yo.onPostCommitFiberRoot(qm,t)}catch{}r=!0}return r}finally{Oe=n,ki.transition=e}}return!1}function NO(t,e,n){e=ac(n,e),e=rF(t,e,1),t=zs(t,e,1),e=Cr(),t!==null&&(Dd(t,1,e),Vr(t,e))}function rn(t,e,n){if(t.tag===3)NO(t,t,n);else for(;e!==null;){if(e.tag===3){NO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=ac(n,t),t=iF(e,t,1),e=zs(e,t,1),t=Cr(),e!==null&&(Dd(e,1,t),Vr(e,t));break}}e=e.return}}function I6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(Xn&n)===n&&(Sn===4||Sn===3&&(Xn&130023424)===Xn&&500>ln()-KE?ou(t,0):GE|=n),Vr(t,e)}function EF(t,e){e===0&&(t.mode&1?(e=Ov,Ov<<=1,!(Ov&130023424)&&(Ov=4194304)):e=1);var n=Cr();t=Qo(t,e),t!==null&&(Dd(t,e,n),Vr(t,n))}function A6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EF(t,n)}function P6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Mt(314))}r!==null&&r.delete(e),EF(t,n)}var TF;TF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)jr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jr=!1,m6(t,e,n);jr=!!(t.flags&131072)}else jr=!1,Ke&&e.flags&1048576&&I2(e,Vg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gg(t,e),t=e.pendingProps;var i=rc(e,fr.current);Yl(e,n),i=UE(null,e,r,t,i,n);var o=zE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(o=!0,Ug(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DE(e),i.updater=ny,e.stateNode=i,i._reactInternals=e,w_(e,r,t,n),e=__(null,e,r,!0,o,n)):(e.tag=0,Ke&&o&&IE(e),xr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(gg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=O6(r),t=Gi(r,t),i){case 0:e=b_(null,e,r,t,n);break t;case 1:e=EO(null,e,r,t,n);break t;case 11:e=_O(null,e,r,t,n);break t;case 14:e=SO(null,e,r,Gi(r.type,t),n);break t}throw Error(Mt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),b_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),EO(t,e,r,i,n);case 3:t:{if(uF(e),t===null)throw Error(Mt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,O2(t,e),Hg(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ac(Error(Mt(423)),e),e=TO(t,e,r,n,i);break t}else if(r!==i){i=ac(Error(Mt(424)),e),e=TO(t,e,r,n,i);break t}else for(ni=Us(e.stateNode.containerInfo.firstChild),si=e,Ke=!0,Yi=null,n=L2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ic(),r===i){e=Jo(t,e,n);break t}xr(t,e,r,n)}e=e.child}return e;case 5:return F2(e),t===null&&g_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,h_(r,i)?a=null:o!==null&&h_(r,o)&&(e.flags|=32),aF(t,e),xr(t,e,a,n),e.child;case 6:return t===null&&g_(e),null;case 13:return lF(t,e,n);case 4:return LE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oc(e,null,r,n):xr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),_O(t,e,r,i,n);case 7:return xr(t,e,e.pendingProps,n),e.child;case 8:return xr(t,e,e.pendingProps.children,n),e.child;case 12:return xr(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Fe($g,r._currentValue),r._currentValue=a,o!==null)if(eo(o.value,a)){if(o.children===i.children&&!Ur.current){e=Jo(t,e,n);break t}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Ho(-1,n&-n),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),m_(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Mt(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),m_(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}xr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yl(e,n),i=Pi(i),r=r(i),e.flags|=1,xr(t,e,r,n),e.child;case 14:return r=e.type,i=Gi(r,e.pendingProps),i=Gi(r.type,i),SO(t,e,r,i,n);case 15:return oF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),gg(t,e),e.tag=1,zr(r)?(t=!0,Ug(e)):t=!1,Yl(e,n),N2(e,r,i),w_(e,r,i,n),__(null,e,r,!0,t,n);case 19:return cF(t,e,n);case 22:return sF(t,e,n)}throw Error(Mt(156,e.tag))};function kF(t,e){return JL(t,e)}function R6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,e,n,r){return new R6(t,e,n,r)}function QE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O6(t){if(typeof t=="function")return QE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gE)return 11;if(t===mE)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=xi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wg(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")QE(t)&&(a=1);else if(typeof t=="string")a=5;else t:switch(t){case Rl:return su(n.children,i,o,e);case vE:a=8,i|=8;break;case $1:return t=xi(12,n,e,i|2),t.elementType=$1,t.lanes=o,t;case W1:return t=xi(13,n,e,i),t.elementType=W1,t.lanes=o,t;case H1:return t=xi(19,n,e,i),t.elementType=H1,t.lanes=o,t;case DL:return sy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ML:a=10;break t;case NL:a=9;break t;case gE:a=11;break t;case mE:a=14;break t;case Ts:a=16,r=null;break t}throw Error(Mt(130,t==null?t:typeof t,""))}return e=xi(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function su(t,e,n,r){return t=xi(7,t,r,e),t.lanes=n,t}function sy(t,e,n,r){return t=xi(22,t,r,e),t.elementType=DL,t.lanes=n,t.stateNode={isHidden:!1},t}function Ob(t,e,n){return t=xi(6,t,null,e),t.lanes=n,t}function Mb(t,e,n){return e=xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=db(0),this.expirationTimes=db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=db(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function JE(t,e,n,r,i,o,a,u,c){return t=new M6(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DE(o),t}function N6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CF(t){if(!t)return Js;t=t._reactInternals;t:{if(Du(t)!==t||t.tag!==1)throw Error(Mt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(Mt(171))}if(t.tag===1){var n=t.type;if(zr(n))return k2(t,n,e)}return e}function IF(t,e,n,r,i,o,a,u,c){return t=JE(n,r,!0,t,i,o,a,u,c),t.context=CF(null),n=t.current,r=Cr(),i=$s(n),o=Ho(r,i),o.callback=e??null,zs(n,o,i),t.current.lanes=i,Dd(t,i,r),Vr(t,r),t}function ay(t,e,n,r){var i=e.current,o=Cr(),a=$s(i);return n=CF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ho(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zs(i,e,a),t!==null&&(Ji(t,i,a,o),dg(t,i,a)),a}function Zg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ZE(t,e){DO(t,e),(t=t.alternate)&&DO(t,e)}function D6(){return null}var AF=typeof reportError=="function"?reportError:function(t){console.error(t)};function tT(t){this._internalRoot=t}uy.prototype.render=tT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Mt(409));ay(t,e,null,null)};uy.prototype.unmount=tT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yu(function(){ay(null,t,null,null)}),e[qo]=null}};function uy(t){this._internalRoot=t}uy.prototype.unstable_scheduleHydration=function(t){if(t){var e=o2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&a2(t)}};function eT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ly(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LO(){}function L6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Zg(a);o.call(h)}}var a=IF(e,r,t,0,null,!1,!1,"",LO);return t._reactRootContainer=a,t[qo]=a.current,Yf(t.nodeType===8?t.parentNode:t),yu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=Zg(c);u.call(h)}}var c=JE(t,0,!1,null,null,!1,!1,"",LO);return t._reactRootContainer=c,t[qo]=c.current,Yf(t.nodeType===8?t.parentNode:t),yu(function(){ay(e,c,n,r)}),c}function cy(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var u=i;i=function(){var c=Zg(a);u.call(c)}}ay(e,a,t,i)}else a=L6(n,e,t,i,r);return Zg(a)}r2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=af(e.pendingLanes);n!==0&&(xE(e,n|1),Vr(e,ln()),!(xe&6)&&(uc=ln()+500,ua()))}break;case 13:yu(function(){var r=Qo(t,1);if(r!==null){var i=Cr();Ji(r,t,1,i)}}),ZE(t,1)}};bE=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=Cr();Ji(e,t,134217728,n)}ZE(t,134217728)}};i2=function(t){if(t.tag===13){var e=$s(t),n=Qo(t,e);if(n!==null){var r=Cr();Ji(n,t,e,r)}ZE(t,e)}};o2=function(){return Oe};s2=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};e_=function(t,e,n){switch(e){case"input":if(X1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ty(r);if(!i)throw Error(Mt(90));FL(r),X1(r,i)}}}break;case"textarea":BL(t,n);break;case"select":e=n.value,e!=null&&Hl(t,!!n.multiple,e,!1)}};GL=XE;KL=yu;var F6={usingClientEntryPoint:!1,Events:[Fd,Dl,ty,WL,HL,XE]},Xh={findFiberByHostInstance:Ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},j6={bundleType:Xh.bundleType,version:Xh.version,rendererPackageName:Xh.rendererPackageName,rendererConfig:Xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qL(t),t===null?null:t.stateNode},findFiberByHostInstance:Xh.findFiberByHostInstance||D6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$v.isDisabled&&$v.supportsFiber)try{qm=$v.inject(j6),yo=$v}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F6;hi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eT(e))throw Error(Mt(200));return N6(t,e,null,n)};hi.createRoot=function(t,e){if(!eT(t))throw Error(Mt(299));var n=!1,r="",i=AF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=JE(t,1,!1,null,null,n,!1,r,i),t[qo]=e.current,Yf(t.nodeType===8?t.parentNode:t),new tT(e)};hi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Mt(188)):(t=Object.keys(t).join(","),Error(Mt(268,t)));return t=qL(e),t=t===null?null:t.stateNode,t};hi.flushSync=function(t){return yu(t)};hi.hydrate=function(t,e,n){if(!ly(e))throw Error(Mt(200));return cy(null,t,e,!0,n)};hi.hydrateRoot=function(t,e,n){if(!eT(t))throw Error(Mt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=AF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=IF(e,null,t,1,n??null,i,!1,o,a),t[qo]=e.current,Yf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uy(e)};hi.render=function(t,e,n){if(!ly(e))throw Error(Mt(200));return cy(null,t,e,!1,n)};hi.unmountComponentAtNode=function(t){if(!ly(t))throw Error(Mt(40));return t._reactRootContainer?(yu(function(){cy(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};hi.unstable_batchedUpdates=XE;hi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ly(n))throw Error(Mt(200));if(t==null||t._reactInternals===void 0)throw Error(Mt(38));return cy(t,e,n,!1,r)};hi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=hi})(DH);const lf=aE(Ai);function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(this,arguments)}function hy(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ve(t,e){if(t==null)return{};var n=hy(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=PF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Te(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=PF(t))&&(r&&(r+=" "),r+=e);return r}function wu(t){return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function Nb(t){return t&&wu(t)==="object"&&t.constructor===Object}function lc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?Ct({},t):t;return Nb(t)&&Nb(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(Nb(e[i])&&i in t?r[i]=lc(t[i],e[i],n):r[i]=e[i])}),r}function B6(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RF(t){var e=B6(t,"string");return wu(e)=="symbol"?e:String(e)}function xg(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cc(t){for(var e="https://mui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}var FO={},U6={get exports(){return FO},set exports(t){FO=t}},Le={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=60103,dy=60106,Bd=60107,Ud=60108,zd=60114,Vd=60109,$d=60110,Wd=60112,Hd=60113,nT=60120,Gd=60115,Kd=60116,OF=60121,MF=60122,NF=60117,DF=60129,LF=60131;if(typeof Symbol=="function"&&Symbol.for){var zn=Symbol.for;fy=zn("react.element"),dy=zn("react.portal"),Bd=zn("react.fragment"),Ud=zn("react.strict_mode"),zd=zn("react.profiler"),Vd=zn("react.provider"),$d=zn("react.context"),Wd=zn("react.forward_ref"),Hd=zn("react.suspense"),nT=zn("react.suspense_list"),Gd=zn("react.memo"),Kd=zn("react.lazy"),OF=zn("react.block"),MF=zn("react.server.block"),NF=zn("react.fundamental"),DF=zn("react.debug_trace_mode"),LF=zn("react.legacy_hidden")}function ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fy:switch(t=t.type,t){case Bd:case zd:case Ud:case Hd:case nT:return t;default:switch(t=t&&t.$$typeof,t){case $d:case Wd:case Kd:case Gd:case Vd:return t;default:return e}}case dy:return e}}}var z6=Vd,V6=fy,$6=Wd,W6=Bd,H6=Kd,G6=Gd,K6=dy,X6=zd,Y6=Ud,q6=Hd;Le.ContextConsumer=$d;Le.ContextProvider=z6;Le.Element=V6;Le.ForwardRef=$6;Le.Fragment=W6;Le.Lazy=H6;Le.Memo=G6;Le.Portal=K6;Le.Profiler=X6;Le.StrictMode=Y6;Le.Suspense=q6;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return ro(t)===$d};Le.isContextProvider=function(t){return ro(t)===Vd};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fy};Le.isForwardRef=function(t){return ro(t)===Wd};Le.isFragment=function(t){return ro(t)===Bd};Le.isLazy=function(t){return ro(t)===Kd};Le.isMemo=function(t){return ro(t)===Gd};Le.isPortal=function(t){return ro(t)===dy};Le.isProfiler=function(t){return ro(t)===zd};Le.isStrictMode=function(t){return ro(t)===Ud};Le.isSuspense=function(t){return ro(t)===Hd};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bd||t===zd||t===DF||t===Ud||t===Hd||t===nT||t===LF||typeof t=="object"&&t!==null&&(t.$$typeof===Kd||t.$$typeof===Gd||t.$$typeof===Vd||t.$$typeof===$d||t.$$typeof===Wd||t.$$typeof===NF||t.$$typeof===OF||t[0]===MF)};Le.typeOf=ro;(function(t){t.exports=Le})(U6);function Bc(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce(function(i,o){return i[o]=e[o],r&&typeof e[o]>"u"&&(i[o]=r[o]),i},{})}var FF=ut.createContext();function Q6(){return ut.useContext(FF)}const rT=FF;var J6=typeof Symbol=="function"&&Symbol.for;const Z6=J6?Symbol.for("mui.nested"):"__THEME_NESTED__";var tK=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function eK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.disableGlobal,n=e===void 0?!1:e,r=t.productionPrefix,i=r===void 0?"jss":r,o=t.seed,a=o===void 0?"":o,u=a===""?"":"".concat(a,"-"),c=0,h=function(){return c+=1,c};return function(f,v){var g=v.options.name;if(g&&g.indexOf("Mui")===0&&!v.options.link&&!n){if(tK.indexOf(f.key)!==-1)return"Mui-".concat(f.key);var x="".concat(u).concat(g,"-").concat(f.key);return!v.options.theme[Z6]||a!==""?x:"".concat(x,"-").concat(h())}return"".concat(u).concat(i).concat(h())}}function jF(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var i=e.props[n],o;for(o in i)r[o]===void 0&&(r[o]=i[o]);return r}var jO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd=(typeof window>"u"?"undefined":jO(window))==="object"&&(typeof document>"u"?"undefined":jO(document))==="object"&&document.nodeType===9;function BO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function iT(t,e,n){return e&&BO(t.prototype,e),n&&BO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function py(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,N_(t,e)}function D_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var nK={}.constructor;function L_(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(L_);if(t.constructor!==nK)return t;var e={};for(var n in t)e[n]=L_(t[n]);return e}function oT(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,i=L_(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var UO=function(e,n){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=n),r+=e[i];return r},au=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=UO(e[r]," ");else n=UO(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Uc(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Yh(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function id(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var i=n,o=i.indent,a=o===void 0?0:o,u=e.fallbacks;n.format===!1&&(a=-1/0);var c=Uc(n),h=c.linebreak,f=c.space;if(t&&a++,u)if(Array.isArray(u))for(var v=0;v<u.length;v++){var g=u[v];for(var x in g){var m=g[x];m!=null&&(r&&(r+=h),r+=Yh(x+":"+f+au(m)+";",a))}}else for(var E in u){var R=u[E];R!=null&&(r&&(r+=h),r+=Yh(E+":"+f+au(R)+";",a))}for(var C in e){var _=e[C];_!=null&&C!=="fallbacks"&&(r&&(r+=h),r+=Yh(C+":"+f+au(_)+";",a))}return!r&&!n.allowEmpty||!t?r:(a--,r&&(r=""+h+r+h),Yh(""+t+f+"{"+r,a)+Yh("}",a))}var rK=/([[\].#*$><+~=|^:(),"'`\s])/g,zO=typeof CSS<"u"&&CSS.escape,sT=function(t){return zO?zO(t):t.replace(rK,"\\$1")},BF=function(){function t(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,a=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:a&&(this.renderer=new a)}var e=t.prototype;return e.prop=function(r,i,o){if(i===void 0)return this.style[r];var a=o?o.force:!1;if(!a&&this.style[r]===i)return this;var u=i;(!o||o.process!==!1)&&(u=this.options.jss.plugins.onChangeValue(i,r,this));var c=u==null||u===!1,h=r in this.style;if(c&&!h&&!a)return this;var f=c&&h;if(f?delete this.style[r]:this.style[r]=u,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,u),this;var v=this.options.sheet;return v&&v.attached,this},t}(),F_=function(t){py(e,t);function e(r,i,o){var a;a=t.call(this,r,i,o)||this;var u=o.selector,c=o.scoped,h=o.sheet,f=o.generateId;return u?a.selectorText=u:c!==!1&&(a.id=f(D_(D_(a)),h),a.selectorText="."+sT(a.id)),a}var n=e.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var a=this.toJSON();for(var u in a)o.setProperty(i,u,a[u])}return this},n.toJSON=function(){var i={};for(var o in this.style){var a=this.style[o];typeof a!="object"?i[o]=a:Array.isArray(a)&&(i[o]=au(a))}return i},n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,u=a?Ct({},i,{allowEmpty:!0}):i;return id(this.selectorText,this.style,u)},iT(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,a=this.renderable;if(!(!a||!o)){var u=o.setSelector(a,i);u||o.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),e}(BF),iK={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new F_(e,n,r)}},Db={indent:1,children:!0},oK=/@([\w-]+)/,sK=function(){function t(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(oK);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new vy(Ct({},i,{parent:this}));for(var a in r)this.rules.add(a,r[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),a):null},e.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.toString=function(r){r===void 0&&(r=Db);var i=Uc(r),o=i.linebreak;if(r.indent==null&&(r.indent=Db.indent),r.children==null&&(r.children=Db.children),r.children===!1)return this.query+" {}";var a=this.rules.toString(r);return a?this.query+" {"+o+a+o+"}":""},t}(),aK=/@container|@media|@supports\s+/,uK={onCreateRule:function(e,n,r){return aK.test(e)?new sK(e,n,r):null}},Lb={indent:1,children:!0},lK=/@keyframes\s+([\w-]+)/,j_=function(){function t(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(lK);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var a=i.scoped,u=i.sheet,c=i.generateId;this.id=a===!1?this.name:sT(c(this,u)),this.rules=new vy(Ct({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],Ct({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=Lb);var i=Uc(r),o=i.linebreak;if(r.indent==null&&(r.indent=Lb.indent),r.children==null&&(r.children=Lb.children),r.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(r);return a&&(a=""+o+a+o),this.at+" "+this.id+" {"+a+"}"},t}(),cK=/@keyframes\s+/,hK=/\$([\w-]+)/g,B_=function(e,n){return typeof e=="string"?e.replace(hK,function(r,i){return i in n?n[i]:r}):e},VO=function(e,n,r){var i=e[n],o=B_(i,r);o!==i&&(e[n]=o)},fK={onCreateRule:function(e,n,r){return typeof e=="string"&&cK.test(e)?new j_(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&VO(e,"animation-name",r.keyframes),"animation"in e&&VO(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var i=r.options.sheet;if(!i)return e;switch(n){case"animation":return B_(e,i.keyframes);case"animation-name":return B_(e,i.keyframes);default:return e}}},dK=function(t){py(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,u=a?Ct({},i,{allowEmpty:!0}):i;return id(this.key,this.style,u)},e}(BF),pK={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new dK(e,n,r):null}},vK=function(){function t(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){var i=Uc(r),o=i.linebreak;if(Array.isArray(this.style)){for(var a="",u=0;u<this.style.length;u++)a+=id(this.at,this.style[u]),this.style[u+1]&&(a+=o);return a}return id(this.at,this.style,r)},t}(),gK=/@font-face/,mK={onCreateRule:function(e,n,r){return gK.test(e)?new vK(e,n,r):null}},yK=function(){function t(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){return id(this.key,this.style,r)},t}(),wK={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new yK(e,n,r):null}},xK=function(){function t(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),bK={"@charset":!0,"@import":!0,"@namespace":!0},_K={onCreateRule:function(e,n,r){return e in bK?new xK(e,n,r):null}},$O=[iK,uK,fK,pK,mK,wK,_K],SK={process:!0},WO={force:!0,process:!0},vy=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,i,o){var a=this.options,u=a.parent,c=a.sheet,h=a.jss,f=a.Renderer,v=a.generateId,g=a.scoped,x=Ct({classes:this.classes,parent:u,sheet:c,jss:h,Renderer:f,generateId:v,scoped:g,name:r,keyframes:this.keyframes,selector:void 0},o),m=r;r in this.raw&&(m=r+"-d"+this.counter++),this.raw[m]=i,m in this.classes&&(x.selector="."+sT(this.classes[m]));var E=oT(m,i,x);if(!E)return null;this.register(E);var R=x.index===void 0?this.index.length:x.index;return this.index.splice(R,0,E),E},e.replace=function(r,i,o){var a=this.get(r),u=this.index.indexOf(a);a&&this.remove(a);var c=o;return u!==-1&&(c=Ct({},o,{index:u})),this.add(r,i,c)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof F_?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof j_&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof F_?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof j_&&delete this.keyframes[r.name]},e.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],i,o)},e.updateOne=function(r,i,o){o===void 0&&(o=SK);var a=this.options,u=a.jss.plugins,c=a.sheet;if(r.rules instanceof t){r.rules.update(i,o);return}var h=r.style;if(u.onUpdate(i,r,c,o),o.process&&h&&h!==r.style){u.onProcessStyle(r.style,r,c);for(var f in r.style){var v=r.style[f],g=h[f];v!==g&&r.prop(f,v,WO)}for(var x in h){var m=r.style[x],E=h[x];m==null&&m!==E&&r.prop(x,null,WO)}}},e.toString=function(r){for(var i="",o=this.options.sheet,a=o?o.options.link:!1,u=Uc(r),c=u.linebreak,h=0;h<this.index.length;h++){var f=this.index[h],v=f.toString(r);!v&&!a||(i&&(i+=c),i+=v)}return i},t}(),UF=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ct({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new vy(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,o){var a=this.queue;this.attached&&!a&&(this.queue=[]);var u=this.rules.add(r,i,o);return u?(this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&(a?a.push(u):(this.insertRule(u),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),u):(this.deployed=!1,u)):null},e.replaceRule=function(r,i,o){var a=this.rules.get(r);if(!a)return this.addRule(r,i,o);var u=this.rules.replace(r,i,o);return u&&this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&this.renderer&&(u?a.renderable&&this.renderer.replaceRule(a.renderable,u):this.renderer.deleteRule(a)),u):(this.deployed=!1,u)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var o=[];for(var a in r){var u=this.addRule(a,r[a],i);u&&o.push(u)}return o},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},e.toString=function(r){return this.rules.toString(r)},t}(),EK=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,i,o){for(var a=0;a<this.registry.onCreateRule.length;a++){var u=this.registry.onCreateRule[a](r,i,o);if(u)return u}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,o){for(var a=0;a<this.registry.onProcessStyle.length;a++)i.style=this.registry.onProcessStyle[a](i.style,i,o)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,o,a){for(var u=0;u<this.registry.onUpdate.length;u++)this.registry.onUpdate[u](r,i,o,a)},e.onChangeValue=function(r,i,o){for(var a=r,u=0;u<this.registry.onChangeValue.length;u++)a=this.registry.onChangeValue[u](a,i,o);return a},e.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,u){for(var c in u)c in a&&a[c].push(u[c]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),TK=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var a=0;a<i.length;a++)if(i[a].options.index>o){i.splice(a,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,a=hy(i,["attached"]),u=Uc(a),c=u.linebreak,h="",f=0;f<this.registry.length;f++){var v=this.registry[f];o!=null&&v.attached!==o||(h&&(h+=c),h+=v.toString(a))}return h},iT(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Ef=new TK,U_=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),z_="2f1acc6c3a606b082e5eef5e54414ffb";U_[z_]==null&&(U_[z_]=0);var HO=U_[z_]++,GO=function(e){e===void 0&&(e={});var n=0,r=function(o,a){n+=1;var u="",c="";return a&&(a.options.classNamePrefix&&(c=a.options.classNamePrefix),a.options.jss.id!=null&&(u=String(a.options.jss.id))),e.minify?""+(c||"c")+HO+u+n:c+o.key+"-"+HO+(u?"-"+u:"")+"-"+n};return r},zF=function(e){var n;return function(){return n||(n=e()),n}},kK=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},CK=function(e,n,r){try{var i=r;if(Array.isArray(r)&&(i=au(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,a=o>-1?i.substr(0,o-1):i;e.style.setProperty(n,a,o>-1?"important":"")}}catch{return!1}return!0},IK=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},AK=function(e,n){return e.selectorText=n,e.selectorText===n},VF=zF(function(){return document.querySelector("head")});function PK(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function RK(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function OK(t){for(var e=VF(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function MK(t){var e=Ef.registry;if(e.length>0){var n=PK(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=RK(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var i=OK(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function NK(t,e){var n=e.insertionPoint,r=MK(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling);return}VF().appendChild(t)}var DK=zF(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),KO=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},XO=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},LK=function(){var e=document.createElement("style");return e.textContent=`
`,e},FK=function(){function t(n){this.getPropertyValue=kK,this.setProperty=CK,this.removeProperty=IK,this.setSelector=AK,this.hasInsertedRules=!1,this.cssRules=[],n&&Ef.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,a=r.element;this.element=a||LK(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var u=DK();u&&this.element.setAttribute("nonce",u)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){NK(this.element,this.sheet.options);var r=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},e.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var a=r,u=o;if(r.type==="conditional"||r.type==="keyframes"){var c=XO(o,i);if(u=KO(o,a.toString({children:!1}),c),u===!1)return!1;this.refCssRule(r,c,u)}return this.insertRules(a.rules,u),u}var h=r.toString();if(!h)return!1;var f=XO(o,i),v=KO(o,h,f);return v===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,f,v),v)},e.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof UF&&this.cssRules.splice(i,0,o)},e.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},e.getRules=function(){return this.element.sheet.cssRules},t}(),jK=0,BK=function(){function t(n){this.id=jK++,this.version="10.10.0",this.plugins=new EK,this.options={id:{minify:!1},createGenerateId:GO,Renderer:Xd?FK:null,plugins:[]},this.generateId=GO({minify:!1});for(var r=0;r<$O.length;r++)this.plugins.use($O[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Ct({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,a=o.index;typeof a!="number"&&(a=Ef.index===0?0:Ef.index+1);var u=new UF(r,Ct({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(u),u},e.removeStyleSheet=function(r){return r.detach(),Ef.remove(r),this},e.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var a=Ct({},o,{name:r,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var u=oT(r,i,a);return u&&this.plugins.onProcessRule(u),u},e.use=function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.forEach(function(u){r.plugins.use(u)}),this},t}(),$F=function(e){return new BK(e)},aT=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function WF(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if(i==="function")e||(e={}),e[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=WF(r);o&&(e||(e={}),e[n]=o)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */$F();var HF=Date.now(),Fb="fnValues"+HF,jb="fnStyle"+ ++HF,UK=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=oT(n,{},i);return o[jb]=r,o},onProcessStyle:function(n,r){if(Fb in r||jb in r)return n;var i={};for(var o in n){var a=n[o];typeof a=="function"&&(delete n[o],i[o]=a)}return r[Fb]=i,n},onUpdate:function(n,r,i,o){var a=r,u=a[jb];u&&(a.style=u(n)||{});var c=a[Fb];if(c)for(var h in c)a.prop(h,c[h](n),o)}}};const zK=UK;var Hs="@global",V_="@global ",VK=function(){function t(n,r,i){this.type="global",this.at=Hs,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new vy(Ct({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),$K=function(){function t(n,r,i){this.type="global",this.at=Hs,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(V_.length);this.rule=i.jss.createRule(o,r,Ct({},i,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),WK=/\s*,\s*/g;function GF(t,e){for(var n=t.split(WK),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function HK(t,e){var n=t.options,r=t.style,i=r?r[Hs]:null;if(i){for(var o in i)e.addRule(o,i[o],Ct({},n,{selector:GF(o,t.selector)}));delete r[Hs]}}function GK(t,e){var n=t.options,r=t.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Hs.length)!==Hs)){var o=GF(i.substr(Hs.length),t.selector);e.addRule(o,r[i],Ct({},n,{selector:o})),delete r[i]}}function KK(){function t(n,r,i){if(!n)return null;if(n===Hs)return new VK(n,r,i);if(n[0]==="@"&&n.substr(0,V_.length)===V_)return new $K(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function e(n,r){n.type!=="style"||!r||(HK(n,r),GK(n,r))}return{onCreateRule:t,onProcessRule:e}}var YO=/\s*,\s*/g,XK=/&/g,YK=/\$([\w-]+)/g;function qK(){function t(i,o){return function(a,u){var c=i.getRule(u)||o&&o.getRule(u);return c?c.selector:u}}function e(i,o){for(var a=o.split(YO),u=i.split(YO),c="",h=0;h<a.length;h++)for(var f=a[h],v=0;v<u.length;v++){var g=u[v];c&&(c+=", "),c+=g.indexOf("&")!==-1?g.replace(XK,f):f+" "+g}return c}function n(i,o,a){if(a)return Ct({},a,{index:a.index+1});var u=i.options.nestingLevel;u=u===void 0?1:u+1;var c=Ct({},i.options,{nestingLevel:u,index:o.indexOf(i)+1});return delete c.name,c}function r(i,o,a){if(o.type!=="style")return i;var u=o,c=u.options.parent,h,f;for(var v in i){var g=v.indexOf("&")!==-1,x=v[0]==="@";if(!(!g&&!x)){if(h=n(u,c,h),g){var m=e(v,u.selector);f||(f=t(c,a)),m=m.replace(YK,f);var E=u.key+"-"+v;"replaceRule"in c?c.replaceRule(E,i[v],Ct({},h,{selector:m})):c.addRule(E,i[v],Ct({},h,{selector:m}))}else x&&c.addRule(v,{},h).addRule(u.key,i[v],{selector:u.selector});delete i[v]}}return i}return{onProcessStyle:r}}var QK=/[A-Z]/g,JK=/^ms-/,Bb={};function ZK(t){return"-"+t.toLowerCase()}function KF(t){if(Bb.hasOwnProperty(t))return Bb[t];var e=t.replace(QK,ZK);return Bb[t]=JK.test(e)?"-"+e:e}function tm(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:KF(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(tm):e.fallbacks=tm(t.fallbacks)),e}function tX(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=tm(n[r]);return n}return tm(n)}function e(n,r,i){if(r.indexOf("--")===0)return n;var o=KF(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:t,onChangeValue:e}}var kt=aT&&CSS?CSS.px:"px",Wv=aT&&CSS?CSS.ms:"ms",wl=aT&&CSS?CSS.percent:"%",eX={"animation-delay":Wv,"animation-duration":Wv,"background-position":kt,"background-position-x":kt,"background-position-y":kt,"background-size":kt,border:kt,"border-bottom":kt,"border-bottom-left-radius":kt,"border-bottom-right-radius":kt,"border-bottom-width":kt,"border-left":kt,"border-left-width":kt,"border-radius":kt,"border-right":kt,"border-right-width":kt,"border-top":kt,"border-top-left-radius":kt,"border-top-right-radius":kt,"border-top-width":kt,"border-width":kt,"border-block":kt,"border-block-end":kt,"border-block-end-width":kt,"border-block-start":kt,"border-block-start-width":kt,"border-block-width":kt,"border-inline":kt,"border-inline-end":kt,"border-inline-end-width":kt,"border-inline-start":kt,"border-inline-start-width":kt,"border-inline-width":kt,"border-start-start-radius":kt,"border-start-end-radius":kt,"border-end-start-radius":kt,"border-end-end-radius":kt,margin:kt,"margin-bottom":kt,"margin-left":kt,"margin-right":kt,"margin-top":kt,"margin-block":kt,"margin-block-end":kt,"margin-block-start":kt,"margin-inline":kt,"margin-inline-end":kt,"margin-inline-start":kt,padding:kt,"padding-bottom":kt,"padding-left":kt,"padding-right":kt,"padding-top":kt,"padding-block":kt,"padding-block-end":kt,"padding-block-start":kt,"padding-inline":kt,"padding-inline-end":kt,"padding-inline-start":kt,"mask-position-x":kt,"mask-position-y":kt,"mask-size":kt,height:kt,width:kt,"min-height":kt,"max-height":kt,"min-width":kt,"max-width":kt,bottom:kt,left:kt,top:kt,right:kt,inset:kt,"inset-block":kt,"inset-block-end":kt,"inset-block-start":kt,"inset-inline":kt,"inset-inline-end":kt,"inset-inline-start":kt,"box-shadow":kt,"text-shadow":kt,"column-gap":kt,"column-rule":kt,"column-rule-width":kt,"column-width":kt,"font-size":kt,"font-size-delta":kt,"letter-spacing":kt,"text-decoration-thickness":kt,"text-indent":kt,"text-stroke":kt,"text-stroke-width":kt,"word-spacing":kt,motion:kt,"motion-offset":kt,outline:kt,"outline-offset":kt,"outline-width":kt,perspective:kt,"perspective-origin-x":wl,"perspective-origin-y":wl,"transform-origin":wl,"transform-origin-x":wl,"transform-origin-y":wl,"transform-origin-z":wl,"transition-delay":Wv,"transition-duration":Wv,"vertical-align":kt,"flex-basis":kt,"shape-margin":kt,size:kt,gap:kt,grid:kt,"grid-gap":kt,"row-gap":kt,"grid-row-gap":kt,"grid-column-gap":kt,"grid-template-rows":kt,"grid-template-columns":kt,"grid-auto-rows":kt,"grid-auto-columns":kt,"box-shadow-x":kt,"box-shadow-y":kt,"box-shadow-blur":kt,"box-shadow-spread":kt,"font-line-height":kt,"text-shadow-x":kt,"text-shadow-y":kt,"text-shadow-blur":kt};function XF(t){var e=/(-[a-z])/g,n=function(a){return a[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var nX=XF(eX);function Tf(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Tf(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=Tf(i,e[i],n);else for(var o in e)e[o]=Tf(t+"-"+o,e[o],n);else if(typeof e=="number"&&isNaN(e)===!1){var a=n[t]||nX[t];return a&&!(e===0&&a===kt)?typeof a=="function"?a(e).toString():""+e+a:e.toString()}return e}function rX(t){t===void 0&&(t={});var e=XF(t);function n(i,o){if(o.type!=="style")return i;for(var a in i)i[a]=Tf(a,i[a],e);return i}function r(i,o){return Tf(o,i,e)}return{onProcessStyle:n,onChangeValue:r}}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iX(t){if(Array.isArray(t))return $_(t)}function oX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YF(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function sX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uT(t){return iX(t)||oX(t)||YF(t)||sX()}var cf="",W_="",qF="",QF="",aX=Xd&&"ontouchstart"in document.documentElement;if(Xd){var Ub={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},uX=document.createElement("p"),zb=uX.style,lX="Transform";for(var Vb in Ub)if(Vb+lX in zb){cf=Vb,W_=Ub[Vb];break}cf==="Webkit"&&"msHyphens"in zb&&(cf="ms",W_=Ub.ms,QF="edge"),cf==="Webkit"&&"-apple-trailing-word"in zb&&(qF="apple")}var re={js:cf,css:W_,vendor:qF,browser:QF,isTouch:aX};function cX(t){return t[1]==="-"||re.js==="ms"?t:"@"+re.css+"keyframes"+t.substr(10)}var hX={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:re.js==="ms"?"-webkit-"+e:re.css+e}},fX={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:re.js==="Webkit"?re.css+"print-"+e:e}},dX=/[-\s]+(.)?/g;function pX(t,e){return e?e.toUpperCase():""}function lT(t){return t.replace(dX,pX)}function Zs(t){return lT("-"+t)}var vX={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(re.js==="Webkit"){var r="mask-image";if(lT(r)in n)return e;if(re.js+Zs(r)in n)return re.css+e}return e}},gX={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:re.vendor==="apple"&&!re.isTouch?re.css+e:e}},mX={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:re.css+e}},yX={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:re.css+e}},wX={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:re.js==="Webkit"||re.js==="ms"&&re.browser!=="edge"?re.css+e:e}},xX={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:re.js==="Moz"||re.js==="ms"||re.vendor==="apple"?re.css+e:e}},bX={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(re.js==="Webkit"){var r="WebkitColumn"+Zs(e);return r in n?re.css+"column-"+e:!1}if(re.js==="Moz"){var i="page"+Zs(e);return i in n?"page-"+e:!1}return!1}},_X={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(re.js==="Moz")return e;var r=e.replace("-inline","");return re.js+Zs(r)in n?re.css+r:!1}},SX={supportedProperty:function(e,n){return lT(e)in n?e:!1}},EX={supportedProperty:function(e,n){var r=Zs(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:re.js+r in n?re.css+e:re.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},TX={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:re.js==="ms"?""+re.css+e:e}},kX={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:re.js==="ms"?re.css+"scroll-chaining":e}},CX={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},IX={supportedProperty:function(e,n){var r=CX[e];return r&&re.js+Zs(r)in n?re.css+r:!1}},JF={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},AX=Object.keys(JF),PX=function(e){return re.css+e},RX={supportedProperty:function(e,n,r){var i=r.multiple;if(AX.indexOf(e)>-1){var o=JF[e];if(!Array.isArray(o))return re.js+Zs(o)in n?re.css+o:!1;if(!i)return!1;for(var a=0;a<o.length;a++)if(!(re.js+Zs(o[0])in n))return!1;return o.map(PX)}return!1}},ZF=[hX,fX,vX,gX,mX,yX,wX,xX,bX,_X,SX,EX,TX,kX,IX,RX],qO=ZF.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),OX=ZF.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,uT(e.noPrefill)),t},[]),hf,$a={};if(Xd){hf=document.createElement("p");var $b=window.getComputedStyle(document.documentElement,"");for(var Wb in $b)isNaN(Wb)||($a[$b[Wb]]=$b[Wb]);OX.forEach(function(t){return delete $a[t]})}function H_(t,e){if(e===void 0&&(e={}),!hf)return t;if($a[t]!=null)return $a[t];(t==="transition"||t==="transform")&&(e[t]=t in hf.style);for(var n=0;n<qO.length&&($a[t]=qO[n](t,hf.style,e),!$a[t]);n++);try{hf.style[t]=""}catch{return!1}return $a[t]}var xl={},MX={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},NX=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Es;function DX(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?H_(e):", "+H_(n);return r||e||n}Xd&&(Es=document.createElement("p"));function QO(t,e){var n=e;if(!Es||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(xl[r]!=null)return xl[r];try{Es.style[t]=n}catch{return xl[r]=!1,!1}if(MX[t])n=n.replace(NX,DX);else if(Es.style[t]===""&&(n=re.css+n,n==="-ms-flex"&&(Es.style[t]="-ms-flexbox"),Es.style[t]=n,Es.style[t]===""))return xl[r]=!1,!1;return Es.style[t]="",xl[r]=n,xl[r]}function LX(){function t(i){if(i.type==="keyframes"){var o=i;o.at=cX(o.at)}}function e(i){for(var o in i){var a=i[o];if(o==="fallbacks"&&Array.isArray(a)){i[o]=a.map(e);continue}var u=!1,c=H_(o);c&&c!==o&&(u=!0);var h=!1,f=QO(c,au(a));f&&f!==a&&(h=!0),(u||h)&&(u&&delete i[o],i[c||o]=f||a)}return i}function n(i,o){return o.type!=="style"?i:e(i)}function r(i,o){return QO(o,au(i))||i}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function FX(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(t),a=0;a<o.length;a++)i[o[a]]=n[o[a]];return i}}}function jX(){return{plugins:[zK(),KK(),qK(),tX(),rX(),typeof window>"u"?null:LX(),FX()]}}function cT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.baseClasses,n=t.newClasses;if(t.Component,!n)return e;var r=Ct({},e);return Object.keys(n).forEach(function(i){n[i]&&(r[i]="".concat(e[i]," ").concat(n[i]))}),r}var BX={set:function(e,n,r,i){var o=e.get(n);o||(o=new Map,e.set(n,o)),o.set(r,i)},get:function(e,n,r){var i=e.get(n);return i?i.get(r):void 0},delete:function(e,n,r){var i=e.get(n);i.delete(r)}};const Vl=BX;var UX=Ve.createContext(null);const zX=UX;function gy(){var t=Ve.useContext(zX);return t}var VX=$F(jX()),$X=eK(),WX=new Map,HX={disableGeneration:!1,generateClassName:$X,jss:VX,sheetsCache:null,sheetsManager:WX,sheetsRegistry:null},GX=Ve.createContext(HX),JO=-1e9;function KX(){return JO+=1,JO}var XX={};const YX=XX;function qX(t){var e=typeof t=="function";return{create:function(r,i){var o;try{o=e?t(r):t}catch(c){throw c}if(!i||!r.overrides||!r.overrides[i])return o;var a=r.overrides[i],u=Ct({},o);return Object.keys(a).forEach(function(c){u[c]=lc(u[c],a[c])}),u},options:{}}}function QX(t,e,n){var r=t.state,i=t.stylesOptions;if(i.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,o=!0),o&&(r.cacheClasses.value=cT({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}function JX(t,e){var n=t.state,r=t.theme,i=t.stylesOptions,o=t.stylesCreator,a=t.name;if(!i.disableGeneration){var u=Vl.get(i.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Vl.set(i.sheetsManager,o,r,u));var c=Ct({},o.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});c.generateId=c.serverGenerateClassName||c.generateClassName;var h=i.sheetsRegistry;if(u.refs===0){var f;i.sheetsCache&&(f=Vl.get(i.sheetsCache,o,r));var v=o.create(r,a);f||(f=i.jss.createStyleSheet(v,Ct({link:!1},c)),f.attach(),i.sheetsCache&&Vl.set(i.sheetsCache,o,r,f)),h&&h.add(f),u.staticSheet=f,u.dynamicStyles=WF(v)}if(u.dynamicStyles){var g=i.jss.createStyleSheet(u.dynamicStyles,Ct({link:!0},c));g.update(e),g.attach(),n.dynamicSheet=g,n.classes=cT({baseClasses:u.staticSheet.classes,newClasses:g.classes}),h&&h.add(g)}else n.classes=u.staticSheet.classes;u.refs+=1}}function ZX(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function tY(t){var e=t.state,n=t.theme,r=t.stylesOptions,i=t.stylesCreator;if(!r.disableGeneration){var o=Vl.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;o.refs===0&&(Vl.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}}function eY(t,e){var n=Ve.useRef([]),r,i=Ve.useMemo(function(){return{}},e);n.current!==i&&(n.current=i,r=t()),Ve.useEffect(function(){return function(){r&&r()}},[i])}function nY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.name,r=e.classNamePrefix,i=e.Component,o=e.defaultTheme,a=o===void 0?YX:o,u=ve(e,["name","classNamePrefix","Component","defaultTheme"]),c=qX(t),h=n||r||"makeStyles";c.options={index:KX(),name:n,meta:h,classNamePrefix:h};var f=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=gy()||a,m=Ct({},Ve.useContext(GX),u),E=Ve.useRef(),R=Ve.useRef();eY(function(){var _={name:n,state:{},stylesCreator:c,stylesOptions:m,theme:x};return JX(_,g),R.current=!1,E.current=_,function(){tY(_)}},[x,c]),Ve.useEffect(function(){R.current&&ZX(E.current,g),R.current=!0});var C=QX(E.current,g.classes,i);return C};return f}function rY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var G_={},iY={get exports(){return G_},set exports(t){G_=t}},Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn=typeof Symbol=="function"&&Symbol.for,hT=Bn?Symbol.for("react.element"):60103,fT=Bn?Symbol.for("react.portal"):60106,my=Bn?Symbol.for("react.fragment"):60107,yy=Bn?Symbol.for("react.strict_mode"):60108,wy=Bn?Symbol.for("react.profiler"):60114,xy=Bn?Symbol.for("react.provider"):60109,by=Bn?Symbol.for("react.context"):60110,dT=Bn?Symbol.for("react.async_mode"):60111,_y=Bn?Symbol.for("react.concurrent_mode"):60111,Sy=Bn?Symbol.for("react.forward_ref"):60112,Ey=Bn?Symbol.for("react.suspense"):60113,oY=Bn?Symbol.for("react.suspense_list"):60120,Ty=Bn?Symbol.for("react.memo"):60115,ky=Bn?Symbol.for("react.lazy"):60116,sY=Bn?Symbol.for("react.block"):60121,aY=Bn?Symbol.for("react.fundamental"):60117,uY=Bn?Symbol.for("react.responder"):60118,lY=Bn?Symbol.for("react.scope"):60119;function di(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hT:switch(t=t.type,t){case dT:case _y:case my:case wy:case yy:case Ey:return t;default:switch(t=t&&t.$$typeof,t){case by:case Sy:case ky:case Ty:case xy:return t;default:return e}}case fT:return e}}}function tj(t){return di(t)===_y}Me.AsyncMode=dT;Me.ConcurrentMode=_y;Me.ContextConsumer=by;Me.ContextProvider=xy;Me.Element=hT;Me.ForwardRef=Sy;Me.Fragment=my;Me.Lazy=ky;Me.Memo=Ty;Me.Portal=fT;Me.Profiler=wy;Me.StrictMode=yy;Me.Suspense=Ey;Me.isAsyncMode=function(t){return tj(t)||di(t)===dT};Me.isConcurrentMode=tj;Me.isContextConsumer=function(t){return di(t)===by};Me.isContextProvider=function(t){return di(t)===xy};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hT};Me.isForwardRef=function(t){return di(t)===Sy};Me.isFragment=function(t){return di(t)===my};Me.isLazy=function(t){return di(t)===ky};Me.isMemo=function(t){return di(t)===Ty};Me.isPortal=function(t){return di(t)===fT};Me.isProfiler=function(t){return di(t)===wy};Me.isStrictMode=function(t){return di(t)===yy};Me.isSuspense=function(t){return di(t)===Ey};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===my||t===_y||t===wy||t===yy||t===Ey||t===oY||typeof t=="object"&&t!==null&&(t.$$typeof===ky||t.$$typeof===Ty||t.$$typeof===xy||t.$$typeof===by||t.$$typeof===Sy||t.$$typeof===aY||t.$$typeof===uY||t.$$typeof===lY||t.$$typeof===sY)};Me.typeOf=di;(function(t){t.exports=Me})(iY);var pT=G_,cY={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hY={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ej={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vT={};vT[pT.ForwardRef]=fY;vT[pT.Memo]=ej;function ZO(t){return pT.isMemo(t)?ej:vT[t.$$typeof]||cY}var dY=Object.defineProperty,pY=Object.getOwnPropertyNames,tM=Object.getOwnPropertySymbols,vY=Object.getOwnPropertyDescriptor,gY=Object.getPrototypeOf,eM=Object.prototype;function nj(t,e,n){if(typeof e!="string"){if(eM){var r=gY(e);r&&r!==eM&&nj(t,r,n)}var i=pY(e);tM&&(i=i.concat(tM(e)));for(var o=ZO(t),a=ZO(e),u=0;u<i.length;++u){var c=i[u];if(!hY[c]&&!(n&&n[c])&&!(a&&a[c])&&!(o&&o[c])){var h=vY(e,c);try{dY(t,c,h)}catch{}}}}return t}var mY=nj,yY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){var i=n.defaultTheme,o=n.withTheme,a=o===void 0?!1:o,u=n.name,c=ve(n,["defaultTheme","withTheme","name"]),h=u,f=nY(e,Ct({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:h},c)),v=Ve.forwardRef(function(x,m){x.classes;var E=x.innerRef,R=ve(x,["classes","innerRef"]),C=f(Ct({},r.defaultProps,x)),_,T=R;return(typeof u=="string"||a)&&(_=gy()||i,u&&(T=jF({theme:_,name:u,props:R})),a&&!T.theme&&(T.theme=_)),Ve.createElement(r,Ct({ref:E||m,classes:C},T))});return mY(v,r),v}};const wY=yY;var ws=["xs","sm","md","lg","xl"];function xY(t){var e=t.values,n=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,i=r===void 0?"px":r,o=t.step,a=o===void 0?5:o,u=ve(t,["values","unit","step"]);function c(x){var m=typeof n[x]=="number"?n[x]:x;return"@media (min-width:".concat(m).concat(i,")")}function h(x){var m=ws.indexOf(x)+1,E=n[ws[m]];if(m===ws.length)return c("xs");var R=typeof E=="number"&&m>0?E:x;return"@media (max-width:".concat(R-a/100).concat(i,")")}function f(x,m){var E=ws.indexOf(m);return E===ws.length-1?c(x):"@media (min-width:".concat(typeof n[x]=="number"?n[x]:x).concat(i,") and ")+"(max-width:".concat((E!==-1&&typeof n[ws[E+1]]=="number"?n[ws[E+1]]:m)-a/100).concat(i,")")}function v(x){return f(x,x)}function g(x){return n[x]}return Ct({keys:ws,values:n,up:c,down:h,between:f,only:v,width:g},u)}function bY(t,e,n){var r;return Ct({gutters:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Ct({paddingLeft:e(2),paddingRight:e(2)},o,xg({},t.up("sm"),Ct({paddingLeft:e(3),paddingRight:e(3)},o[t.up("sm")])))},toolbar:(r={minHeight:56},xg(r,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),xg(r,t.up("sm"),{minHeight:64}),r)},n)}var _Y={black:"#000",white:"#fff"};const em=_Y;var SY={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const gT=SY;var EY={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const Hb=EY;var TY={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const Gb=TY;var kY={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const Kb=kY;var CY={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const Xb=CY;var IY={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const Yb=IY;var AY={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const qb=AY;function mT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,t),n)}function PY(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function RY(t){t=xu(t);var e=t,n=e.values,r=n[0],i=n[1]/100,o=n[2]/100,a=i*Math.min(o,1-o),u=function(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(v+r/30)%12;return o-a*Math.max(Math.min(g-3,9-g,1),-1)},c="rgb",h=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(c+="a",h.push(n[3])),Cy({type:c,values:h})}function xu(t){if(t.type)return t;if(t.charAt(0)==="#")return xu(PY(t));var e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(cc(3,t));var r=t.substring(e+1,t.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:n,values:r}}function Cy(t){var e=t.type,n=t.values;return e.indexOf("rgb")!==-1?n=n.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function OY(t,e){var n=nM(t),r=nM(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function nM(t){t=xu(t);var e=t.type==="hsl"?xu(RY(t)).values:t.values;return e=e.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Na(t,e){return t=xu(t),e=mT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.values[3]=e,Cy(t)}function MY(t,e){if(t=xu(t),e=mT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]*=1-e;return Cy(t)}function NY(t,e){if(t=xu(t),e=mT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return Cy(t)}var rM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:em.white,default:gT[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qb={text:{primary:em.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:gT[800],default:"#303030"},action:{active:em.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function iM(t,e,n,r){var i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=NY(t.main,i):e==="dark"&&(t.dark=MY(t.main,o)))}function DY(t){var e=t.primary,n=e===void 0?{light:Hb[300],main:Hb[500],dark:Hb[700]}:e,r=t.secondary,i=r===void 0?{light:Gb.A200,main:Gb.A400,dark:Gb.A700}:r,o=t.error,a=o===void 0?{light:Kb[300],main:Kb[500],dark:Kb[700]}:o,u=t.warning,c=u===void 0?{light:Xb[300],main:Xb[500],dark:Xb[700]}:u,h=t.info,f=h===void 0?{light:Yb[300],main:Yb[500],dark:Yb[700]}:h,v=t.success,g=v===void 0?{light:qb[300],main:qb[500],dark:qb[700]}:v,x=t.type,m=x===void 0?"light":x,E=t.contrastThreshold,R=E===void 0?3:E,C=t.tonalOffset,_=C===void 0?.2:C,T=ve(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(D){var P=OY(D,Qb.text.primary)>=R?Qb.text.primary:rM.text.primary;return P}var j=function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(P=Ct({},P),!P.main&&P[I]&&(P.main=P[I]),!P.main)throw new Error(cc(4,I));if(typeof P.main!="string")throw new Error(cc(5,JSON.stringify(P.main)));return iM(P,"light",A,_),iM(P,"dark",k,_),P.contrastText||(P.contrastText=L(P.main)),P},z={dark:Qb,light:rM},$=lc(Ct({common:em,type:m,primary:j(n),secondary:j(i,"A400","A200","A700"),error:j(a),warning:j(c),info:j(f),success:j(g),grey:gT,contrastThreshold:R,getContrastText:L,augmentColor:j,tonalOffset:_},z[m]),T);return $}function rj(t){return Math.round(t*1e5)/1e5}function LY(t){return rj(t)}var oM={textTransform:"uppercase"},sM='"Roboto", "Helvetica", "Arial", sans-serif';function FY(t,e){var n=typeof e=="function"?e(t):e,r=n.fontFamily,i=r===void 0?sM:r,o=n.fontSize,a=o===void 0?14:o,u=n.fontWeightLight,c=u===void 0?300:u,h=n.fontWeightRegular,f=h===void 0?400:h,v=n.fontWeightMedium,g=v===void 0?500:v,x=n.fontWeightBold,m=x===void 0?700:x,E=n.htmlFontSize,R=E===void 0?16:E,C=n.allVariants,_=n.pxToRem,T=ve(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),L=a/14,j=_||function(D){return"".concat(D/R*L,"rem")},z=function(P,I,A,k,b){return Ct({fontFamily:i,fontWeight:P,fontSize:j(I),lineHeight:A},i===sM?{letterSpacing:"".concat(rj(k/I),"em")}:{},b,C)},$={h1:z(c,96,1.167,-1.5),h2:z(c,60,1.2,-.5),h3:z(f,48,1.167,0),h4:z(f,34,1.235,.25),h5:z(f,24,1.334,0),h6:z(g,20,1.6,.15),subtitle1:z(f,16,1.75,.15),subtitle2:z(g,14,1.57,.1),body1:z(f,16,1.5,.15),body2:z(f,14,1.43,.15),button:z(g,14,1.75,.4,oM),caption:z(f,12,1.66,.4),overline:z(f,12,2.66,1,oM)};return lc(Ct({htmlFontSize:R,pxToRem:j,round:LY,fontFamily:i,fontSize:a,fontWeightLight:c,fontWeightRegular:f,fontWeightMedium:g,fontWeightBold:m},$),T,{clone:!1})}var jY=.2,BY=.14,UY=.12;function Ge(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(jY,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(BY,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(UY,")")].join(",")}var zY=["none",Ge(0,2,1,-1,0,1,1,0,0,1,3,0),Ge(0,3,1,-2,0,2,2,0,0,1,5,0),Ge(0,3,3,-2,0,3,4,0,0,1,8,0),Ge(0,2,4,-1,0,4,5,0,0,1,10,0),Ge(0,3,5,-1,0,5,8,0,0,1,14,0),Ge(0,3,5,-1,0,6,10,0,0,1,18,0),Ge(0,4,5,-2,0,7,10,1,0,2,16,1),Ge(0,5,5,-3,0,8,10,1,0,3,14,2),Ge(0,5,6,-3,0,9,12,1,0,3,16,2),Ge(0,6,6,-3,0,10,14,1,0,4,18,3),Ge(0,6,7,-4,0,11,15,1,0,4,20,3),Ge(0,7,8,-4,0,12,17,2,0,5,22,4),Ge(0,7,8,-4,0,13,19,2,0,5,24,4),Ge(0,7,9,-4,0,14,21,2,0,5,26,4),Ge(0,8,9,-5,0,15,22,2,0,6,28,5),Ge(0,8,10,-5,0,16,24,2,0,6,30,5),Ge(0,8,11,-5,0,17,26,2,0,6,32,5),Ge(0,9,11,-5,0,18,28,2,0,7,34,6),Ge(0,9,12,-6,0,19,29,2,0,7,36,6),Ge(0,10,13,-6,0,20,31,3,0,8,38,7),Ge(0,10,13,-6,0,21,33,3,0,8,40,7),Ge(0,10,14,-6,0,22,35,3,0,8,42,7),Ge(0,11,14,-7,0,23,36,3,0,9,44,8),Ge(0,11,15,-7,0,24,38,3,0,9,46,8)];const VY=zY;var $Y={borderRadius:4};const WY=$Y;function HY(t){if(Array.isArray(t))return t}function GY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(f){h=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(h)throw i}}return u}}function KY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ij(t,e){return HY(t)||GY(t,e)||YF(t,e)||KY()}function XY(t){var e=t.spacing||8;return typeof e=="number"?function(n){return e*n}:Array.isArray(e)?function(n){return e[n]}:typeof e=="function"?e:function(){}}function YY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(t.mui)return t;var e=XY({spacing:t}),n=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.length===0?e(1):o.length===1?e(o[0]):o.map(function(u){if(typeof u=="string")return u;var c=e(u);return typeof c=="number"?"".concat(c,"px"):c}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var aM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},uM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lM(t){return"".concat(Math.round(t),"ms")}const qY={easing:aM,duration:uM,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,i=r===void 0?uM.standard:r,o=n.easing,a=o===void 0?aM.easeInOut:o,u=n.delay,c=u===void 0?0:u;return ve(n,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(h){return"".concat(h," ").concat(typeof i=="string"?i:lM(i)," ").concat(a," ").concat(typeof c=="string"?c:lM(c))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var n=e/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var QY={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const oj=QY;function JY(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.breakpoints,n=e===void 0?{}:e,r=t.mixins,i=r===void 0?{}:r,o=t.palette,a=o===void 0?{}:o,u=t.spacing,c=t.typography,h=c===void 0?{}:c,f=ve(t,["breakpoints","mixins","palette","spacing","typography"]),v=DY(a),g=xY(n),x=YY(u),m=lc({breakpoints:g,direction:"ltr",mixins:bY(g,x,i),overrides:{},palette:v,props:{},shadows:VY,typography:FY(v,h),spacing:x,shape:WY,transitions:qY,zIndex:oj},f),E=arguments.length,R=new Array(E>1?E-1:0),C=1;C<E;C++)R[C-1]=arguments[C];return m=R.reduce(function(_,T){return lc(_,T)},m),m}var ZY=JY();const sj=ZY;function mn(t,e){return wY(t,Ct({defaultTheme:sj},e))}function ti(t){if(typeof t!="string")throw new Error(cc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function od(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function $r(t,e){return ut.useMemo(function(){return t==null&&e==null?null:function(n){od(t,n),od(e,n)}},[t,e])}function aj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,n;function r(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=this,c=function(){t.apply(u,o)};clearTimeout(n),n=setTimeout(c,e)}return r.clear=function(){clearTimeout(n)},r}function Hv(t,e){return parseInt(t[e],10)||0}var t8=typeof window<"u"?ut.useLayoutEffect:ut.useEffect,e8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},n8=ut.forwardRef(function(e,n){var r=e.onChange,i=e.rows,o=e.rowsMax,a=e.rowsMin,u=e.maxRows,c=e.minRows,h=c===void 0?1:c,f=e.style,v=e.value,g=ve(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),x=u||o,m=i||a||h,E=ut.useRef(v!=null),R=E.current,C=ut.useRef(null),_=$r(n,C),T=ut.useRef(null),L=ut.useRef(0),j=ut.useState({}),z=j[0],$=j[1],D=ut.useCallback(function(){var I=C.current,A=window.getComputedStyle(I),k=T.current;k.style.width=A.width,k.value=I.value||e.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");var b=A["box-sizing"],y=Hv(A,"padding-bottom")+Hv(A,"padding-top"),d=Hv(A,"border-bottom-width")+Hv(A,"border-top-width"),w=k.scrollHeight-y;k.value="x";var O=k.scrollHeight-y,S=w;m&&(S=Math.max(Number(m)*O,S)),x&&(S=Math.min(Number(x)*O,S)),S=Math.max(S,O);var F=S+(b==="border-box"?y+d:0),V=Math.abs(S-w)<=1;$(function(K){return L.current<20&&(F>0&&Math.abs((K.outerHeightStyle||0)-F)>1||K.overflow!==V)?(L.current+=1,{overflow:V,outerHeightStyle:F}):K})},[x,m,e.placeholder]);ut.useEffect(function(){var I=aj(function(){L.current=0,D()});return window.addEventListener("resize",I),function(){I.clear(),window.removeEventListener("resize",I)}},[D]),t8(function(){D()}),ut.useEffect(function(){L.current=0},[v]);var P=function(A){L.current=0,R||D(),r&&r(A)};return ut.createElement(ut.Fragment,null,ut.createElement("textarea",Ct({value:v,onChange:P,ref:_,rows:m,style:Ct({height:z.outerHeightStyle,overflow:z.overflow?"hidden":null},f)},g)),ut.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:T,tabIndex:-1,style:Ct({},e8.shadow,f)}))});const r8=n8;function cM(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function yT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return t&&(cM(t.value)&&t.value!==""||e&&cM(t.defaultValue)&&t.defaultValue!=="")}function i8(t){return t.startAdornment}var o8=function(e){var n=e.palette.type==="light",r={color:"currentColor",opacity:n?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:n?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Ct({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),"&$marginDense":{paddingTop:4-1}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:4-1},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},s8=typeof window>"u"?ut.useEffect:ut.useLayoutEffect,a8=ut.forwardRef(function(e,n){var r=e["aria-describedby"],i=e.autoComplete,o=e.autoFocus,a=e.classes,u=e.className;e.color;var c=e.defaultValue,h=e.disabled,f=e.endAdornment;e.error;var v=e.fullWidth,g=v===void 0?!1:v,x=e.id,m=e.inputComponent,E=m===void 0?"input":m,R=e.inputProps,C=R===void 0?{}:R,_=e.inputRef;e.margin;var T=e.multiline,L=T===void 0?!1:T,j=e.name,z=e.onBlur,$=e.onChange,D=e.onClick,P=e.onFocus,I=e.onKeyDown,A=e.onKeyUp,k=e.placeholder,b=e.readOnly,y=e.renderSuffix,d=e.rows,w=e.rowsMax,O=e.rowsMin,S=e.maxRows,F=e.minRows,V=e.startAdornment,K=e.type,Y=K===void 0?"text":K,M=e.value,B=ve(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),H=C.value!=null?C.value:M,q=ut.useRef(H!=null),Q=q.current,U=ut.useRef(),X=ut.useCallback(function(xt){},[]),G=$r(C.ref,X),Z=$r(_,G),J=$r(U,Z),et=ut.useState(!1),nt=et[0],at=et[1],st=Q6(),mt=Bc({props:e,muiFormControl:st,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});mt.focused=st?st.focused:nt,ut.useEffect(function(){!st&&h&&nt&&(at(!1),z&&z())},[st,h,nt,z]);var wt=st&&st.onFilled,yt=st&&st.onEmpty,gt=ut.useCallback(function(xt){yT(xt)?wt&&wt():yt&&yt()},[wt,yt]);s8(function(){Q&&gt({value:H})},[H,gt,Q]);var bt=function(St){if(mt.disabled){St.stopPropagation();return}P&&P(St),C.onFocus&&C.onFocus(St),st&&st.onFocus?st.onFocus(St):at(!0)},ht=function(St){z&&z(St),C.onBlur&&C.onBlur(St),st&&st.onBlur?st.onBlur(St):at(!1)},it=function(St){if(!Q){var Lt=St.target||U.current;if(Lt==null)throw new Error(cc(1));gt({value:Lt.value})}for(var Kt=arguments.length,Tt=new Array(Kt>1?Kt-1:0),At=1;At<Kt;At++)Tt[At-1]=arguments[At];C.onChange&&C.onChange.apply(C,[St].concat(Tt)),$&&$.apply(void 0,[St].concat(Tt))};ut.useEffect(function(){gt(U.current)},[]);var ot=function(St){U.current&&St.currentTarget===St.target&&U.current.focus(),D&&D(St)},ct=E,ft=Ct({},C,{ref:J});typeof ct!="string"?ft=Ct({inputRef:J,type:Y},ft,{ref:null}):L?d&&!S&&!F&&!w&&!O?ct="textarea":(ft=Ct({minRows:d||F,rowsMax:w,maxRows:S},ft),ct=r8):ft=Ct({type:Y},ft);var vt=function(St){gt(St.animationName==="mui-auto-fill-cancel"?U.current:{value:"x"})};return ut.useEffect(function(){st&&st.setAdornedStart(Boolean(V))},[st,V]),ut.createElement("div",Ct({className:Te(a.root,a["color".concat(ti(mt.color||"primary"))],u,mt.disabled&&a.disabled,mt.error&&a.error,g&&a.fullWidth,mt.focused&&a.focused,st&&a.formControl,L&&a.multiline,V&&a.adornedStart,f&&a.adornedEnd,mt.margin==="dense"&&a.marginDense),onClick:ot,ref:n},B),V,ut.createElement(rT.Provider,{value:null},ut.createElement(ct,Ct({"aria-invalid":mt.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:c,disabled:mt.disabled,id:x,onAnimationStart:vt,name:j,placeholder:k,readOnly:b,required:mt.required,rows:d,value:H,onKeyDown:I,onKeyUp:A},ft,{className:Te(a.input,C.className,mt.disabled&&a.disabled,L&&a.inputMultiline,mt.hiddenLabel&&a.inputHiddenLabel,V&&a.inputAdornedStart,f&&a.inputAdornedEnd,Y==="search"&&a.inputTypeSearch,mt.margin==="dense"&&a.inputMarginDense),onBlur:ht,onChange:it,onFocus:bt}))),f,y?y(Ct({},mt,{startAdornment:V})):null)});const wT=mn(o8,{name:"MuiInputBase"})(a8);var u8=function(e){var n=e.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},uj=ut.forwardRef(function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,a=o===void 0?!1:o,u=e.inputComponent,c=u===void 0?"input":u,h=e.multiline,f=h===void 0?!1:h,v=e.type,g=v===void 0?"text":v,x=ve(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return ut.createElement(wT,Ct({classes:Ct({},i,{root:Te(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:f,ref:n,type:g},x))});uj.muiName="Input";const xT=mn(u8,{name:"MuiInput"})(uj);var l8=function(e){var n=e.palette.type==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},lj=ut.forwardRef(function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,a=o===void 0?!1:o,u=e.inputComponent,c=u===void 0?"input":u,h=e.multiline,f=h===void 0?!1:h,v=e.type,g=v===void 0?"text":v,x=ve(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return ut.createElement(wT,Ct({classes:Ct({},i,{root:Te(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:c,multiline:f,ref:n,type:g},x))});lj.muiName="Input";const cj=mn(l8,{name:"MuiFilledInput"})(lj);function bT(){var t=gy()||sj;return t}var c8=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},h8=ut.forwardRef(function(e,n){e.children;var r=e.classes,i=e.className,o=e.label,a=e.labelWidth,u=e.notched,c=e.style,h=ve(e,["children","classes","className","label","labelWidth","notched","style"]),f=bT(),v=f.direction==="rtl"?"right":"left";if(o!==void 0)return ut.createElement("fieldset",Ct({"aria-hidden":!0,className:Te(r.root,i),ref:n,style:c},h),ut.createElement("legend",{className:Te(r.legendLabelled,u&&r.legendNotched)},o?ut.createElement("span",null,o):ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=a>0?a*.75+8:.01;return ut.createElement("fieldset",Ct({"aria-hidden":!0,style:Ct(xg({},"padding".concat(ti(v)),8),c),className:Te(r.root,i),ref:n},h),ut.createElement("legend",{className:r.legend,style:{width:u?g:.01}},ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const f8=mn(c8,{name:"PrivateNotchedOutline"})(h8);var d8=function(e){var n=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:n}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:n},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},hj=ut.forwardRef(function(e,n){var r=e.classes,i=e.fullWidth,o=i===void 0?!1:i,a=e.inputComponent,u=a===void 0?"input":a,c=e.label,h=e.labelWidth,f=h===void 0?0:h,v=e.multiline,g=v===void 0?!1:v,x=e.notched,m=e.type,E=m===void 0?"text":m,R=ve(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return ut.createElement(wT,Ct({renderSuffix:function(_){return ut.createElement(f8,{className:r.notchedOutline,label:c,labelWidth:f,notched:typeof x<"u"?x:Boolean(_.startAdornment||_.filled||_.focused)})},classes:Ct({},r,{root:Te(r.root,r.underline),notchedOutline:null}),fullWidth:o,inputComponent:u,multiline:g,ref:n,type:E},R))});hj.muiName="Input";const fj=mn(d8,{name:"MuiOutlinedInput"})(hj);function Yd(){return ut.useContext(rT)}var p8=function(e){return{root:Ct({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},v8=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className;e.color;var a=e.component,u=a===void 0?"label":a;e.disabled,e.error,e.filled,e.focused,e.required;var c=ve(e,["children","classes","className","color","component","disabled","error","filled","focused","required"]),h=Yd(),f=Bc({props:e,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]});return ut.createElement(u,Ct({className:Te(i.root,i["color".concat(ti(f.color||"primary"))],o,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required),ref:n},c),r,f.required&&ut.createElement("span",{"aria-hidden":!0,className:Te(i.asterisk,f.error&&i.error)}," ","*"))});const g8=mn(p8,{name:"MuiFormLabel"})(v8);var m8=function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},y8=ut.forwardRef(function(e,n){var r=e.classes,i=e.className,o=e.disableAnimation,a=o===void 0?!1:o;e.margin;var u=e.shrink;e.variant;var c=ve(e,["classes","className","disableAnimation","margin","shrink","variant"]),h=Yd(),f=u;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);var v=Bc({props:e,muiFormControl:h,states:["margin","variant"]});return ut.createElement(g8,Ct({"data-shrink":f,className:Te(r.root,i,h&&r.formControl,!a&&r.animated,f&&r.shrink,v.margin==="dense"&&r.marginDense,{filled:r.filled,outlined:r.outlined}[v.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},c))});const w8=mn(m8,{name:"MuiInputLabel"})(y8);function Jb(t,e){return ut.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}var x8={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},b8=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,u=a===void 0?"primary":a,c=e.component,h=c===void 0?"div":c,f=e.disabled,v=f===void 0?!1:f,g=e.error,x=g===void 0?!1:g,m=e.fullWidth,E=m===void 0?!1:m,R=e.focused,C=e.hiddenLabel,_=C===void 0?!1:C,T=e.margin,L=T===void 0?"none":T,j=e.required,z=j===void 0?!1:j,$=e.size,D=e.variant,P=D===void 0?"standard":D,I=ve(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),A=ut.useState(function(){var H=!1;return r&&ut.Children.forEach(r,function(q){if(Jb(q,["Input","Select"])){var Q=Jb(q,["Select"])?q.props.input:q;Q&&i8(Q.props)&&(H=!0)}}),H}),k=A[0],b=A[1],y=ut.useState(function(){var H=!1;return r&&ut.Children.forEach(r,function(q){Jb(q,["Input","Select"])&&yT(q.props,!0)&&(H=!0)}),H}),d=y[0],w=y[1],O=ut.useState(!1),S=O[0],F=O[1],V=R!==void 0?R:S;v&&V&&F(!1);var K,Y=ut.useCallback(function(){w(!0)},[]),M=ut.useCallback(function(){w(!1)},[]),B={adornedStart:k,setAdornedStart:b,color:u,disabled:v,error:x,filled:d,focused:V,fullWidth:E,hiddenLabel:_,margin:($==="small"?"dense":void 0)||L,onBlur:function(){F(!1)},onEmpty:M,onFilled:Y,onFocus:function(){F(!0)},registerEffect:K,required:z,variant:P};return ut.createElement(rT.Provider,{value:B},ut.createElement(h,Ct({className:Te(i.root,o,L!=="none"&&i["margin".concat(ti(L))],E&&i.fullWidth),ref:n},I),r))});const _8=mn(x8,{name:"MuiFormControl"})(b8);var S8=function(e){return{root:Ct({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},E8=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.component,u=a===void 0?"p":a;e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant;var c=ve(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"]),h=Yd(),f=Bc({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return ut.createElement(u,Ct({className:Te(i.root,(f.variant==="filled"||f.variant==="outlined")&&i.contained,o,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required,f.margin==="dense"&&i.marginDense),ref:n},c),r===" "?ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)});const T8=mn(S8,{name:"MuiFormHelperText"})(E8);function Zo(t){return t&&t.ownerDocument||document}function dj(t){var e=Zo(t);return e.defaultView||window}function K_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(r,i){return i==null?r:function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];r.apply(this,u),i.apply(this,u)}},function(){})}function k8(t){return t=typeof t=="function"?t():t,Ai.findDOMNode(t)}var Zb=typeof window<"u"?ut.useLayoutEffect:ut.useEffect,C8=ut.forwardRef(function(e,n){var r=e.children,i=e.container,o=e.disablePortal,a=o===void 0?!1:o,u=e.onRendered,c=ut.useState(null),h=c[0],f=c[1],v=$r(ut.isValidElement(r)?r.ref:null,n);return Zb(function(){a||f(k8(i)||document.body)},[i,a]),Zb(function(){if(h&&!a)return od(n,h),function(){od(n,null)}},[n,h,a]),Zb(function(){u&&(h||a)&&u()},[u,h,a]),a?ut.isValidElement(r)?ut.cloneElement(r,{ref:v}):r:h&&Ai.createPortal(r,h)});const I8=C8;var A8=typeof window<"u"?ut.useLayoutEffect:ut.useEffect;function qa(t){var e=ut.useRef(t);return A8(function(){e.current=t}),ut.useCallback(function(){return e.current.apply(void 0,arguments)},[])}function pj(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function P8(t){var e=Zo(t);return e.body===t?dj(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function kf(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hM(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function fM(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[e,n].concat(uT(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(u){u.nodeType===1&&o.indexOf(u)===-1&&a.indexOf(u.tagName)===-1&&kf(u,i)})}function t1(t,e){var n=-1;return t.some(function(r,i){return e(r)?(n=i,!0):!1}),n}function R8(t,e){var n=[],r=[],i=t.container,o;if(!e.disableScrollLock){if(P8(i)){var a=pj();n.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(hM(i)+a,"px"),o=Zo(i).querySelectorAll(".mui-fixed"),[].forEach.call(o,function(f){r.push(f.style.paddingRight),f.style.paddingRight="".concat(hM(f)+a,"px")})}var u=i.parentElement,c=u.nodeName==="HTML"&&window.getComputedStyle(u)["overflow-y"]==="scroll"?u:i;n.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}var h=function(){o&&[].forEach.call(o,function(v,g){r[g]?v.style.paddingRight=r[g]:v.style.removeProperty("padding-right")}),n.forEach(function(v){var g=v.value,x=v.el,m=v.key;g?x.style.setProperty(m,g):x.style.removeProperty(m)})};return h}function O8(t){var e=[];return[].forEach.call(t.children,function(n){n.getAttribute&&n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}var M8=function(){function t(){rY(this,t),this.modals=[],this.containers=[]}return iT(t,[{key:"add",value:function(n,r){var i=this.modals.indexOf(n);if(i!==-1)return i;i=this.modals.length,this.modals.push(n),n.modalRef&&kf(n.modalRef,!1);var o=O8(r);fM(r,n.mountNode,n.modalRef,o,!0);var a=t1(this.containers,function(u){return u.container===r});return a!==-1?(this.containers[a].modals.push(n),i):(this.containers.push({modals:[n],container:r,restore:null,hiddenSiblingNodes:o}),i)}},{key:"mount",value:function(n,r){var i=t1(this.containers,function(a){return a.modals.indexOf(n)!==-1}),o=this.containers[i];o.restore||(o.restore=R8(o,r))}},{key:"remove",value:function(n){var r=this.modals.indexOf(n);if(r===-1)return r;var i=t1(this.containers,function(u){return u.modals.indexOf(n)!==-1}),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(n),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),n.modalRef&&kf(n.modalRef,!0),fM(o.container,n.mountNode,n.modalRef,o.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var a=o.modals[o.modals.length-1];a.modalRef&&kf(a.modalRef,!1)}return r}},{key:"isTopModal",value:function(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}]),t}();function N8(t){var e=t.children,n=t.disableAutoFocus,r=n===void 0?!1:n,i=t.disableEnforceFocus,o=i===void 0?!1:i,a=t.disableRestoreFocus,u=a===void 0?!1:a,c=t.getDoc,h=t.isEnabled,f=t.open,v=ut.useRef(),g=ut.useRef(null),x=ut.useRef(null),m=ut.useRef(),E=ut.useRef(null),R=ut.useCallback(function(T){E.current=Ai.findDOMNode(T)},[]),C=$r(e.ref,R),_=ut.useRef();return ut.useEffect(function(){_.current=f},[f]),!_.current&&f&&typeof window<"u"&&(m.current=c().activeElement),ut.useEffect(function(){if(f){var T=Zo(E.current);!r&&E.current&&!E.current.contains(T.activeElement)&&(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex",-1),E.current.focus());var L=function(){var D=E.current;if(D!==null){if(!T.hasFocus()||o||!h()||v.current){v.current=!1;return}E.current&&!E.current.contains(T.activeElement)&&E.current.focus()}},j=function(D){o||!h()||D.keyCode!==9||T.activeElement===E.current&&(v.current=!0,D.shiftKey?x.current.focus():g.current.focus())};T.addEventListener("focus",L,!0),T.addEventListener("keydown",j,!0);var z=setInterval(function(){L()},50);return function(){clearInterval(z),T.removeEventListener("focus",L,!0),T.removeEventListener("keydown",j,!0),u||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}},[r,o,u,h,f]),ut.createElement(ut.Fragment,null,ut.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelStart"}),ut.cloneElement(e,{ref:C}),ut.createElement("div",{tabIndex:0,ref:x,"data-test":"sentinelEnd"}))}var dM={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},D8=ut.forwardRef(function(e,n){var r=e.invisible,i=r===void 0?!1:r,o=e.open,a=ve(e,["invisible","open"]);return o?ut.createElement("div",Ct({"aria-hidden":!0,ref:n},a,{style:Ct({},dM.root,i?dM.invisible:{},a.style)})):null});const L8=D8;function F8(t){return t=typeof t=="function"?t():t,Ai.findDOMNode(t)}function j8(t){return t.children?t.children.props.hasOwnProperty("in"):!1}var B8=new M8,U8=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},z8=ut.forwardRef(function(e,n){var r=gy(),i=jF({name:"MuiModal",props:Ct({},e),theme:r}),o=i.BackdropComponent,a=o===void 0?L8:o,u=i.BackdropProps,c=i.children,h=i.closeAfterTransition,f=h===void 0?!1:h,v=i.container,g=i.disableAutoFocus,x=g===void 0?!1:g,m=i.disableBackdropClick,E=m===void 0?!1:m,R=i.disableEnforceFocus,C=R===void 0?!1:R,_=i.disableEscapeKeyDown,T=_===void 0?!1:_,L=i.disablePortal,j=L===void 0?!1:L,z=i.disableRestoreFocus,$=z===void 0?!1:z,D=i.disableScrollLock,P=D===void 0?!1:D,I=i.hideBackdrop,A=I===void 0?!1:I,k=i.keepMounted,b=k===void 0?!1:k,y=i.manager,d=y===void 0?B8:y,w=i.onBackdropClick,O=i.onClose,S=i.onEscapeKeyDown,F=i.onRendered,V=i.open,K=ve(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Y=ut.useState(!0),M=Y[0],B=Y[1],H=ut.useRef({}),q=ut.useRef(null),Q=ut.useRef(null),U=$r(Q,n),X=j8(i),G=function(){return Zo(q.current)},Z=function(){return H.current.modalRef=Q.current,H.current.mountNode=q.current,H.current},J=function(){d.mount(Z(),{disableScrollLock:P}),Q.current.scrollTop=0},et=qa(function(){var it=F8(v)||G().body;d.add(Z(),it),Q.current&&J()}),nt=ut.useCallback(function(){return d.isTopModal(Z())},[d]),at=qa(function(it){q.current=it,it&&(F&&F(),V&&nt()?J():kf(Q.current,!0))}),st=ut.useCallback(function(){d.remove(Z())},[d]);if(ut.useEffect(function(){return function(){st()}},[st]),ut.useEffect(function(){V?et():(!X||!f)&&st()},[V,st,X,f,et]),!b&&!V&&(!X||M))return null;var mt=function(){B(!1)},wt=function(){B(!0),f&&st()},yt=function(ot){ot.target===ot.currentTarget&&(w&&w(ot),!E&&O&&O(ot,"backdropClick"))},gt=function(ot){ot.key!=="Escape"||!nt()||(S&&S(ot),T||(ot.stopPropagation(),O&&O(ot,"escapeKeyDown")))},bt=U8(r||{zIndex:oj}),ht={};return c.props.tabIndex===void 0&&(ht.tabIndex=c.props.tabIndex||"-1"),X&&(ht.onEnter=K_(mt,c.props.onEnter),ht.onExited=K_(wt,c.props.onExited)),ut.createElement(I8,{ref:at,container:v,disablePortal:j},ut.createElement("div",Ct({ref:U,onKeyDown:gt,role:"presentation"},K,{style:Ct({},bt.root,!V&&M?bt.hidden:{},K.style)}),A?null:ut.createElement(a,Ct({open:V,onClick:yt},u)),ut.createElement(N8,{disableEnforceFocus:C,disableAutoFocus:x,disableRestoreFocus:$,getDoc:G,isEnabled:nt,open:V},ut.cloneElement(c,ht))))});const V8=z8,pM={disabled:!1},nm=Ve.createContext(null);var $8=function(e){return e.scrollTop},ff="unmounted",ja="exited",Ba="entering",kl="entered",X_="exiting",os=function(t){py(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,u=a&&!a.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?u?(c=ja,o.appearStatus=Ba):c=kl:r.unmountOnExit||r.mountOnEnter?c=ff:c=ja,o.state={status:c},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===ff?{status:ja}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Ba&&a!==kl&&(o=Ba):(a===Ba||a===kl)&&(o=X_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,u;return o=a=u=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,u=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:u}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ba){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:lf.findDOMNode(this);a&&$8(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ja&&this.setState({status:ff})},n.performEnter=function(i){var o=this,a=this.props.enter,u=this.context?this.context.isMounting:i,c=this.props.nodeRef?[u]:[lf.findDOMNode(this),u],h=c[0],f=c[1],v=this.getTimeouts(),g=u?v.appear:v.enter;if(!i&&!a||pM.disabled){this.safeSetState({status:kl},function(){o.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Ba},function(){o.props.onEntering(h,f),o.onTransitionEnd(g,function(){o.safeSetState({status:kl},function(){o.props.onEntered(h,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:lf.findDOMNode(this);if(!o||pM.disabled){this.safeSetState({status:ja},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:X_},function(){i.props.onExiting(u),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:ja},function(){i.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:lf.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ff)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=hy(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ve.createElement(nm.Provider,{value:null},typeof a=="function"?a(i,u):Ve.cloneElement(Ve.Children.only(a),u))},e}(Ve.Component);os.contextType=nm;os.propTypes={};function bl(){}os.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bl,onEntering:bl,onEntered:bl,onExit:bl,onExiting:bl,onExited:bl};os.UNMOUNTED=ff;os.EXITED=ja;os.ENTERING=Ba;os.ENTERED=kl;os.EXITING=X_;const W8=os;function _T(t,e){var n=function(o){return e&&ut.isValidElement(o)?e(o):o},r=Object.create(null);return t&&ut.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function H8(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a,u={};for(var c in e){if(r[c])for(a=0;a<r[c].length;a++){var h=r[c][a];u[r[c][a]]=n(h)}u[c]=n(c)}for(a=0;a<i.length;a++)u[i[a]]=n(i[a]);return u}function Qa(t,e,n){return n[e]!=null?n[e]:t.props[e]}function G8(t,e){return _T(t.children,function(n){return ut.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Qa(n,"appear",t),enter:Qa(n,"enter",t),exit:Qa(n,"exit",t)})})}function K8(t,e,n){var r=_T(t.children),i=H8(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(ut.isValidElement(a)){var u=o in e,c=o in r,h=e[o],f=ut.isValidElement(h)&&!h.props.in;c&&(!u||f)?i[o]=ut.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Qa(a,"exit",t),enter:Qa(a,"enter",t)}):!c&&u&&!f?i[o]=ut.cloneElement(a,{in:!1}):c&&u&&ut.isValidElement(h)&&(i[o]=ut.cloneElement(a,{onExited:n.bind(null,a),in:h.props.in,exit:Qa(a,"exit",t),enter:Qa(a,"enter",t)}))}}),i}var X8=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Y8={component:"div",childFactory:function(e){return e}},ST=function(t){py(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=o.handleExited.bind(D_(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var a=o.children,u=o.handleExited,c=o.firstRender;return{children:c?G8(i,u):K8(i,a,u),firstRender:!1}},n.handleExited=function(i,o){var a=_T(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(u){var c=Ct({},u.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,u=hy(i,["component","childFactory"]),c=this.state.contextValue,h=X8(this.state.children).map(a);return delete u.appear,delete u.enter,delete u.exit,o===null?Ve.createElement(nm.Provider,{value:c},h):Ve.createElement(nm.Provider,{value:c},Ve.createElement(o,u,h))},e}(Ve.Component);ST.propTypes={};ST.defaultProps=Y8;const q8=ST;var Q8=function(e){return e.scrollTop};function vM(t,e){var n=t.timeout,r=t.style,i=r===void 0?{}:r;return{duration:i.transitionDuration||typeof n=="number"?n:n[e.mode]||0,delay:i.transitionDelay}}function Y_(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var J8={entering:{opacity:1,transform:Y_(1)},entered:{opacity:1,transform:"none"}},vj=ut.forwardRef(function(e,n){var r=e.children,i=e.disableStrictModeCompat,o=i===void 0?!1:i,a=e.in,u=e.onEnter,c=e.onEntered,h=e.onEntering,f=e.onExit,v=e.onExited,g=e.onExiting,x=e.style,m=e.timeout,E=m===void 0?"auto":m,R=e.TransitionComponent,C=R===void 0?W8:R,_=ve(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),T=ut.useRef(),L=ut.useRef(),j=bT(),z=j.unstable_strictMode&&!o,$=ut.useRef(null),D=$r(r.ref,n),P=$r(z?$:void 0,D),I=function(F){return function(V,K){if(F){var Y=z?[$.current,V]:[V,K],M=ij(Y,2),B=M[0],H=M[1];H===void 0?F(B):F(B,H)}}},A=I(h),k=I(function(S,F){Q8(S);var V=vM({style:x,timeout:E},{mode:"enter"}),K=V.duration,Y=V.delay,M;E==="auto"?(M=j.transitions.getAutoHeightDuration(S.clientHeight),L.current=M):M=K,S.style.transition=[j.transitions.create("opacity",{duration:M,delay:Y}),j.transitions.create("transform",{duration:M*.666,delay:Y})].join(","),u&&u(S,F)}),b=I(c),y=I(g),d=I(function(S){var F=vM({style:x,timeout:E},{mode:"exit"}),V=F.duration,K=F.delay,Y;E==="auto"?(Y=j.transitions.getAutoHeightDuration(S.clientHeight),L.current=Y):Y=V,S.style.transition=[j.transitions.create("opacity",{duration:Y,delay:K}),j.transitions.create("transform",{duration:Y*.666,delay:K||Y*.333})].join(","),S.style.opacity="0",S.style.transform=Y_(.75),f&&f(S)}),w=I(v),O=function(F,V){var K=z?F:V;E==="auto"&&(T.current=setTimeout(K,L.current||0))};return ut.useEffect(function(){return function(){clearTimeout(T.current)}},[]),ut.createElement(C,Ct({appear:!0,in:a,nodeRef:z?$:void 0,onEnter:k,onEntered:b,onEntering:A,onExit:d,onExited:w,onExiting:y,addEndListener:O,timeout:E==="auto"?null:E},_),function(S,F){return ut.cloneElement(r,Ct({style:Ct({opacity:0,transform:Y_(.75),visibility:S==="exited"&&!a?"hidden":void 0},J8[S],x,r.props.style),ref:P},F))})});vj.muiSupportAuto=!0;const Z8=vj;var tq=function(e){var n={};return e.shadows.forEach(function(r,i){n["elevation".concat(i)]={boxShadow:r}}),Ct({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},n)},eq=ut.forwardRef(function(e,n){var r=e.classes,i=e.className,o=e.component,a=o===void 0?"div":o,u=e.square,c=u===void 0?!1:u,h=e.elevation,f=h===void 0?1:h,v=e.variant,g=v===void 0?"elevation":v,x=ve(e,["classes","className","component","square","elevation","variant"]);return ut.createElement(a,Ct({className:Te(r.root,i,g==="outlined"?r.outlined:r["elevation".concat(f)],!c&&r.rounded),ref:n},x))});const nq=mn(tq,{name:"MuiPaper"})(eq);function gM(t,e){var n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function mM(t,e){var n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function yM(t){return[t.horizontal,t.vertical].map(function(e){return typeof e=="number"?"".concat(e,"px"):e}).join(" ")}function rq(t,e){for(var n=e,r=0;n&&n!==t;)n=n.parentElement,r+=n.scrollTop;return r}function e1(t){return typeof t=="function"?t():t}var iq={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},oq=ut.forwardRef(function(e,n){var r=e.action,i=e.anchorEl,o=e.anchorOrigin,a=o===void 0?{vertical:"top",horizontal:"left"}:o,u=e.anchorPosition,c=e.anchorReference,h=c===void 0?"anchorEl":c,f=e.children,v=e.classes,g=e.className,x=e.container,m=e.elevation,E=m===void 0?8:m,R=e.getContentAnchorEl,C=e.marginThreshold,_=C===void 0?16:C,T=e.onEnter,L=e.onEntered,j=e.onEntering,z=e.onExit,$=e.onExited,D=e.onExiting,P=e.open,I=e.PaperProps,A=I===void 0?{}:I,k=e.transformOrigin,b=k===void 0?{vertical:"top",horizontal:"left"}:k,y=e.TransitionComponent,d=y===void 0?Z8:y,w=e.transitionDuration,O=w===void 0?"auto":w,S=e.TransitionProps,F=S===void 0?{}:S,V=ve(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),K=ut.useRef(),Y=ut.useCallback(function(Z){if(h==="anchorPosition")return u;var J=e1(i),et=J&&J.nodeType===1?J:Zo(K.current).body,nt=et.getBoundingClientRect(),at=Z===0?a.vertical:"center";return{top:nt.top+gM(nt,at),left:nt.left+mM(nt,a.horizontal)}},[i,a.horizontal,a.vertical,u,h]),M=ut.useCallback(function(Z){var J=0;if(R&&h==="anchorEl"){var et=R(Z);if(et&&Z.contains(et)){var nt=rq(Z,et);J=et.offsetTop+et.clientHeight/2-nt||0}}return J},[a.vertical,h,R]),B=ut.useCallback(function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:gM(Z,b.vertical)+J,horizontal:mM(Z,b.horizontal)}},[b.horizontal,b.vertical]),H=ut.useCallback(function(Z){var J=M(Z),et={width:Z.offsetWidth,height:Z.offsetHeight},nt=B(et,J);if(h==="none")return{top:null,left:null,transformOrigin:yM(nt)};var at=Y(J),st=at.top-nt.vertical,mt=at.left-nt.horizontal,wt=st+et.height,yt=mt+et.width,gt=dj(e1(i)),bt=gt.innerHeight-_,ht=gt.innerWidth-_;if(st<_){var it=st-_;st-=it,nt.vertical+=it}else if(wt>bt){var ot=wt-bt;st-=ot,nt.vertical+=ot}if(mt<_){var ct=mt-_;mt-=ct,nt.horizontal+=ct}else if(yt>ht){var ft=yt-ht;mt-=ft,nt.horizontal+=ft}return{top:"".concat(Math.round(st),"px"),left:"".concat(Math.round(mt),"px"),transformOrigin:yM(nt)}},[i,h,Y,M,B,_]),q=ut.useCallback(function(){var Z=K.current;if(Z){var J=H(Z);J.top!==null&&(Z.style.top=J.top),J.left!==null&&(Z.style.left=J.left),Z.style.transformOrigin=J.transformOrigin}},[H]),Q=function(J,et){j&&j(J,et),q()},U=ut.useCallback(function(Z){K.current=Ai.findDOMNode(Z)},[]);ut.useEffect(function(){P&&q()}),ut.useImperativeHandle(r,function(){return P?{updatePosition:function(){q()}}:null},[P,q]),ut.useEffect(function(){if(P){var Z=aj(function(){q()});return window.addEventListener("resize",Z),function(){Z.clear(),window.removeEventListener("resize",Z)}}},[P,q]);var X=O;O==="auto"&&!d.muiSupportAuto&&(X=void 0);var G=x||(i?Zo(e1(i)).body:void 0);return ut.createElement(V8,Ct({container:G,open:P,ref:n,BackdropProps:{invisible:!0},className:Te(v.root,g)},V),ut.createElement(d,Ct({appear:!0,in:P,onEnter:T,onEntered:L,onExit:z,onExited:$,onExiting:D,timeout:X},F,{onEntering:K_(Q,F.onEntering)}),ut.createElement(nq,Ct({elevation:E,ref:U},A,{className:Te(v.paper,A.className)}),f)))});const sq=mn(iq,{name:"MuiPopover"})(oq);var aq=ut.createContext({});const uq=aq;var lq={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},cq=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.component,u=a===void 0?"ul":a,c=e.dense,h=c===void 0?!1:c,f=e.disablePadding,v=f===void 0?!1:f,g=e.subheader,x=ve(e,["children","classes","className","component","dense","disablePadding","subheader"]),m=ut.useMemo(function(){return{dense:h}},[h]);return ut.createElement(uq.Provider,{value:m},ut.createElement(u,Ct({className:Te(i.root,o,h&&i.dense,!v&&i.padding,g&&i.subheader),ref:n},x),g,r))});const hq=mn(lq,{name:"MuiList"})(cq);function n1(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function wM(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function gj(t,e){if(e===void 0)return!0;var n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function qh(t,e,n,r,i,o){for(var a=!1,u=i(t,e,e?n:!1);u;){if(u===t.firstChild){if(a)return;a=!0}var c=r?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!gj(u,o)||c)u=i(t,u,n);else{u.focus();return}}}var fq=typeof window>"u"?ut.useEffect:ut.useLayoutEffect,dq=ut.forwardRef(function(e,n){var r=e.actions,i=e.autoFocus,o=i===void 0?!1:i,a=e.autoFocusItem,u=a===void 0?!1:a,c=e.children,h=e.className,f=e.disabledItemsFocusable,v=f===void 0?!1:f,g=e.disableListWrap,x=g===void 0?!1:g,m=e.onKeyDown,E=e.variant,R=E===void 0?"selectedMenu":E,C=ve(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),_=ut.useRef(null),T=ut.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});fq(function(){o&&_.current.focus()},[o]),ut.useImperativeHandle(r,function(){return{adjustStyleForScrollbar:function(I,A){var k=!_.current.style.width;if(I.clientHeight<_.current.clientHeight&&k){var b="".concat(pj(),"px");_.current.style[A.direction==="rtl"?"paddingLeft":"paddingRight"]=b,_.current.style.width="calc(100% + ".concat(b,")")}return _.current}}},[]);var L=function(I){var A=_.current,k=I.key,b=Zo(A).activeElement;if(k==="ArrowDown")I.preventDefault(),qh(A,b,x,v,n1);else if(k==="ArrowUp")I.preventDefault(),qh(A,b,x,v,wM);else if(k==="Home")I.preventDefault(),qh(A,null,x,v,n1);else if(k==="End")I.preventDefault(),qh(A,null,x,v,wM);else if(k.length===1){var y=T.current,d=k.toLowerCase(),w=performance.now();y.keys.length>0&&(w-y.lastTime>500?(y.keys=[],y.repeating=!0,y.previousKeyMatched=!0):y.repeating&&d!==y.keys[0]&&(y.repeating=!1)),y.lastTime=w,y.keys.push(d);var O=b&&!y.repeating&&gj(b,y);y.previousKeyMatched&&(O||qh(A,b,!1,v,n1,y))?I.preventDefault():y.previousKeyMatched=!1}m&&m(I)},j=ut.useCallback(function(P){_.current=Ai.findDOMNode(P)},[]),z=$r(j,n),$=-1;ut.Children.forEach(c,function(P,I){ut.isValidElement(P)&&(P.props.disabled||(R==="selectedMenu"&&P.props.selected||$===-1)&&($=I))});var D=ut.Children.map(c,function(P,I){if(I===$){var A={};return u&&(A.autoFocus=!0),P.props.tabIndex===void 0&&R==="selectedMenu"&&(A.tabIndex=0),ut.cloneElement(P,A)}return P});return ut.createElement(hq,Ct({role:"menu",ref:z,className:h,onKeyDown:L,tabIndex:o?0:-1},C),D)});const pq=dq;var xM={vertical:"top",horizontal:"right"},bM={vertical:"top",horizontal:"left"},vq={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},gq=ut.forwardRef(function(e,n){var r=e.autoFocus,i=r===void 0?!0:r,o=e.children,a=e.classes,u=e.disableAutoFocusItem,c=u===void 0?!1:u,h=e.MenuListProps,f=h===void 0?{}:h,v=e.onClose,g=e.onEntering,x=e.open,m=e.PaperProps,E=m===void 0?{}:m,R=e.PopoverClasses,C=e.transitionDuration,_=C===void 0?"auto":C,T=e.TransitionProps;T=T===void 0?{}:T;var L=T.onEntering,j=ve(T,["onEntering"]),z=e.variant,$=z===void 0?"selectedMenu":z,D=ve(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),P=bT(),I=i&&!c&&x,A=ut.useRef(null),k=ut.useRef(null),b=function(){return k.current},y=function(F,V){A.current&&A.current.adjustStyleForScrollbar(F,P),g&&g(F,V),L&&L(F,V)},d=function(F){F.key==="Tab"&&(F.preventDefault(),v&&v(F,"tabKeyDown"))},w=-1;ut.Children.map(o,function(S,F){ut.isValidElement(S)&&(S.props.disabled||($!=="menu"&&S.props.selected||w===-1)&&(w=F))});var O=ut.Children.map(o,function(S,F){return F===w?ut.cloneElement(S,{ref:function(K){k.current=Ai.findDOMNode(K),od(S.ref,K)}}):S});return ut.createElement(sq,Ct({getContentAnchorEl:b,classes:R,onClose:v,TransitionProps:Ct({onEntering:y},j),anchorOrigin:P.direction==="rtl"?xM:bM,transformOrigin:P.direction==="rtl"?xM:bM,PaperProps:Ct({},E,{classes:Ct({},E.classes,{root:a.paper})}),open:x,ref:n,transitionDuration:_},D),ut.createElement(pq,Ct({onKeyDown:d,actions:A,autoFocus:i&&(w===-1||c),autoFocusItem:I,variant:$},f,{className:Te(a.list,f.className)}),O))});const mq=mn(vq,{name:"MuiMenu"})(gq);function yq(t){var e=t.controlled,n=t.default;t.name,t.state;var r=ut.useRef(e!==void 0),i=r.current,o=ut.useState(n),a=o[0],u=o[1],c=i?e:a,h=ut.useCallback(function(f){i||u(f)},[]);return[c,h]}function _M(t,e){return wu(e)==="object"&&e!==null?t===e:String(t)===String(e)}function wq(t){return t==null||typeof t=="string"&&!t.trim()}var xq=ut.forwardRef(function(e,n){var r=e["aria-label"],i=e.autoFocus,o=e.autoWidth,a=e.children,u=e.classes,c=e.className,h=e.defaultValue,f=e.disabled,v=e.displayEmpty,g=e.IconComponent,x=e.inputRef,m=e.labelId,E=e.MenuProps,R=E===void 0?{}:E,C=e.multiple,_=e.name,T=e.onBlur,L=e.onChange,j=e.onClose,z=e.onFocus,$=e.onOpen,D=e.open,P=e.readOnly,I=e.renderValue,A=e.SelectDisplayProps,k=A===void 0?{}:A,b=e.tabIndex;e.type;var y=e.value,d=e.variant,w=d===void 0?"standard":d,O=ve(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),S=yq({controlled:y,default:h,name:"Select"}),F=ij(S,2),V=F[0],K=F[1],Y=ut.useRef(null),M=ut.useState(null),B=M[0],H=M[1],q=ut.useRef(D!=null),Q=q.current,U=ut.useState(),X=U[0],G=U[1],Z=ut.useState(!1),J=Z[0],et=Z[1],nt=$r(n,x);ut.useImperativeHandle(nt,function(){return{focus:function(){B.focus()},node:Y.current,value:V}},[B,V]),ut.useEffect(function(){i&&B&&B.focus()},[i,B]),ut.useEffect(function(){if(B){var Tt=Zo(B).getElementById(m);if(Tt){var At=function(){getSelection().isCollapsed&&B.focus()};return Tt.addEventListener("click",At),function(){Tt.removeEventListener("click",At)}}}},[m,B]);var at=function(At,Wt){At?$&&$(Wt):j&&j(Wt),Q||(G(o?null:B.clientWidth),et(At))},st=function(At){At.button===0&&(At.preventDefault(),B.focus(),at(!0,At))},mt=function(At){at(!1,At)},wt=ut.Children.toArray(a),yt=function(At){var Wt=wt.map(function(te){return te.props.value}).indexOf(At.target.value);if(Wt!==-1){var Bt=wt[Wt];K(Bt.props.value),L&&L(At,Bt)}},gt=function(At){return function(Wt){C||at(!1,Wt);var Bt;if(C){Bt=Array.isArray(V)?V.slice():[];var te=V.indexOf(At.props.value);te===-1?Bt.push(At.props.value):Bt.splice(te,1)}else Bt=At.props.value;At.props.onClick&&At.props.onClick(Wt),V!==Bt&&(K(Bt),L&&(Wt.persist(),Object.defineProperty(Wt,"target",{writable:!0,value:{value:Bt,name:_}}),L(Wt,At)))}},bt=function(At){if(!P){var Wt=[" ","ArrowUp","ArrowDown","Enter"];Wt.indexOf(At.key)!==-1&&(At.preventDefault(),at(!0,At))}},ht=B!==null&&(Q?D:J),it=function(At){!ht&&T&&(At.persist(),Object.defineProperty(At,"target",{writable:!0,value:{value:V,name:_}}),T(At))};delete O["aria-invalid"];var ot,ct,ft=[],vt=!1;(yT({value:V})||v)&&(I?ot=I(V):vt=!0);var xt=wt.map(function(Tt){if(!ut.isValidElement(Tt))return null;var At;if(C){if(!Array.isArray(V))throw new Error(cc(2));At=V.some(function(Wt){return _M(Wt,Tt.props.value)}),At&&vt&&ft.push(Tt.props.children)}else At=_M(V,Tt.props.value),At&&vt&&(ct=Tt.props.children);return ut.cloneElement(Tt,{"aria-selected":At?"true":void 0,onClick:gt(Tt),onKeyUp:function(Bt){Bt.key===" "&&Bt.preventDefault(),Tt.props.onKeyUp&&Tt.props.onKeyUp(Bt)},role:"option",selected:At,value:void 0,"data-value":Tt.props.value})});vt&&(ot=C?ft.join(", "):ct);var St=X;!o&&Q&&B&&(St=B.clientWidth);var Lt;typeof b<"u"?Lt=b:Lt=f?null:0;var Kt=k.id||(_?"mui-component-select-".concat(_):void 0);return ut.createElement(ut.Fragment,null,ut.createElement("div",Ct({className:Te(u.root,u.select,u.selectMenu,u[w],c,f&&u.disabled),ref:H,tabIndex:Lt,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ht?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[m,Kt].filter(Boolean).join(" ")||void 0,onKeyDown:bt,onMouseDown:f||P?null:st,onBlur:it,onFocus:z},k,{id:Kt}),wq(ot)?ut.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ot),ut.createElement("input",Ct({value:Array.isArray(V)?V.join(","):V,name:_,ref:Y,"aria-hidden":!0,onChange:yt,tabIndex:-1,className:u.nativeInput,autoFocus:i},O)),ut.createElement(g,{className:Te(u.icon,u["icon".concat(ti(w))],ht&&u.iconOpen,f&&u.disabled)}),ut.createElement(mq,Ct({id:"menu-".concat(_||""),anchorEl:B,open:ht,onClose:mt},R,{MenuListProps:Ct({"aria-labelledby":m,role:"listbox",disableListWrap:!0},R.MenuListProps),PaperProps:Ct({},R.PaperProps,{style:Ct({minWidth:St},R.PaperProps!=null?R.PaperProps.style:null)})}),xt))});const bq=xq;var _q=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},mj=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,u=a===void 0?"inherit":a,c=e.component,h=c===void 0?"svg":c,f=e.fontSize,v=f===void 0?"medium":f,g=e.htmlColor,x=e.titleAccess,m=e.viewBox,E=m===void 0?"0 0 24 24":m,R=ve(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return ut.createElement(h,Ct({className:Te(i.root,o,u!=="inherit"&&i["color".concat(ti(u))],v!=="default"&&v!=="medium"&&i["fontSize".concat(ti(v))]),focusable:"false",viewBox:E,color:g,"aria-hidden":x?void 0:!0,role:x?"img":void 0,ref:n},R),r,x?ut.createElement("title",null,x):null)});mj.muiName="SvgIcon";const SM=mn(_q,{name:"MuiSvgIcon"})(mj);function Sq(t,e){var n=function(i,o){return Ve.createElement(SM,Ct({ref:o},i),t)};return n.muiName=SM.muiName,Ve.memo(Ve.forwardRef(n))}const yj=Sq(ut.createElement("path",{d:"M7 10l5 5 5-5z"}));var Eq=ut.forwardRef(function(e,n){var r=e.classes,i=e.className,o=e.disabled,a=e.IconComponent,u=e.inputRef,c=e.variant,h=c===void 0?"standard":c,f=ve(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return ut.createElement(ut.Fragment,null,ut.createElement("select",Ct({className:Te(r.root,r.select,r[h],i,o&&r.disabled),disabled:o,ref:u||n},f)),e.multiple?null:ut.createElement(a,{className:Te(r.icon,r["icon".concat(ti(h))],o&&r.disabled)}))});const wj=Eq;var xj=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Tq=ut.createElement(xT,null),bj=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.IconComponent,a=o===void 0?yj:o,u=e.input,c=u===void 0?Tq:u,h=e.inputProps;e.variant;var f=ve(e,["children","classes","IconComponent","input","inputProps","variant"]),v=Yd(),g=Bc({props:e,muiFormControl:v,states:["variant"]});return ut.cloneElement(c,Ct({inputComponent:wj,inputProps:Ct({children:r,classes:i,IconComponent:a,variant:g.variant,type:void 0},h,c?c.props.inputProps:{}),ref:n},f))});bj.muiName="Select";mn(xj,{name:"MuiNativeSelect"})(bj);var kq=xj,Cq=ut.createElement(xT,null),Iq=ut.createElement(cj,null),_j=ut.forwardRef(function t(e,n){var r=e.autoWidth,i=r===void 0?!1:r,o=e.children,a=e.classes,u=e.displayEmpty,c=u===void 0?!1:u,h=e.IconComponent,f=h===void 0?yj:h,v=e.id,g=e.input,x=e.inputProps,m=e.label,E=e.labelId,R=e.labelWidth,C=R===void 0?0:R,_=e.MenuProps,T=e.multiple,L=T===void 0?!1:T,j=e.native,z=j===void 0?!1:j,$=e.onClose,D=e.onOpen,P=e.open,I=e.renderValue,A=e.SelectDisplayProps,k=e.variant,b=k===void 0?"standard":k,y=ve(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),d=z?wj:bq,w=Yd(),O=Bc({props:e,muiFormControl:w,states:["variant"]}),S=O.variant||b,F=g||{standard:Cq,outlined:ut.createElement(fj,{label:m,labelWidth:C}),filled:Iq}[S];return ut.cloneElement(F,Ct({inputComponent:d,inputProps:Ct({children:o,IconComponent:f,variant:S,type:void 0,multiple:L},z?{id:v}:{autoWidth:i,displayEmpty:c,labelId:E,MenuProps:_,onClose:$,onOpen:D,open:P,renderValue:I,SelectDisplayProps:Ct({id:v},A)},x,{classes:x?cT({baseClasses:a,newClasses:x.classes,Component:t}):a},g?g.props.inputProps:{}),ref:n},y))});_j.muiName="Select";const Aq=mn(kq,{name:"MuiSelect"})(_j);var Pq={standard:xT,filled:cj,outlined:fj},Rq={root:{}},Oq=ut.forwardRef(function(e,n){var r=e.autoComplete,i=e.autoFocus,o=i===void 0?!1:i,a=e.children,u=e.classes,c=e.className,h=e.color,f=h===void 0?"primary":h,v=e.defaultValue,g=e.disabled,x=g===void 0?!1:g,m=e.error,E=m===void 0?!1:m,R=e.FormHelperTextProps,C=e.fullWidth,_=C===void 0?!1:C,T=e.helperText,L=e.hiddenLabel,j=e.id,z=e.InputLabelProps,$=e.inputProps,D=e.InputProps,P=e.inputRef,I=e.label,A=e.multiline,k=A===void 0?!1:A,b=e.name,y=e.onBlur,d=e.onChange,w=e.onFocus,O=e.placeholder,S=e.required,F=S===void 0?!1:S,V=e.rows,K=e.rowsMax,Y=e.maxRows,M=e.minRows,B=e.select,H=B===void 0?!1:B,q=e.SelectProps,Q=e.type,U=e.value,X=e.variant,G=X===void 0?"standard":X,Z=ve(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),J={};if(G==="outlined"&&(z&&typeof z.shrink<"u"&&(J.notched=z.shrink),I)){var et,nt=(et=z==null?void 0:z.required)!==null&&et!==void 0?et:F;J.label=ut.createElement(ut.Fragment,null,I,nt&&" *")}H&&((!q||!q.native)&&(J.id=void 0),J["aria-describedby"]=void 0);var at=T&&j?"".concat(j,"-helper-text"):void 0,st=I&&j?"".concat(j,"-label"):void 0,mt=Pq[G],wt=ut.createElement(mt,Ct({"aria-describedby":at,autoComplete:r,autoFocus:o,defaultValue:v,fullWidth:_,multiline:k,name:b,rows:V,rowsMax:K,maxRows:Y,minRows:M,type:Q,value:U,id:j,inputRef:P,onBlur:y,onChange:d,onFocus:w,placeholder:O,inputProps:$},J,D));return ut.createElement(_8,Ct({className:Te(u.root,c),disabled:x,error:E,fullWidth:_,hiddenLabel:L,ref:n,required:F,color:f,variant:G},Z),I&&ut.createElement(w8,Ct({htmlFor:j,id:st},z),I),H?ut.createElement(Aq,Ct({"aria-describedby":at,id:j,labelId:st,value:U,input:wt},q),a):wt,T&&ut.createElement(T8,Ct({id:at},R),T))});const r1=mn(Rq,{name:"MuiTextField"})(Oq);var Iy=!0,q_=!1,EM=null,Mq={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Nq(t){var e=t.type,n=t.tagName;return!!(n==="INPUT"&&Mq[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Dq(t){t.metaKey||t.altKey||t.ctrlKey||(Iy=!0)}function i1(){Iy=!1}function Lq(){this.visibilityState==="hidden"&&q_&&(Iy=!0)}function Fq(t){t.addEventListener("keydown",Dq,!0),t.addEventListener("mousedown",i1,!0),t.addEventListener("pointerdown",i1,!0),t.addEventListener("touchstart",i1,!0),t.addEventListener("visibilitychange",Lq,!0)}function jq(t){var e=t.target;try{return e.matches(":focus-visible")}catch{}return Iy||Nq(e)}function Bq(){q_=!0,window.clearTimeout(EM),EM=window.setTimeout(function(){q_=!1},100)}function Uq(){var t=ut.useCallback(function(e){var n=Ai.findDOMNode(e);n!=null&&Fq(n.ownerDocument)},[]);return{isFocusVisible:jq,onBlurVisible:Bq,ref:t}}var zq=typeof window>"u"?ut.useEffect:ut.useLayoutEffect;function Vq(t){var e=t.classes,n=t.pulsate,r=n===void 0?!1:n,i=t.rippleX,o=t.rippleY,a=t.rippleSize,u=t.in,c=t.onExited,h=c===void 0?function(){}:c,f=t.timeout,v=ut.useState(!1),g=v[0],x=v[1],m=Te(e.ripple,e.rippleVisible,r&&e.ripplePulsate),E={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},R=Te(e.child,g&&e.childLeaving,r&&e.childPulsate),C=qa(h);return zq(function(){if(!u){x(!0);var _=setTimeout(C,f);return function(){clearTimeout(_)}}},[C,u,f]),ut.createElement("span",{className:m,style:E},ut.createElement("span",{className:R}))}var Q_=550,$q=80,Wq=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(Q_,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(Q_,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},Hq=ut.forwardRef(function(e,n){var r=e.center,i=r===void 0?!1:r,o=e.classes,a=e.className,u=ve(e,["center","classes","className"]),c=ut.useState([]),h=c[0],f=c[1],v=ut.useRef(0),g=ut.useRef(null);ut.useEffect(function(){g.current&&(g.current(),g.current=null)},[h]);var x=ut.useRef(!1),m=ut.useRef(null),E=ut.useRef(null),R=ut.useRef(null);ut.useEffect(function(){return function(){clearTimeout(m.current)}},[]);var C=ut.useCallback(function(j){var z=j.pulsate,$=j.rippleX,D=j.rippleY,P=j.rippleSize,I=j.cb;f(function(A){return[].concat(uT(A),[ut.createElement(Vq,{key:v.current,classes:o,timeout:Q_,pulsate:z,rippleX:$,rippleY:D,rippleSize:P})])}),v.current+=1,g.current=I},[o]),_=ut.useCallback(function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2?arguments[2]:void 0,D=z.pulsate,P=D===void 0?!1:D,I=z.center,A=I===void 0?i||z.pulsate:I,k=z.fakeElement,b=k===void 0?!1:k;if(j.type==="mousedown"&&x.current){x.current=!1;return}j.type==="touchstart"&&(x.current=!0);var y=b?null:R.current,d=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0},w,O,S;if(A||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)w=Math.round(d.width/2),O=Math.round(d.height/2);else{var F=j.touches?j.touches[0]:j,V=F.clientX,K=F.clientY;w=Math.round(V-d.left),O=Math.round(K-d.top)}if(A)S=Math.sqrt((2*Math.pow(d.width,2)+Math.pow(d.height,2))/3),S%2===0&&(S+=1);else{var Y=Math.max(Math.abs((y?y.clientWidth:0)-w),w)*2+2,M=Math.max(Math.abs((y?y.clientHeight:0)-O),O)*2+2;S=Math.sqrt(Math.pow(Y,2)+Math.pow(M,2))}j.touches?E.current===null&&(E.current=function(){C({pulsate:P,rippleX:w,rippleY:O,rippleSize:S,cb:$})},m.current=setTimeout(function(){E.current&&(E.current(),E.current=null)},$q)):C({pulsate:P,rippleX:w,rippleY:O,rippleSize:S,cb:$})},[i,C]),T=ut.useCallback(function(){_({},{pulsate:!0})},[_]),L=ut.useCallback(function(j,z){if(clearTimeout(m.current),j.type==="touchend"&&E.current){j.persist(),E.current(),E.current=null,m.current=setTimeout(function(){L(j,z)});return}E.current=null,f(function($){return $.length>0?$.slice(1):$}),g.current=z},[]);return ut.useImperativeHandle(n,function(){return{pulsate:T,start:_,stop:L}},[T,_,L]),ut.createElement("span",Ct({className:Te(o.root,a),ref:R},u),ut.createElement(q8,{component:null,exit:!0},h))});const Gq=mn(Wq,{flip:!1,name:"MuiTouchRipple"})(ut.memo(Hq));var Kq={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},Xq=ut.forwardRef(function(e,n){var r=e.action,i=e.buttonRef,o=e.centerRipple,a=o===void 0?!1:o,u=e.children,c=e.classes,h=e.className,f=e.component,v=f===void 0?"button":f,g=e.disabled,x=g===void 0?!1:g,m=e.disableRipple,E=m===void 0?!1:m,R=e.disableTouchRipple,C=R===void 0?!1:R,_=e.focusRipple,T=_===void 0?!1:_,L=e.focusVisibleClassName,j=e.onBlur,z=e.onClick,$=e.onFocus,D=e.onFocusVisible,P=e.onKeyDown,I=e.onKeyUp,A=e.onMouseDown,k=e.onMouseLeave,b=e.onMouseUp,y=e.onTouchEnd,d=e.onTouchMove,w=e.onTouchStart,O=e.onDragLeave,S=e.tabIndex,F=S===void 0?0:S,V=e.TouchRippleProps,K=e.type,Y=K===void 0?"button":K,M=ve(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),B=ut.useRef(null);function H(){return Ai.findDOMNode(B.current)}var q=ut.useRef(null),Q=ut.useState(!1),U=Q[0],X=Q[1];x&&U&&X(!1);var G=Uq(),Z=G.isFocusVisible,J=G.onBlurVisible,et=G.ref;ut.useImperativeHandle(r,function(){return{focusVisible:function(){X(!0),B.current.focus()}}},[]),ut.useEffect(function(){U&&T&&!E&&q.current.pulsate()},[E,T,U]);function nt(It,Ie){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C;return qa(function(ke){Ie&&Ie(ke);var Or=me;return!Or&&q.current&&q.current[It](ke),!0})}var at=nt("start",A),st=nt("stop",O),mt=nt("stop",b),wt=nt("stop",function(It){U&&It.preventDefault(),k&&k(It)}),yt=nt("start",w),gt=nt("stop",y),bt=nt("stop",d),ht=nt("stop",function(It){U&&(J(It),X(!1)),j&&j(It)},!1),it=qa(function(It){B.current||(B.current=It.currentTarget),Z(It)&&(X(!0),D&&D(It)),$&&$(It)}),ot=function(){var Ie=H();return v&&v!=="button"&&!(Ie.tagName==="A"&&Ie.href)},ct=ut.useRef(!1),ft=qa(function(It){T&&!ct.current&&U&&q.current&&It.key===" "&&(ct.current=!0,It.persist(),q.current.stop(It,function(){q.current.start(It)})),It.target===It.currentTarget&&ot()&&It.key===" "&&It.preventDefault(),P&&P(It),It.target===It.currentTarget&&ot()&&It.key==="Enter"&&!x&&(It.preventDefault(),z&&z(It))}),vt=qa(function(It){T&&It.key===" "&&q.current&&U&&!It.defaultPrevented&&(ct.current=!1,It.persist(),q.current.stop(It,function(){q.current.pulsate(It)})),I&&I(It),z&&It.target===It.currentTarget&&ot()&&It.key===" "&&!It.defaultPrevented&&z(It)}),xt=v;xt==="button"&&M.href&&(xt="a");var St={};xt==="button"?(St.type=Y,St.disabled=x):((xt!=="a"||!M.href)&&(St.role="button"),St["aria-disabled"]=x);var Lt=$r(i,n),Kt=$r(et,B),Tt=$r(Lt,Kt),At=ut.useState(!1),Wt=At[0],Bt=At[1];ut.useEffect(function(){Bt(!0)},[]);var te=Wt&&!E&&!x;return ut.createElement(xt,Ct({className:Te(c.root,h,U&&[c.focusVisible,L],x&&c.disabled),onBlur:ht,onClick:z,onFocus:it,onKeyDown:ft,onKeyUp:vt,onMouseDown:at,onMouseLeave:wt,onMouseUp:mt,onDragLeave:st,onTouchEnd:gt,onTouchMove:bt,onTouchStart:yt,ref:Tt,tabIndex:x?-1:F},St,M),u,te?ut.createElement(Gq,Ct({ref:q,center:a},V)):null)});const Yq=mn(Kq,{name:"MuiButtonBase"})(Xq);var qq=function(e){return{root:Ct({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Na(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Na(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Na(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Na(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Na(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Na(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Na(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},Qq=ut.forwardRef(function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,u=a===void 0?"default":a,c=e.component,h=c===void 0?"button":c,f=e.disabled,v=f===void 0?!1:f,g=e.disableElevation,x=g===void 0?!1:g,m=e.disableFocusRipple,E=m===void 0?!1:m,R=e.endIcon,C=e.focusVisibleClassName,_=e.fullWidth,T=_===void 0?!1:_,L=e.size,j=L===void 0?"medium":L,z=e.startIcon,$=e.type,D=$===void 0?"button":$,P=e.variant,I=P===void 0?"text":P,A=ve(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),k=z&&ut.createElement("span",{className:Te(i.startIcon,i["iconSize".concat(ti(j))])},z),b=R&&ut.createElement("span",{className:Te(i.endIcon,i["iconSize".concat(ti(j))])},R);return ut.createElement(Yq,Ct({className:Te(i.root,i[I],o,u==="inherit"?i.colorInherit:u!=="default"&&i["".concat(I).concat(ti(u))],j!=="medium"&&[i["".concat(I,"Size").concat(ti(j))],i["size".concat(ti(j))]],x&&i.disableElevation,v&&i.disabled,T&&i.fullWidth),component:h,disabled:v,focusRipple:!E,focusVisibleClassName:Te(i.focusVisible,C),ref:n,type:D},A),ut.createElement("span",{className:i.label},k,r,b))});const Jq=mn(qq,{name:"MuiButton"})(Qq);var J_=function(t,e){return J_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},J_(t,e)};function jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");J_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qt=function(){return qt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qt.apply(this,arguments)};function pt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(f){try{h(r.next(f))}catch(v){a(v)}}function c(f){try{h(r.throw(f))}catch(v){a(v)}}function h(f){f.done?o(f.value):i(f.value).then(u,c)}h((r=r.apply(t,e||[])).next())})}function dt(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(h){return function(f){return c([h,f])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(f){h=[6,f],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Fn(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function se(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sj={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt=function(t,e){if(!t)throw zc(e)},zc=function(t){return new Error("Firebase Database ("+Sj.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ej=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zq=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=o>>2,v=(o&3)<<4|u>>4,g=(u&15)<<2|h>>6,x=h&63;c||(x=64,a||(g=64)),r.push(n[f],n[v],n[g],n[x])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ej(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,u=a?n[t.charAt(i)]:0;++i;var c=i<t.length,h=c?n[t.charAt(i)]:64;++i;var f=i<t.length,v=f?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||v==null)throw Error();var g=o<<2|u>>4;if(r.push(g),h!==64){var x=u<<4&240|h>>2;if(r.push(x),v!==64){var m=h<<6&192|v;r.push(m)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Tj=function(t){var e=Ej(t);return Ay.encodeByteArray(e,!0)},TM=function(t){return Tj(t).replace(/\./g,"")},kM=function(t){try{return Ay.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){return sd(void 0,t)}function sd(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!t9(r)||(t[r]=sd(t[r],e[r]));return t}function t9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=qt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[TM(JSON.stringify(n)),TM(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bu())}function Cj(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e9(){return typeof self=="object"&&self.self===self}function kT(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ij(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n9(){return bu().indexOf("Electron/")>=0}function r9(){var t=bu();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i9(){return bu().indexOf("MSAppHost/")>=0}function Aj(){return Sj.NODE_ADMIN===!0}function o9(){return!Cj()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qd(){return"indexedDB"in self&&indexedDB!=null}function CT(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function Pj(){return!(!navigator||!navigator.cookieEnabled)}function s9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a9="FirebaseError",Vc=function(t){jt(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=a9,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ss.prototype.create),o}return e}(Error),ss=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],u=a?u9(a,i):"Error",c=this.serviceName+": "+u+" ("+o+").",h=new Vc(o,c,i);return h},t}();function u9(t,e){return t.replace(l9,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var l9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){return JSON.parse(t)}function _n(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IT=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=ad(kM(o[0])||""),n=ad(kM(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},c9=function(t){var e=IT(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},h9=function(t){var e=IT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},f9=function(t){var e=IT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _u(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Z_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rm(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){for(var e=[],n=function(c,h){Array.isArray(h)?h.forEach(function(f){e.push(encodeURIComponent(c)+"="+encodeURIComponent(f))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],u=o[1];n(a,u)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p9=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^u&(c^h),g=1518500249):(v=u^c^h,g=1859775393):i<60?(v=u&c|h&(u|c),g=2400959708):(v=u^c^h,g=3395469782);var o=(a<<5|a>>>27)+v+f+g+r[i]&4294967295;f=h,h=c,c=(u<<30|u>>>2)&4294967295,u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();function v9(t,e){var n=new g9(t,e);return n.subscribe.bind(n)}var g9=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");m9(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=o1),o.error===void 0&&(o.error=o1),o.complete===void 0&&(o.complete=o1);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function m9(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function o1(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Wr(t,e){return t+" failed: "+e+" argument "}function Rn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Wr(t,e)+"must be a valid function.")}function CM(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Wr(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y9=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Nt(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Py=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w9=1e3,x9=2,b9=4*60*60*1e3,_9=.5;function tS(t,e,n){e===void 0&&(e=w9),n===void 0&&(n=x9);var r=e*Math.pow(n,t),i=Math.round(_9*r*(Math.random()-.5)*2);return Math.min(b9,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t){return t&&t._delegate?t._delegate:t}var dr=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new Nn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(E9(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}try{for(var i=Fn(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Gn(o.value,2),u=a[0],c=a[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:h});c.resolve(f)}catch{}}}catch(v){n={error:v}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Ua),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(se(se([],Gn(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Gn(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=Ua),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=Ua),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,o=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=Fn(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var f=Gn(h.value,2),v=f[0],g=f[1],x=this.normalizeInstanceIdentifier(v);a===x&&g.resolve(u)}}catch(m){n={error:m}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);var a=this.instances.get(i);return a&&e(a,i),function(){o.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var a=Fn(o),u=a.next();!u.done;u=a.next()){var c=u.value;try{c(e,n)}catch{}}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:S9(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Ua),this.component?this.component.multipleInstances?e:Ua:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function S9(t){return t===Ua?void 0:t}function E9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oj=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new Rj(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Hi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da,AT=[],ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));var Mj={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},T9=ce.INFO,k9=(Da={},Da[ce.DEBUG]="log",Da[ce.VERBOSE]="log",Da[ce.INFO]="info",Da[ce.WARN]="warn",Da[ce.ERROR]="error",Da),C9=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=k9[e];if(o)console[o].apply(console,Hi(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Lu=function(){function t(e){this.name=e,this._logLevel=T9,this._logHandler=C9,this._userLogHandler=null,AT.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ce))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?Mj[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Hi([this,ce.DEBUG],e)),this._logHandler.apply(this,Hi([this,ce.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Hi([this,ce.VERBOSE],e)),this._logHandler.apply(this,Hi([this,ce.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Hi([this,ce.INFO],e)),this._logHandler.apply(this,Hi([this,ce.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Hi([this,ce.WARN],e)),this._logHandler.apply(this,Hi([this,ce.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Hi([this,ce.ERROR],e)),this._logHandler.apply(this,Hi([this,ce.ERROR],e))},t}();function I9(t){AT.forEach(function(e){e.setLogLevel(t)})}function A9(t,e){for(var n=function(a){var u=null;e&&e.level&&(u=Mj[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var f=[],v=2;v<arguments.length;v++)f[v-2]=arguments[v];var g=f.map(function(x){if(x==null)return null;if(typeof x=="string")return x;if(typeof x=="number"||typeof x=="boolean")return x.toString();if(x instanceof Error)return x.message;try{return JSON.stringify(x)}catch{return null}}).filter(function(x){return x}).join(" ");h>=(u??c.logLevel)&&t({level:ce[h].toLowerCase(),message:g,args:f,type:c.name})}},r=0,i=AT;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs,P9=(xs={},xs["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xs["bad-app-name"]="Illegal App name: '{$appName}",xs["duplicate-app"]="Firebase App named '{$appName}' already exists",xs["app-deleted"]="Firebase App named '{$appName}' already deleted",xs["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xs["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xs),Cl=new ss("app","Firebase",P9),Nj="@firebase/app",R9="0.6.30",O9="@firebase/analytics",M9="@firebase/app-check",N9="@firebase/auth",D9="@firebase/database",L9="@firebase/functions",F9="@firebase/installations",j9="@firebase/messaging",B9="@firebase/performance",U9="@firebase/remote-config",z9="@firebase/storage",V9="@firebase/firestore",$9="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,im="[DEFAULT]",W9=(ir={},ir[Nj]="fire-core",ir[O9]="fire-analytics",ir[M9]="fire-app-check",ir[N9]="fire-auth",ir[D9]="fire-rtdb",ir[L9]="fire-fn",ir[F9]="fire-iid",ir[j9]="fire-fcm",ir[B9]="fire-perf",ir[U9]="fire-rc",ir[z9]="fire-gcs",ir[V9]="fire-fst",ir["fire-js"]="fire-js",ir[$9]="fire-js-all",ir);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hc=new Lu("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bg=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=kj(e),this.container=new Oj(n.name),this._addComponent(new dr("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=im),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=im),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){hc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Cl.create("app-deleted",{appName:this.name_})},t}();bg.prototype.name&&bg.prototype.options||bg.prototype.delete||console.log("dc");var H9="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:h,setLogLevel:I9,onLog:f,apps:null,SDK_VERSION:H9,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(g){delete e[g]}function o(g){if(g=g||im,!ui(e,g))throw Cl.create("no-app",{appName:g});return e[g]}o.App=t;function a(g,x){if(x===void 0&&(x={}),typeof x!="object"||x===null){var m=x;x={name:m}}var E=x;E.name===void 0&&(E.name=im);var R=E.name;if(typeof R!="string"||!R)throw Cl.create("bad-app-name",{appName:String(R)});if(ui(e,R))throw Cl.create("duplicate-app",{appName:R});var C=new t(g,E,r);return e[R]=C,C}function u(){return Object.keys(e).map(function(g){return e[g]})}function c(g){var x=g.name;if(n.has(x))return hc.debug("There were multiple attempts to register component "+x+"."),g.type==="PUBLIC"?r[x]:null;if(n.set(x,g),g.type==="PUBLIC"){var m=function(_){if(_===void 0&&(_=o()),typeof _[x]!="function")throw Cl.create("invalid-app-argument",{appName:x});return _[x]()};g.serviceProps!==void 0&&sd(m,g.serviceProps),r[x]=m,t.prototype[x]=function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];var L=this._getService.bind(this,x);return L.apply(this,g.multipleInstances?_:[])}}for(var E=0,R=Object.keys(e);E<R.length;E++){var C=R[E];e[C]._addComponent(g)}return g.type==="PUBLIC"?r[x]:null}function h(g,x,m){var E,R=(E=W9[g])!==null&&E!==void 0?E:g;m&&(R+="-"+m);var C=R.match(/\s|\//),_=x.match(/\s|\//);if(C||_){var T=['Unable to register library "'+R+'" with version "'+x+'":'];C&&T.push('library name "'+R+'" contains illegal characters (whitespace or "/")'),C&&_&&T.push("and"),_&&T.push('version name "'+x+'" contains illegal characters (whitespace or "/")'),hc.warn(T.join(" "));return}c(new dr(R+"-version",function(){return{library:R,version:x}},"VERSION"))}function f(g,x){if(g!==null&&typeof g!="function")throw Cl.create("invalid-log-argument");A9(g,x)}function v(g,x){if(x==="serverAuth")return null;var m=x;return m}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){var t=G9(bg);t.INTERNAL=qt(qt({},t.INTERNAL),{createFirebaseNamespace:Dj,extendNamespace:e,createSubscribe:v9,ErrorFactory:ss,deepExtend:sd});function e(n){sd(t,n)}return t}var PT=Dj();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K9=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(X9(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function X9(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e){t.INTERNAL.registerComponent(new dr("platform-logger",function(n){return new K9(n)},"PRIVATE")),t.registerVersion(Nj,R9,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(e9()&&self.firebase!==void 0){hc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var IM=self.firebase.SDK_VERSION;IM&&IM.indexOf("LITE")>=0&&hc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var q9=PT.initializeApp;PT.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Cj()&&hc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),q9.apply(void 0,t)};var Ht=PT;Y9(Ht);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,p){s!=Array.prototype&&s!=Object.prototype&&(s[l]=p.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var l=0;l<s.length;++l){var p=s[l];if(p&&p.Math==Math)return p}return globalThis}var r=n(this);function i(s,l){if(l){var p=r;s=s.split(".");for(var N=0;N<s.length-1;N++){var W=s[N];W in p||(p[W]={}),p=p[W]}s=s[s.length-1],N=p[s],l=l(N),l!=N&&l!=null&&e(p,s,{configurable:!0,writable:!0,value:l})}}function o(s){var l=0;return function(){return l<s.length?{done:!1,value:s[l++]}:{done:!0}}}function a(s){var l=typeof Symbol<"u"&&Symbol.iterator&&s[Symbol.iterator];return l?l.call(s):{next:o(s)}}i("Promise",function(s){function l(rt){this.b=0,this.c=void 0,this.a=[];var lt=this.f();try{rt(lt.resolve,lt.reject)}catch(Et){lt.reject(Et)}}function p(){this.a=null}function N(rt){return rt instanceof l?rt:new l(function(lt){lt(rt)})}if(s)return s;p.prototype.b=function(rt){if(this.a==null){this.a=[];var lt=this;this.c(function(){lt.g()})}this.a.push(rt)};var W=r.setTimeout;p.prototype.c=function(rt){W(rt,0)},p.prototype.g=function(){for(;this.a&&this.a.length;){var rt=this.a;this.a=[];for(var lt=0;lt<rt.length;++lt){var Et=rt[lt];rt[lt]=null;try{Et()}catch(Pt){this.f(Pt)}}}this.a=null},p.prototype.f=function(rt){this.c(function(){throw rt})},l.prototype.f=function(){function rt(Pt){return function(Zt){Et||(Et=!0,Pt.call(lt,Zt))}}var lt=this,Et=!1;return{resolve:rt(this.m),reject:rt(this.g)}},l.prototype.m=function(rt){if(rt===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(rt instanceof l)this.s(rt);else{t:switch(typeof rt){case"object":var lt=rt!=null;break t;case"function":lt=!0;break t;default:lt=!1}lt?this.v(rt):this.h(rt)}},l.prototype.v=function(rt){var lt=void 0;try{lt=rt.then}catch(Et){this.g(Et);return}typeof lt=="function"?this.u(lt,rt):this.h(rt)},l.prototype.g=function(rt){this.i(2,rt)},l.prototype.h=function(rt){this.i(1,rt)},l.prototype.i=function(rt,lt){if(this.b!=0)throw Error("Cannot settle("+rt+", "+lt+"): Promise already settled in state"+this.b);this.b=rt,this.c=lt,this.l()},l.prototype.l=function(){if(this.a!=null){for(var rt=0;rt<this.a.length;++rt)tt.b(this.a[rt]);this.a=null}};var tt=new p;return l.prototype.s=function(rt){var lt=this.f();rt.Ra(lt.resolve,lt.reject)},l.prototype.u=function(rt,lt){var Et=this.f();try{rt.call(lt,Et.resolve,Et.reject)}catch(Pt){Et.reject(Pt)}},l.prototype.then=function(rt,lt){function Et(be,In){return typeof be=="function"?function(Do){try{Pt(be(Do))}catch(ab){Zt(ab)}}:In}var Pt,Zt,Ae=new l(function(be,In){Pt=be,Zt=In});return this.Ra(Et(rt,Pt),Et(lt,Zt)),Ae},l.prototype.catch=function(rt){return this.then(void 0,rt)},l.prototype.Ra=function(rt,lt){function Et(){switch(Pt.b){case 1:rt(Pt.c);break;case 2:lt(Pt.c);break;default:throw Error("Unexpected state: "+Pt.b)}}var Pt=this;this.a==null?tt.b(Et):this.a.push(Et)},l.resolve=N,l.reject=function(rt){return new l(function(lt,Et){Et(rt)})},l.race=function(rt){return new l(function(lt,Et){for(var Pt=a(rt),Zt=Pt.next();!Zt.done;Zt=Pt.next())N(Zt.value).Ra(lt,Et)})},l.all=function(rt){var lt=a(rt),Et=lt.next();return Et.done?N([]):new l(function(Pt,Zt){function Ae(Do){return function(ab){be[Do]=ab,In--,In==0&&Pt(be)}}var be=[],In=0;do be.push(void 0),In++,N(Et.value).Ra(Ae(be.length-1),Zt),Et=lt.next();while(!Et.done)})},l});var u=u||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,f=null;function v(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&h.test(s)?s:""}function g(){}function x(s){var l=typeof s;return l!="object"?l:s?Array.isArray(s)?"array":l:"null"}function m(s){var l=x(s);return l=="array"||l=="object"&&typeof s.length=="number"}function E(s){return x(s)=="function"}function R(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function C(s){return Object.prototype.hasOwnProperty.call(s,_)&&s[_]||(s[_]=++T)}var _="closure_uid_"+(1e9*Math.random()>>>0),T=0;function L(s,l,p){return s.call.apply(s.bind,arguments)}function j(s,l,p){if(!s)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,N),s.apply(l,W)}}return function(){return s.apply(l,arguments)}}function z(s,l,p){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?z=L:z=j,z.apply(null,arguments)}function $(s,l){var p=Array.prototype.slice.call(arguments,1);return function(){var N=p.slice();return N.push.apply(N,arguments),s.apply(this,N)}}function D(s,l){function p(){}p.prototype=l.prototype,s.bb=l.prototype,s.prototype=new p,s.prototype.constructor=s}function P(s){return s}function I(s,l,p){this.code=k+s,this.message=l||b[s]||"",this.a=p||null}D(I,Error),I.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},I.prototype.toJSON=function(){return this.w()};function A(s){var l=s&&s.code;return l?new I(l.substring(k.length),s.message,s.serverResponse):null}var k="auth/",b={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},y={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function d(s){for(var l in y)if(y[l].id===s)return s=y[l],{firebaseEndpoint:s.Ua,secureTokenEndpoint:s.$a,identityPlatformEndpoint:s.Xa};return null}var w;w=d("__EID__")?"__EID__":void 0;function O(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function S(s){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var l=Error().stack;l&&(this.stack=l)}s&&(this.message=String(s))}D(S,Error),S.prototype.name="CustomError";function F(s,l){s=s.split("%s");for(var p="",N=s.length-1,W=0;W<N;W++)p+=s[W]+(W<l.length?l[W]:"%s");S.call(this,p+s[N])}D(F,S),F.prototype.name="AssertionError";function V(s,l){throw new F("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function K(s,l){this.c=s,this.f=l,this.b=0,this.a=null}K.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function Y(s,l){s.f(l),100>s.b&&(s.b++,l.next=s.a,s.a=l)}function M(){this.b=this.a=null}var B=new K(function(){return new q},function(s){s.reset()});M.prototype.add=function(s,l){var p=B.get();p.set(s,l),this.b?this.b.next=p:this.a=p,this.b=p};function H(){var s=pI,l=null;return s.a&&(l=s.a,s.a=s.a.next,s.a||(s.b=null),l.next=null),l}function q(){this.next=this.b=this.a=null}q.prototype.set=function(s,l){this.a=s,this.b=l,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var Q=Array.prototype.indexOf?function(s,l){return Array.prototype.indexOf.call(s,l,void 0)}:function(s,l){if(typeof s=="string")return typeof l!="string"||l.length!=1?-1:s.indexOf(l,0);for(var p=0;p<s.length;p++)if(p in s&&s[p]===l)return p;return-1},U=Array.prototype.forEach?function(s,l,p){Array.prototype.forEach.call(s,l,p)}:function(s,l,p){for(var N=s.length,W=typeof s=="string"?s.split(""):s,tt=0;tt<N;tt++)tt in W&&l.call(p,W[tt],tt,s)};function X(s,l){for(var p=typeof s=="string"?s.split(""):s,N=s.length-1;0<=N;--N)N in p&&l.call(void 0,p[N],N,s)}var G=Array.prototype.filter?function(s,l){return Array.prototype.filter.call(s,l,void 0)}:function(s,l){for(var p=s.length,N=[],W=0,tt=typeof s=="string"?s.split(""):s,rt=0;rt<p;rt++)if(rt in tt){var lt=tt[rt];l.call(void 0,lt,rt,s)&&(N[W++]=lt)}return N},Z=Array.prototype.map?function(s,l){return Array.prototype.map.call(s,l,void 0)}:function(s,l){for(var p=s.length,N=Array(p),W=typeof s=="string"?s.split(""):s,tt=0;tt<p;tt++)tt in W&&(N[tt]=l.call(void 0,W[tt],tt,s));return N},J=Array.prototype.some?function(s,l){return Array.prototype.some.call(s,l,void 0)}:function(s,l){for(var p=s.length,N=typeof s=="string"?s.split(""):s,W=0;W<p;W++)if(W in N&&l.call(void 0,N[W],W,s))return!0;return!1};function et(s){t:{for(var l=H$,p=s.length,N=typeof s=="string"?s.split(""):s,W=0;W<p;W++)if(W in N&&l.call(void 0,N[W],W,s)){l=W;break t}l=-1}return 0>l?null:typeof s=="string"?s.charAt(l):s[l]}function nt(s,l){return 0<=Q(s,l)}function at(s,l){l=Q(s,l);var p;return(p=0<=l)&&Array.prototype.splice.call(s,l,1),p}function st(s,l){var p=0;X(s,function(N,W){l.call(void 0,N,W,s)&&Array.prototype.splice.call(s,W,1).length==1&&p++})}function mt(s){return Array.prototype.concat.apply([],arguments)}function wt(s){var l=s.length;if(0<l){for(var p=Array(l),N=0;N<l;N++)p[N]=s[N];return p}return[]}var yt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},gt=/&/g,bt=/</g,ht=/>/g,it=/"/g,ot=/'/g,ct=/\x00/g,ft=/[\x00&<>"']/;function vt(s,l){return s.indexOf(l)!=-1}function xt(s,l){return s<l?-1:s>l?1:0}var St;t:{var Lt=c.navigator;if(Lt){var Kt=Lt.userAgent;if(Kt){St=Kt;break t}}St=""}function Tt(s){return vt(St,s)}function At(s,l){for(var p in s)l.call(void 0,s[p],p,s)}function Wt(s){for(var l in s)return!1;return!0}function Bt(s){var l={},p;for(p in s)l[p]=s[p];return l}var te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function It(s,l){for(var p,N,W=1;W<arguments.length;W++){N=arguments[W];for(p in N)s[p]=N[p];for(var tt=0;tt<te.length;tt++)p=te[tt],Object.prototype.hasOwnProperty.call(N,p)&&(s[p]=N[p])}}function Ie(s,l){t:{try{var p=s&&s.ownerDocument,N=p&&(p.defaultView||p.parentWindow);if(N=N||c,N.Element&&N.Location){var W=N;break t}}catch{}W=null}if(W&&typeof W[l]<"u"&&(!s||!(s instanceof W[l])&&(s instanceof W.Location||s instanceof W.Element))){if(R(s))try{var tt=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{tt="<object could not be stringified>"}else tt=s===void 0?"undefined":s===null?"null":typeof s;V("Argument is not a %s (or a non-Element, non-Location mock); got: %s",l,tt)}}function me(s,l){this.a=s===Be&&l||"",this.b=Or}me.prototype.ta=!0,me.prototype.sa=function(){return this.a},me.prototype.toString=function(){return"Const{"+this.a+"}"};function ke(s){return s instanceof me&&s.constructor===me&&s.b===Or?s.a:(V("expected object of type Const, got '"+s+"'"),"type_error:Const")}var Or={},Be={},Cn;function er(){if(Cn===void 0){var s=null,l=c.trustedTypes;if(l&&l.createPolicy){try{s=l.createPolicy("goog#html",{createHTML:P,createScript:P,createScriptURL:P})}catch(p){c.console&&c.console.error(p.message)}Cn=s}else Cn=s}return Cn}function Yu(s,l){this.a=l===JC?s:""}Yu.prototype.ta=!0,Yu.prototype.sa=function(){return this.a.toString()},Yu.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function QC(s){return s instanceof Yu&&s.constructor===Yu?s.a:(V("expected object of type TrustedResourceUrl, got '"+s+"' of type "+x(s)),"type_error:TrustedResourceUrl")}function D0(s,l){var p=ke(s);if(!bV.test(p))throw Error("Invalid TrustedResourceUrl format: "+p);return s=p.replace(xV,function(N,W){if(!Object.prototype.hasOwnProperty.call(l,W))throw Error('Found marker, "'+W+'", in format string, "'+p+'", but no valid label mapping found in args: '+JSON.stringify(l));return N=l[W],N instanceof me?ke(N):encodeURIComponent(String(N))}),_V(s)}var xV=/%{(\w+)}/g,bV=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,JC={};function _V(s){var l=er();return s=l?l.createScriptURL(s):s,new Yu(s,JC)}function Mr(s,l){this.a=l===oh?s:""}Mr.prototype.ta=!0,Mr.prototype.sa=function(){return this.a.toString()},Mr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ip(s){return s instanceof Mr&&s.constructor===Mr?s.a:(V("expected object of type SafeUrl, got '"+s+"' of type "+x(s)),"type_error:SafeUrl")}var SV=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,EV=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ZC=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tI(s){if(s instanceof Mr)return s;if(s=typeof s=="object"&&s.ta?s.sa():String(s),ZC.test(s))s=new Mr(s,oh);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var l=s.match(EV);s=l&&SV.test(l[1])?new Mr(s,oh):null}return s}function eI(s){return s instanceof Mr?s:(s=typeof s=="object"&&s.ta?s.sa():String(s),ZC.test(s)||(s="about:invalid#zClosurez"),new Mr(s,oh))}var oh={},nI=new Mr("about:invalid#zClosurez",oh);function qu(s,l,p){this.a=p===rI?s:""}qu.prototype.ta=!0,qu.prototype.sa=function(){return this.a.toString()},qu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function TV(s){return s instanceof qu&&s.constructor===qu?s.a:(V("expected object of type SafeHtml, got '"+s+"' of type "+x(s)),"type_error:SafeHtml")}var rI={};function kV(s,l){Ie(s,"HTMLScriptElement"),s.src=QC(l),(l=s.ownerDocument&&s.ownerDocument.defaultView)&&l!=c?l=v(l.document):(f===null&&(f=v(c.document)),l=f),l&&s.setAttribute("nonce",l)}function iI(s,l,p,N){return s=s instanceof Mr?s:eI(s),l=l||c,p=p instanceof me?ke(p):p||"",l.open(Ip(s),p,N,void 0)}function oI(s,l){for(var p=s.split("%s"),N="",W=Array.prototype.slice.call(arguments,1);W.length&&1<p.length;)N+=p.shift()+W.shift();return N+p.join("%s")}function L0(s){return ft.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(gt,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(bt,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(ht,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(it,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(ot,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(ct,"&#0;"))),s}function F0(s){return F0[" "](s),s}F0[" "]=g;function CV(s,l){var p=RV;return Object.prototype.hasOwnProperty.call(p,s)?p[s]:p[s]=l(s)}var IV=Tt("Opera"),Di=Tt("Trident")||Tt("MSIE"),sI=Tt("Edge"),AV=sI||Di,aI=Tt("Gecko")&&!(vt(St.toLowerCase(),"webkit")&&!Tt("Edge"))&&!(Tt("Trident")||Tt("MSIE"))&&!Tt("Edge"),PV=vt(St.toLowerCase(),"webkit")&&!Tt("Edge");function uI(){var s=c.document;return s?s.documentMode:void 0}var Ap;t:{var j0="",B0=function(){var s=St;if(aI)return/rv:([^\);]+)(\)|;)/.exec(s);if(sI)return/Edge\/([\d\.]+)/.exec(s);if(Di)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(PV)return/WebKit\/(\S+)/.exec(s);if(IV)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(B0&&(j0=B0?B0[1]:""),Di){var U0=uI();if(U0!=null&&U0>parseFloat(j0)){Ap=String(U0);break t}}Ap=j0}var RV={};function lI(s){return CV(s,function(){for(var l=0,p=yt(String(Ap)).split("."),N=yt(String(s)).split("."),W=Math.max(p.length,N.length),tt=0;l==0&&tt<W;tt++){var rt=p[tt]||"",lt=N[tt]||"";do{if(rt=/(\d*)(\D*)(.*)/.exec(rt)||["","","",""],lt=/(\d*)(\D*)(.*)/.exec(lt)||["","","",""],rt[0].length==0&&lt[0].length==0)break;l=xt(rt[1].length==0?0:parseInt(rt[1],10),lt[1].length==0?0:parseInt(lt[1],10))||xt(rt[2].length==0,lt[2].length==0)||xt(rt[2],lt[2]),rt=rt[3],lt=lt[3]}while(l==0)}return 0<=l})}var z0;if(c.document&&Di){var cI=uI();z0=cI||parseInt(Ap,10)||void 0}else z0=void 0;var cs=z0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var OV=!Di||9<=Number(cs);function sh(s){var l=document;return typeof s=="string"?l.getElementById(s):s}function hI(s,l){At(l,function(p,N){p&&typeof p=="object"&&p.ta&&(p=p.sa()),N=="style"?s.style.cssText=p:N=="class"?s.className=p:N=="for"?s.htmlFor=p:fI.hasOwnProperty(N)?s.setAttribute(fI[N],p):N.lastIndexOf("aria-",0)==0||N.lastIndexOf("data-",0)==0?s.setAttribute(N,p):s[N]=p})}var fI={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function MV(s,l,p){var N=arguments,W=document,tt=String(N[0]),rt=N[1];if(!OV&&rt&&(rt.name||rt.type)){if(tt=["<",tt],rt.name&&tt.push(' name="',L0(rt.name),'"'),rt.type){tt.push(' type="',L0(rt.type),'"');var lt={};It(lt,rt),delete lt.type,rt=lt}tt.push(">"),tt=tt.join("")}return tt=Pp(W,tt),rt&&(typeof rt=="string"?tt.className=rt:Array.isArray(rt)?tt.className=rt.join(" "):hI(tt,rt)),2<N.length&&NV(W,tt,N),tt}function NV(s,l,p){function N(lt){lt&&l.appendChild(typeof lt=="string"?s.createTextNode(lt):lt)}for(var W=2;W<p.length;W++){var tt=p[W];if(!m(tt)||R(tt)&&0<tt.nodeType)N(tt);else{t:{if(tt&&typeof tt.length=="number"){if(R(tt)){var rt=typeof tt.item=="function"||typeof tt.item=="string";break t}if(E(tt)){rt=typeof tt.item=="function";break t}}rt=!1}U(rt?wt(tt):tt,N)}}}function Pp(s,l){return l=String(l),s.contentType==="application/xhtml+xml"&&(l=l.toLowerCase()),s.createElement(l)}function dI(s){c.setTimeout(function(){throw s},0)}var V0;function DV(){var s=c.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Tt("Presto")&&(s=function(){var W=Pp(document,"IFRAME");W.style.display="none",document.documentElement.appendChild(W);var tt=W.contentWindow;W=tt.document,W.open(),W.close();var rt="callImmediate"+Math.random(),lt=tt.location.protocol=="file:"?"*":tt.location.protocol+"//"+tt.location.host;W=z(function(Et){(lt=="*"||Et.origin==lt)&&Et.data==rt&&this.port1.onmessage()},this),tt.addEventListener("message",W,!1),this.port1={},this.port2={postMessage:function(){tt.postMessage(rt,lt)}}}),typeof s<"u"&&!Tt("Trident")&&!Tt("MSIE")){var l=new s,p={},N=p;return l.port1.onmessage=function(){if(p.next!==void 0){p=p.next;var W=p.Hb;p.Hb=null,W()}},function(W){N.next={Hb:W},N=N.next,l.port2.postMessage(0)}}return function(W){c.setTimeout(W,0)}}function Rp(s,l){Op||LV(),$0||(Op(),$0=!0),pI.add(s,l)}var Op;function LV(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);Op=function(){s.then(vI)}}else Op=function(){var l=vI;!E(c.setImmediate)||c.Window&&c.Window.prototype&&!Tt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(V0||(V0=DV()),V0(l)):c.setImmediate(l)}}var $0=!1,pI=new M;function vI(){for(var s;s=H();){try{s.a.call(s.b)}catch(l){dI(l)}Y(B,s)}$0=!1}function he(s,l){if(this.a=va,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=g)try{var p=this;s.call(l,function(N){ga(p,ah,N)},function(N){if(!(N instanceof Qu))try{throw N instanceof Error?N:Error("Promise rejected.")}catch{}ga(p,Ro,N)})}catch(N){ga(this,Ro,N)}}var va=0,ah=2,Ro=3;function gI(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}gI.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var mI=new K(function(){return new gI},function(s){s.reset()});function W0(s,l,p){var N=mI.get();return N.g=s,N.b=l,N.f=p,N}function Yt(s){if(s instanceof he)return s;var l=new he(g);return ga(l,ah,s),l}function We(s){return new he(function(l,p){p(s)})}function yI(s,l,p){_I(s,l,p,null)||Rp($(l,s))}function FV(s){return new he(function(l,p){var N=s.length,W=[];if(N)for(var tt=function(Pt,Zt){N--,W[Pt]=Zt,N==0&&l(W)},rt=function(Pt){p(Pt)},lt=0,Et;lt<s.length;lt++)Et=s[lt],yI(Et,$(tt,lt),rt);else l(W)})}function wI(s){return new he(function(l){var p=s.length,N=[];if(p)for(var W=function(lt,Et,Pt){p--,N[lt]=Et?{Qb:!0,value:Pt}:{Qb:!1,reason:Pt},p==0&&l(N)},tt=0,rt;tt<s.length;tt++)rt=s[tt],yI(rt,$(W,tt,!0),$(W,tt,!1));else l(N)})}he.prototype.then=function(s,l,p){return bI(this,E(s)?s:null,E(l)?l:null,p)},he.prototype.$goog_Thenable=!0,t=he.prototype,t.oa=function(s,l){return s=W0(s,s,l),s.c=!0,H0(this,s),this},t.o=function(s,l){return bI(this,null,s,l)},t.cancel=function(s){if(this.a==va){var l=new Qu(s);Rp(function(){xI(this,l)},this)}};function xI(s,l){if(s.a==va)if(s.c){var p=s.c;if(p.b){for(var N=0,W=null,tt=null,rt=p.b;rt&&(rt.c||(N++,rt.a==s&&(W=rt),!(W&&1<N)));rt=rt.next)W||(tt=rt);W&&(p.a==va&&N==1?xI(p,l):(tt?(N=tt,N.next==p.f&&(p.f=N),N.next=N.next.next):EI(p),TI(p,W,Ro,l)))}s.c=null}else ga(s,Ro,l)}function H0(s,l){s.b||s.a!=ah&&s.a!=Ro||SI(s),s.f?s.f.next=l:s.b=l,s.f=l}function bI(s,l,p,N){var W=W0(null,null,null);return W.a=new he(function(tt,rt){W.g=l?function(lt){try{var Et=l.call(N,lt);tt(Et)}catch(Pt){rt(Pt)}}:tt,W.b=p?function(lt){try{var Et=p.call(N,lt);Et===void 0&&lt instanceof Qu?rt(lt):tt(Et)}catch(Pt){rt(Pt)}}:rt}),W.a.c=s,H0(s,W),W.a}t.$c=function(s){this.a=va,ga(this,ah,s)},t.ad=function(s){this.a=va,ga(this,Ro,s)};function ga(s,l,p){s.a==va&&(s===p&&(l=Ro,p=new TypeError("Promise cannot resolve to itself")),s.a=1,_I(p,s.$c,s.ad,s)||(s.i=p,s.a=l,s.c=null,SI(s),l!=Ro||p instanceof Qu||BV(s,p)))}function _I(s,l,p,N){if(s instanceof he)return H0(s,W0(l||g,p||null,N)),!0;if(O(s))return s.then(l,p,N),!0;if(R(s))try{var W=s.then;if(E(W))return jV(s,W,l,p,N),!0}catch(tt){return p.call(N,tt),!0}return!1}function jV(s,l,p,N,W){function tt(Et){lt||(lt=!0,N.call(W,Et))}function rt(Et){lt||(lt=!0,p.call(W,Et))}var lt=!1;try{l.call(s,rt,tt)}catch(Et){tt(Et)}}function SI(s){s.h||(s.h=!0,Rp(s.gc,s))}function EI(s){var l=null;return s.b&&(l=s.b,s.b=l.next,l.next=null),s.b||(s.f=null),l}t.gc=function(){for(var s;s=EI(this);)TI(this,s,this.a,this.i);this.h=!1};function TI(s,l,p,N){if(p==Ro&&l.b&&!l.c)for(;s&&s.g;s=s.c)s.g=!1;if(l.a)l.a.c=null,kI(l,p,N);else try{l.c?l.g.call(l.f):kI(l,p,N)}catch(W){CI.call(null,W)}Y(mI,l)}function kI(s,l,p){l==ah?s.g.call(s.f,p):s.b&&s.b.call(s.f,p)}function BV(s,l){s.g=!0,Rp(function(){s.g&&CI.call(null,l)})}var CI=dI;function Qu(s){S.call(this,s)}D(Qu,S),Qu.prototype.name="cancel";function Mp(){this.ya=this.ya,this.pa=this.pa}var UV=0;Mp.prototype.ya=!1;function II(s){!s.ya&&(s.ya=!0,s.Da(),UV!=0)&&C(s)}Mp.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var zV=Object.freeze||function(s){return s},AI=!Di||9<=Number(cs),VV=Di&&!lI("9"),$V=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",g,l),c.removeEventListener("test",g,l)}catch{}return s}();function Nr(s,l){this.type=s,this.b=this.target=l,this.defaultPrevented=!1}Nr.prototype.preventDefault=function(){this.defaultPrevented=!0};function ma(s,l){if(Nr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var p=this.type=s.type,N=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=l,l=s.relatedTarget){if(aI){t:{try{F0(l.nodeName);var W=!0;break t}catch{}W=!1}W||(l=null)}}else p=="mouseover"?l=s.fromElement:p=="mouseout"&&(l=s.toElement);this.relatedTarget=l,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:WV[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}D(ma,Nr);var WV=zV({2:"touch",3:"pen",4:"mouse"});ma.prototype.preventDefault=function(){ma.bb.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,VV)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}},ma.prototype.g=function(){return this.a};var uh="closure_listenable_"+(1e6*Math.random()|0),HV=0;function GV(s,l,p,N,W){this.listener=s,this.proxy=null,this.src=l,this.type=p,this.capture=!!N,this.Wa=W,this.key=++HV,this.wa=this.Qa=!1}function Np(s){s.wa=!0,s.listener=null,s.proxy=null,s.src=null,s.Wa=null}function Dp(s){this.src=s,this.a={},this.b=0}Dp.prototype.add=function(s,l,p,N,W){var tt=s.toString();s=this.a[tt],s||(s=this.a[tt]=[],this.b++);var rt=K0(s,l,N,W);return-1<rt?(l=s[rt],p||(l.Qa=!1)):(l=new GV(l,this.src,tt,!!N,W),l.Qa=p,s.push(l)),l};function G0(s,l){var p=l.type;p in s.a&&at(s.a[p],l)&&(Np(l),s.a[p].length==0&&(delete s.a[p],s.b--))}function K0(s,l,p,N){for(var W=0;W<s.length;++W){var tt=s[W];if(!tt.wa&&tt.listener==l&&tt.capture==!!p&&tt.Wa==N)return W}return-1}var X0="closure_lm_"+(1e6*Math.random()|0),Y0={};function pi(s,l,p,N,W){if(N&&N.once)q0(s,l,p,N,W);else if(Array.isArray(l))for(var tt=0;tt<l.length;tt++)pi(s,l[tt],p,N,W);else p=J0(p),s&&s[uh]?DI(s,l,p,R(N)?!!N.capture:!!N,W):PI(s,l,p,!1,N,W)}function PI(s,l,p,N,W,tt){if(!l)throw Error("Invalid event type");var rt=R(W)?!!W.capture:!!W,lt=Lp(s);if(lt||(s[X0]=lt=new Dp(s)),p=lt.add(l,p,N,rt,tt),!p.proxy)if(N=KV(),p.proxy=N,N.src=s,N.listener=p,s.addEventListener)$V||(W=rt),W===void 0&&(W=!1),s.addEventListener(l.toString(),N,W);else if(s.attachEvent)s.attachEvent(OI(l.toString()),N);else if(s.addListener&&s.removeListener)s.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.")}function KV(){var s=XV,l=AI?function(p){return s.call(l.src,l.listener,p)}:function(p){if(p=s.call(l.src,l.listener,p),!p)return p};return l}function q0(s,l,p,N,W){if(Array.isArray(l))for(var tt=0;tt<l.length;tt++)q0(s,l[tt],p,N,W);else p=J0(p),s&&s[uh]?Z0(s,l,p,R(N)?!!N.capture:!!N,W):PI(s,l,p,!0,N,W)}function Xr(s,l,p,N,W){if(Array.isArray(l))for(var tt=0;tt<l.length;tt++)Xr(s,l[tt],p,N,W);else N=R(N)?!!N.capture:!!N,p=J0(p),s&&s[uh]?(s=s.v,l=String(l).toString(),l in s.a&&(tt=s.a[l],p=K0(tt,p,N,W),-1<p&&(Np(tt[p]),Array.prototype.splice.call(tt,p,1),tt.length==0&&(delete s.a[l],s.b--)))):s&&(s=Lp(s))&&(l=s.a[l.toString()],s=-1,l&&(s=K0(l,p,N,W)),(p=-1<s?l[s]:null)&&RI(p))}function RI(s){if(typeof s!="number"&&s&&!s.wa){var l=s.src;if(l&&l[uh])G0(l.v,s);else{var p=s.type,N=s.proxy;l.removeEventListener?l.removeEventListener(p,N,s.capture):l.detachEvent?l.detachEvent(OI(p),N):l.addListener&&l.removeListener&&l.removeListener(N),(p=Lp(l))?(G0(p,s),p.b==0&&(p.src=null,l[X0]=null)):Np(s)}}}function OI(s){return s in Y0?Y0[s]:Y0[s]="on"+s}function MI(s,l,p,N){var W=!0;if((s=Lp(s))&&(l=s.a[l.toString()]))for(l=l.concat(),s=0;s<l.length;s++){var tt=l[s];tt&&tt.capture==p&&!tt.wa&&(tt=NI(tt,N),W=W&&tt!==!1)}return W}function NI(s,l){var p=s.listener,N=s.Wa||s.src;return s.Qa&&RI(s),p.call(N,l)}function XV(s,l){if(s.wa)return!0;if(!AI){if(!l)t:{l=["window","event"];for(var p=c,N=0;N<l.length;N++)if(p=p[l[N]],p==null){l=null;break t}l=p}if(N=l,l=new ma(N,this),p=!0,!(0>N.keyCode||N.returnValue!=null)){t:{var W=!1;if(N.keyCode==0)try{N.keyCode=-1;break t}catch{W=!0}(W||N.returnValue==null)&&(N.returnValue=!0)}for(N=[],W=l.b;W;W=W.parentNode)N.push(W);for(s=s.type,W=N.length-1;0<=W;W--){l.b=N[W];var tt=MI(N[W],s,!0,l);p=p&&tt}for(W=0;W<N.length;W++)l.b=N[W],tt=MI(N[W],s,!1,l),p=p&&tt}return p}return NI(s,new ma(l,this))}function Lp(s){return s=s[X0],s instanceof Dp?s:null}var Q0="__closure_events_fn_"+(1e9*Math.random()>>>0);function J0(s){return E(s)?s:(s[Q0]||(s[Q0]=function(l){return s.handleEvent(l)}),s[Q0])}function gr(){Mp.call(this),this.v=new Dp(this),this.bc=this,this.hb=null}D(gr,Mp),gr.prototype[uh]=!0,gr.prototype.addEventListener=function(s,l,p,N){pi(this,s,l,p,N)},gr.prototype.removeEventListener=function(s,l,p,N){Xr(this,s,l,p,N)},gr.prototype.dispatchEvent=function(s){var l,p=this.hb;if(p)for(l=[];p;p=p.hb)l.push(p);p=this.bc;var N=s.type||s;if(typeof s=="string")s=new Nr(s,p);else if(s instanceof Nr)s.target=s.target||p;else{var W=s;s=new Nr(N,p),It(s,W)}if(W=!0,l)for(var tt=l.length-1;0<=tt;tt--){var rt=s.b=l[tt];W=Fp(rt,N,!0,s)&&W}if(rt=s.b=p,W=Fp(rt,N,!0,s)&&W,W=Fp(rt,N,!1,s)&&W,l)for(tt=0;tt<l.length;tt++)rt=s.b=l[tt],W=Fp(rt,N,!1,s)&&W;return W},gr.prototype.Da=function(){if(gr.bb.Da.call(this),this.v){var s=this.v,l;for(l in s.a){for(var p=s.a[l],N=0;N<p.length;N++)Np(p[N]);delete s.a[l],s.b--}}this.hb=null};function DI(s,l,p,N,W){s.v.add(String(l),p,!1,N,W)}function Z0(s,l,p,N,W){s.v.add(String(l),p,!0,N,W)}function Fp(s,l,p,N){if(l=s.v.a[String(l)],!l)return!0;l=l.concat();for(var W=!0,tt=0;tt<l.length;++tt){var rt=l[tt];if(rt&&!rt.wa&&rt.capture==p){var lt=rt.listener,Et=rt.Wa||rt.src;rt.Qa&&G0(s.v,rt),W=lt.call(Et,N)!==!1&&W}}return W&&!N.defaultPrevented}function tw(s,l,p){if(E(s))p&&(s=z(s,p));else if(s&&typeof s.handleEvent=="function")s=z(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function Ju(s){var l=null;return new he(function(p,N){l=tw(function(){p(void 0)},s),l==-1&&N(Error("Failed to schedule timer."))}).o(function(p){throw c.clearTimeout(l),p})}function LI(s){if(s.X&&typeof s.X=="function")return s.X();if(typeof s=="string")return s.split("");if(m(s)){for(var l=[],p=s.length,N=0;N<p;N++)l.push(s[N]);return l}l=[],p=0;for(N in s)l[p++]=s[N];return l}function FI(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.X||typeof s.X!="function"){if(m(s)||typeof s=="string"){var l=[];s=s.length;for(var p=0;p<s;p++)l.push(p);return l}l=[],p=0;for(var N in s)l[p++]=N;return l}}function YV(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(m(s)||typeof s=="string")U(s,l,void 0);else for(var p=FI(s),N=LI(s),W=N.length,tt=0;tt<W;tt++)l.call(void 0,N[tt],p&&p[tt],s)}function Zu(s,l){this.b={},this.a=[],this.c=0;var p=arguments.length;if(1<p){if(p%2)throw Error("Uneven number of arguments");for(var N=0;N<p;N+=2)this.set(arguments[N],arguments[N+1])}else if(s)if(s instanceof Zu)for(p=s.Y(),N=0;N<p.length;N++)this.set(p[N],s.get(p[N]));else for(N in s)this.set(N,s[N])}t=Zu.prototype,t.X=function(){ew(this);for(var s=[],l=0;l<this.a.length;l++)s.push(this.b[this.a[l]]);return s},t.Y=function(){return ew(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function ew(s){if(s.c!=s.a.length){for(var l=0,p=0;l<s.a.length;){var N=s.a[l];ya(s.b,N)&&(s.a[p++]=N),l++}s.a.length=p}if(s.c!=s.a.length){var W={};for(p=l=0;l<s.a.length;)N=s.a[l],ya(W,N)||(s.a[p++]=N,W[N]=1),l++;s.a.length=p}}t.get=function(s,l){return ya(this.b,s)?this.b[s]:l},t.set=function(s,l){ya(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=l},t.forEach=function(s,l){for(var p=this.Y(),N=0;N<p.length;N++){var W=p[N],tt=this.get(W);s.call(l,tt,W,this)}};function ya(s,l){return Object.prototype.hasOwnProperty.call(s,l)}var jI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qV(s,l){if(s){s=s.split("&");for(var p=0;p<s.length;p++){var N=s[p].indexOf("="),W=null;if(0<=N){var tt=s[p].substring(0,N);W=s[p].substring(N+1)}else tt=s[p];l(tt,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function hs(s,l){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var p;s instanceof hs?(this.i=l!==void 0?l:s.i,lh(this,s.c),this.l=s.l,this.a=s.a,ch(this,s.g),this.f=s.f,nw(this,VI(s.b)),this.h=s.h):s&&(p=String(s).match(jI))?(this.i=!!l,lh(this,p[1]||"",!0),this.l=hh(p[2]||""),this.a=hh(p[3]||"",!0),ch(this,p[4]),this.f=hh(p[5]||"",!0),nw(this,p[6]||"",!0),this.h=hh(p[7]||"")):(this.i=!!l,this.b=new wa(null,this.i))}hs.prototype.toString=function(){var s=[],l=this.c;l&&s.push(fh(l,BI,!0),":");var p=this.a;return(p||l=="file")&&(s.push("//"),(l=this.l)&&s.push(fh(l,BI,!0),"@"),s.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.g,p!=null&&s.push(":",String(p))),(p=this.f)&&(this.a&&p.charAt(0)!="/"&&s.push("/"),s.push(fh(p,p.charAt(0)=="/"?ZV:JV,!0))),(p=this.b.toString())&&s.push("?",p),(p=this.h)&&s.push("#",fh(p,e$)),s.join("")},hs.prototype.resolve=function(s){var l=new hs(this),p=!!s.c;p?lh(l,s.c):p=!!s.l,p?l.l=s.l:p=!!s.a,p?l.a=s.a:p=s.g!=null;var N=s.f;if(p)ch(l,s.g);else if(p=!!s.f){if(N.charAt(0)!="/")if(this.a&&!this.f)N="/"+N;else{var W=l.f.lastIndexOf("/");W!=-1&&(N=l.f.substr(0,W+1)+N)}if(W=N,W==".."||W==".")N="";else if(vt(W,"./")||vt(W,"/.")){N=W.lastIndexOf("/",0)==0,W=W.split("/");for(var tt=[],rt=0;rt<W.length;){var lt=W[rt++];lt=="."?N&&rt==W.length&&tt.push(""):lt==".."?((1<tt.length||tt.length==1&&tt[0]!="")&&tt.pop(),N&&rt==W.length&&tt.push("")):(tt.push(lt),N=!0)}N=tt.join("/")}else N=W}return p?l.f=N:p=s.b.toString()!=="",p?nw(l,VI(s.b)):p=!!s.h,p&&(l.h=s.h),l};function lh(s,l,p){s.c=p?hh(l,!0):l,s.c&&(s.c=s.c.replace(/:$/,""))}function ch(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.g=l}else s.g=null}function nw(s,l,p){l instanceof wa?(s.b=l,n$(s.b,s.i)):(p||(l=fh(l,t$)),s.b=new wa(l,s.i))}function sn(s,l,p){s.b.set(l,p)}function vi(s,l){return s.b.get(l)}function Dr(s){return s instanceof hs?new hs(s):new hs(s,void 0)}function jp(s,l,p,N){var W=new hs(null,void 0);return s&&lh(W,s),l&&(W.a=l),p&&ch(W,p),N&&(W.f=N),W}function hh(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function fh(s,l,p){return typeof s=="string"?(s=encodeURI(s).replace(l,QV),p&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function QV(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var BI=/[#\/\?@]/g,JV=/[#\?:]/g,ZV=/[#\?]/g,t$=/[#\?@]/g,e$=/#/g;function wa(s,l){this.b=this.a=null,this.c=s||null,this.f=!!l}function fs(s){s.a||(s.a=new Zu,s.b=0,s.c&&qV(s.c,function(l,p){s.add(decodeURIComponent(l.replace(/\+/g," ")),p)}))}function UI(s){var l=FI(s);if(typeof l>"u")throw Error("Keys are undefined");var p=new wa(null,void 0);s=LI(s);for(var N=0;N<l.length;N++){var W=l[N],tt=s[N];Array.isArray(tt)?zI(p,W,tt):p.add(W,tt)}return p}t=wa.prototype,t.add=function(s,l){fs(this),this.c=null,s=tl(this,s);var p=this.a.get(s);return p||this.a.set(s,p=[]),p.push(l),this.b+=1,this};function oo(s,l){fs(s),l=tl(s,l),ya(s.a.b,l)&&(s.c=null,s.b-=s.a.get(l).length,s=s.a,ya(s.b,l)&&(delete s.b[l],s.c--,s.a.length>2*s.c&&ew(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function rw(s,l){return fs(s),l=tl(s,l),ya(s.a.b,l)}t.forEach=function(s,l){fs(this),this.a.forEach(function(p,N){U(p,function(W){s.call(l,W,N,this)},this)},this)},t.Y=function(){fs(this);for(var s=this.a.X(),l=this.a.Y(),p=[],N=0;N<l.length;N++)for(var W=s[N],tt=0;tt<W.length;tt++)p.push(l[N]);return p},t.X=function(s){fs(this);var l=[];if(typeof s=="string")rw(this,s)&&(l=mt(l,this.a.get(tl(this,s))));else{s=this.a.X();for(var p=0;p<s.length;p++)l=mt(l,s[p])}return l},t.set=function(s,l){return fs(this),this.c=null,s=tl(this,s),rw(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[l]),this.b+=1,this},t.get=function(s,l){return s?(s=this.X(s),0<s.length?String(s[0]):l):l};function zI(s,l,p){oo(s,l),0<p.length&&(s.c=null,s.a.set(tl(s,l),wt(p)),s.b+=p.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],l=this.a.Y(),p=0;p<l.length;p++){var N=l[p],W=encodeURIComponent(String(N));N=this.X(N);for(var tt=0;tt<N.length;tt++){var rt=W;N[tt]!==""&&(rt+="="+encodeURIComponent(String(N[tt]))),s.push(rt)}}return this.c=s.join("&")};function VI(s){var l=new wa;return l.c=s.c,s.a&&(l.a=new Zu(s.a),l.b=s.b),l}function tl(s,l){return l=String(l),s.f&&(l=l.toLowerCase()),l}function n$(s,l){l&&!s.f&&(fs(s),s.c=null,s.a.forEach(function(p,N){var W=N.toLowerCase();N!=W&&(oo(this,N),zI(this,W,p))},s)),s.f=l}function $I(s){var l=[];return iw(new r$,s,l),l.join("")}function r$(){}function iw(s,l,p){if(l==null)p.push("null");else{if(typeof l=="object"){if(Array.isArray(l)){var N=l;l=N.length,p.push("[");for(var W="",tt=0;tt<l;tt++)p.push(W),iw(s,N[tt],p),W=",";p.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{p.push("{"),W="";for(N in l)Object.prototype.hasOwnProperty.call(l,N)&&(tt=l[N],typeof tt!="function"&&(p.push(W),HI(N,p),p.push(":"),iw(s,tt,p),W=","));p.push("}");return}}switch(typeof l){case"string":HI(l,p);break;case"number":p.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":p.push(String(l));break;case"function":p.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var WI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},i$=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function HI(s,l){l.push('"',s.replace(i$,function(p){var N=WI[p];return N||(N="\\u"+(p.charCodeAt(0)|65536).toString(16).substr(1),WI[p]=N),N}),'"')}function ow(){var s=Un();return Di&&!!cs&&cs==11||/Edge\/\d+/.test(s)}function dh(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function GI(s,l){l=l||c.window;var p="about:blank";s&&(p=Ip(tI(s)||nI)),l.location.href=p}function KI(s,l){var p=[],N;for(N in s)N in l?typeof s[N]!=typeof l[N]?p.push(N):typeof s[N]=="object"&&s[N]!=null&&l[N]!=null?0<KI(s[N],l[N]).length&&p.push(N):s[N]!==l[N]&&p.push(N):p.push(N);for(N in l)N in s||p.push(N);return p}function o$(){var s=Un();return s=el(s)!=QI?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!Di||!cs||9<cs}function XI(s){return s=(s||Un()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function xa(s){s=s||c.window;try{s.close()}catch{}}function YI(s,l,p){var N=Math.floor(1e9*Math.random()).toString();l=l||500,p=p||600;var W=(window.screen.availHeight-p)/2,tt=(window.screen.availWidth-l)/2;l={width:l,height:p,top:0<W?W:0,left:0<tt?tt:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},p=Un().toLowerCase(),N&&(l.target=N,vt(p,"crios/")&&(l.target="_blank")),el(Un())==uw&&(s=s||"http://localhost",l.scrollbars=!0),p=s||"",(s=l)||(s={}),N=window,l=p instanceof Mr?p:tI(typeof p.href<"u"?p.href:String(p))||nI,p=s.target||p.target,W=[];for(rt in s)switch(rt){case"width":case"height":case"top":case"left":W.push(rt+"="+s[rt]);break;case"target":case"noopener":case"noreferrer":break;default:W.push(rt+"="+(s[rt]?1:0))}var rt=W.join(",");if((Tt("iPhone")&&!Tt("iPod")&&!Tt("iPad")||Tt("iPad")||Tt("iPod"))&&N.navigator&&N.navigator.standalone&&p&&p!="_self"?(rt=Pp(document,"A"),Ie(rt,"HTMLAnchorElement"),l=l instanceof Mr?l:eI(l),rt.href=Ip(l),rt.setAttribute("target",p),s.noreferrer&&rt.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,N,1),rt.dispatchEvent(s),rt={}):s.noreferrer?(rt=iI("",N,p,rt),s=Ip(l),rt&&(AV&&vt(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),rt.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+L0(s)+'">',s=(N=er())?N.createHTML(s):s,s=new qu(s,null,rI),N=rt.document)&&(N.write(TV(s)),N.close())):(rt=iI(l,N,p,rt))&&s.noopener&&(rt.opener=null),rt)try{rt.focus()}catch{}return rt}function s$(s){return new he(function(l){function p(){Ju(2e3).then(function(){if(!s||s.closed)l();else return p()})}return p()})}var a$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u$=/^[^@]+@[^@]+$/;function Bp(){var s=null;return new he(function(l){c.document.readyState=="complete"?l():(s=function(){l()},q0(window,"load",s))}).o(function(l){throw Xr(window,"load",s),l})}function l$(){return sw(void 0)?Bp().then(function(){return new he(function(s,l){var p=c.document,N=setTimeout(function(){l(Error("Cordova framework is not ready."))},1e3);p.addEventListener("deviceready",function(){clearTimeout(N),s()},!1)})}):We(Error("Cordova must run in an Android or iOS file scheme."))}function sw(s){return s=s||Un(),!(rl()!=="file:"&&rl()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function aw(){var s=c.window;try{return!(!s||s==s.top)}catch{return!1}}function Li(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function so(){return Ht.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ht.INTERNAL.hasOwnProperty("node")?"Node":Li()?"Worker":"Browser"}function qI(){var s=so();return s==="ReactNative"||s==="Node"}function c$(){for(var s=50,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}var uw="Firefox",QI="Chrome";function el(s){var l=s.toLowerCase();if(vt(l,"opera/")||vt(l,"opr/")||vt(l,"opios/"))return"Opera";if(vt(l,"iemobile"))return"IEMobile";if(vt(l,"msie")||vt(l,"trident/"))return"IE";if(vt(l,"edge/"))return"Edge";if(vt(l,"firefox/"))return uw;if(vt(l,"silk/"))return"Silk";if(vt(l,"blackberry"))return"Blackberry";if(vt(l,"webos"))return"Webos";if(!vt(l,"safari/")||vt(l,"chrome/")||vt(l,"crios/")||vt(l,"android"))if(!vt(l,"chrome/")&&!vt(l,"crios/")||vt(l,"edge/")){if(vt(l,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return QI;else return"Safari";return"Other"}var JI={md:"FirebaseCore-web",od:"FirebaseUI-web"};function nl(s,l){l=l||[];var p=[],N={},W;for(W in JI)N[JI[W]]=!0;for(W=0;W<l.length;W++)typeof N[l[W]]<"u"&&(delete N[l[W]],p.push(l[W]));return p.sort(),l=p,l.length||(l=["FirebaseCore-web"]),p=so(),p==="Browser"?(N=Un(),p=el(N)):p==="Worker"&&(N=Un(),p=el(N)+"-"+p),p+"/JsCore/"+s+"/"+l.join(",")}function Un(){return c.navigator&&c.navigator.userAgent||""}function He(s,l){s=s.split("."),l=l||c;for(var p=0;p<s.length&&typeof l=="object"&&l!=null;p++)l=l[s[p]];return p!=s.length&&(l=void 0),l}function lw(){try{var s=c.localStorage,l=_a();if(s)return s.setItem(l,"1"),s.removeItem(l),ow()?!!c.indexedDB:!0}catch{return Li()&&!!c.indexedDB}return!1}function ba(){return(Up()||rl()==="chrome-extension:"||sw())&&!qI()&&lw()&&!Li()}function Up(){return rl()==="http:"||rl()==="https:"}function rl(){return c.location&&c.location.protocol||null}function ph(s){return s=s||Un(),!(XI(s)||el(s)==uw)}function vh(s){return typeof s>"u"?null:$I(s)}function ZI(s){var l={},p;for(p in s)s.hasOwnProperty(p)&&s[p]!==null&&s[p]!==void 0&&(l[p]=s[p]);return l}function il(s){if(s!==null)return JSON.parse(s)}function _a(s){return s||Math.floor(1e9*Math.random()).toString()}function tA(s){return s=s||Un(),!(el(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function eA(){var s=c.___jsl;if(s&&s.H){for(var l in s.H)if(s.H[l].r=s.H[l].r||[],s.H[l].L=s.H[l].L||[],s.H[l].r=s.H[l].L.concat(),s.CP)for(var p=0;p<s.CP.length;p++)s.CP[p]=null}}function ds(s,l){if(s>l)throw Error("Short delay should be less than long delay!");this.a=s,this.c=l,s=Un(),l=so(),this.b=XI(s)||l==="ReactNative"}ds.prototype.get=function(){var s=c.navigator;return!(s&&typeof s.onLine=="boolean"&&(Up()||rl()==="chrome-extension:"||typeof s.connection<"u"))||s.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function cw(){var s=c.document;return s&&typeof s.visibilityState<"u"?s.visibilityState=="visible":!0}function h$(){var s=c.document,l=null;return cw()||!s?Yt():new he(function(p){l=function(){cw()&&(s.removeEventListener("visibilitychange",l,!1),p())},s.addEventListener("visibilitychange",l,!1)}).o(function(p){throw s.removeEventListener("visibilitychange",l,!1),p})}function gh(s){try{var l=new Date(parseInt(s,10));if(!isNaN(l.getTime())&&!/[^0-9]/.test(s))return l.toUTCString()}catch{}return null}function nA(){return!(!He("fireauth.oauthhelper",c)&&!He("fireauth.iframe",c))}function f$(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function d$(){var s=c.navigator;return s&&s.serviceWorker?Yt().then(function(){return s.serviceWorker.ready}).then(function(l){return l.active||null}).o(function(){return null}):Yt(null)}var rA={};function hw(s){rA[s]||(rA[s]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(s))}var fw;try{var dw={};Object.defineProperty(dw,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(dw,"abcd",{configurable:!0,enumerable:!0,value:2}),fw=dw.abcd==2}catch{fw=!1}function $t(s,l,p){fw?Object.defineProperty(s,l,{configurable:!0,enumerable:!0,value:p}):s[l]=p}function mr(s,l){if(l)for(var p in l)l.hasOwnProperty(p)&&$t(s,p,l[p])}function ao(s){var l={};return mr(l,s),l}function p$(s){var l={},p;for(p in s)s.hasOwnProperty(p)&&(l[p]=s[p]);return l}function v$(s,l){if(!l||!l.length)return!0;if(!s)return!1;for(var p=0;p<l.length;p++){var N=s[l[p]];if(N==null||N==="")return!1}return!0}function pw(s){var l=s;if(typeof s=="object"&&s!=null){l="length"in s?[]:{};for(var p in s)$t(l,p,pw(s[p]))}return l}function vw(s){var l=s&&(s[ww]?"phone":null);if(l&&s&&s[yw]){$t(this,"uid",s[yw]),$t(this,"displayName",s[iA]||null);var p=null;s[mw]&&(p=new Date(s[mw]).toUTCString()),$t(this,"enrollmentTime",p),$t(this,"factorId",l)}else throw new I("internal-error","Internal assert: invalid MultiFactorInfo object")}vw.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function gw(s){try{var l=new mh(s)}catch{l=null}return l}var iA="displayName",mw="enrolledAt",yw="mfaEnrollmentId",ww="phoneInfo";function mh(s){vw.call(this,s),$t(this,"phoneNumber",s[ww])}D(mh,vw),mh.prototype.w=function(){var s=mh.bb.w.call(this);return s.phoneNumber=this.phoneNumber,s};function g$(s){var l={},p=s[m$],N=s[w$],W=s[x$];if(s=gw(s[y$]),!W||W!=zp&&W!=yh&&!p||W==yh&&!N||W==xw&&!s)throw Error("Invalid checkActionCode response!");W==yh?(l[sA]=p||null,l[aA]=p||null,l[oA]=N):(l[sA]=N||null,l[aA]=N||null,l[oA]=p||null),l[b$]=s||null,$t(this,S$,W),$t(this,_$,pw(l))}var xw="REVERT_SECOND_FACTOR_ADDITION",zp="EMAIL_SIGNIN",yh="VERIFY_AND_CHANGE_EMAIL",m$="email",y$="mfaInfo",w$="newEmail",x$="requestType",oA="email",sA="fromEmail",b$="multiFactorInfo",aA="previousEmail",_$="data",S$="operation";function bw(s){s=Dr(s);var l=vi(s,uA)||null,p=vi(s,lA)||null,N=vi(s,cA)||null;if(N=N&&C$[N]||null,!l||!p||!N)throw new I("argument-error",uA+", "+lA+"and "+cA+" are required in a valid action code URL.");mr(this,{apiKey:l,operation:N,code:p,continueUrl:vi(s,E$)||null,languageCode:vi(s,T$)||null,tenantId:vi(s,k$)||null})}var uA="apiKey",lA="oobCode",E$="continueUrl",T$="languageCode",cA="mode",k$="tenantId",C$={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:xw,signIn:zp,verifyAndChangeEmail:yh,verifyEmail:"VERIFY_EMAIL"};function hA(s){try{return new bw(s)}catch{return null}}function Vp(s){var l=s[I$];if(typeof l>"u")throw new I("missing-continue-uri");if(typeof l!="string"||typeof l=="string"&&!l.length)throw new I("invalid-continue-uri");this.h=l,this.b=this.a=null,this.g=!1;var p=s[fA];if(p&&typeof p=="object"){l=p[mA];var N=p[vA];if(p=p[gA],typeof l=="string"&&l.length){if(this.a=l,typeof N<"u"&&typeof N!="boolean")throw new I("argument-error",vA+" property must be a boolean when specified.");if(this.g=!!N,typeof p<"u"&&(typeof p!="string"||typeof p=="string"&&!p.length))throw new I("argument-error",gA+" property must be a non empty string when specified.");this.b=p||null}else{if(typeof l<"u")throw new I("argument-error",mA+" property must be a non empty string when specified.");if(typeof N<"u"||typeof p<"u")throw new I("missing-android-pkg-name")}}else if(typeof p<"u")throw new I("argument-error",fA+" property must be a non null object when specified.");if(this.f=null,(l=s[pA])&&typeof l=="object"){if(l=l[yA],typeof l=="string"&&l.length)this.f=l;else if(typeof l<"u")throw new I("argument-error",yA+" property must be a non empty string when specified.")}else if(typeof l<"u")throw new I("argument-error",pA+" property must be a non null object when specified.");if(l=s[_w],typeof l<"u"&&typeof l!="boolean")throw new I("argument-error",_w+" property must be a boolean when specified.");if(this.c=!!l,s=s[dA],typeof s<"u"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new I("argument-error",dA+" property must be a non empty string when specified.");this.i=s||null}var fA="android",dA="dynamicLinkDomain",_w="handleCodeInApp",pA="iOS",I$="url",vA="installApp",gA="minimumVersion",mA="packageName",yA="bundleId";function $p(s){var l={};l.continueUrl=s.h,l.canHandleCodeInApp=s.c,(l.androidPackageName=s.a)&&(l.androidMinimumVersion=s.b,l.androidInstallApp=s.g),l.iOSBundleId=s.f,l.dynamicLinkDomain=s.i;for(var p in l)l[p]===null&&delete l[p];return l}function A$(s){return Z(s,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}var wh=null;function P$(s){var l=[];return R$(s,function(p){l.push(p)}),l}function R$(s,l){function p(Et){for(;N<s.length;){var Pt=s.charAt(N++),Zt=wh[Pt];if(Zt!=null)return Zt;if(!/^[\s\xa0]*$/.test(Pt))throw Error("Unknown base64 encoding at char: "+Pt)}return Et}O$();for(var N=0;;){var W=p(-1),tt=p(0),rt=p(64),lt=p(64);if(lt===64&&W===-1)break;l(W<<2|tt>>4),rt!=64&&(l(tt<<4&240|rt>>2),lt!=64&&l(rt<<6&192|lt))}}function O$(){if(!wh){wh={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=["+/=","+/","-_=","-_.","-_"],p=0;5>p;p++)for(var N=s.concat(l[p].split("")),W=0;W<N.length;W++){var tt=N[W];wh[tt]===void 0&&(wh[tt]=W)}}}function Wp(s){var l=wA(s);if(!(l&&l.sub&&l.iss&&l.aud&&l.exp))throw Error("Invalid JWT");this.h=s,this.a=l.exp,this.i=l.sub,s=Date.now()/1e3,this.g=l.iat||(s>this.a?this.a:s),this.b=l.provider_id||l.firebase&&l.firebase.sign_in_provider||null,this.f=l.firebase&&l.firebase.tenant||null,this.c=!!l.is_anonymous||this.b=="anonymous"}Wp.prototype.T=function(){return this.f},Wp.prototype.l=function(){return this.c},Wp.prototype.toString=function(){return this.h};function Hp(s){try{return new Wp(s)}catch{return null}}function wA(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var l=(4-s.length%4)%4,p=0;p<l;p++)s+=".";try{var N=P$(s);for(s=[],p=l=0;l<N.length;){var W=N[l++];if(128>W)s[p++]=String.fromCharCode(W);else if(191<W&&224>W){var tt=N[l++];s[p++]=String.fromCharCode((W&31)<<6|tt&63)}else if(239<W&&365>W){tt=N[l++];var rt=N[l++],lt=N[l++],Et=((W&7)<<18|(tt&63)<<12|(rt&63)<<6|lt&63)-65536;s[p++]=String.fromCharCode(55296+(Et>>10)),s[p++]=String.fromCharCode(56320+(Et&1023))}else tt=N[l++],rt=N[l++],s[p++]=String.fromCharCode((W&15)<<12|(tt&63)<<6|rt&63)}return JSON.parse(s.join(""))}catch{}return null}var xA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gp=["client_id","response_type","scope","redirect_uri","state"],Sw={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gp},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gp},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gp},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:xA},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ew(s){for(var l in Sw)if(Sw[l].fa==s)return Sw[l];return null}function bA(s){var l={};l["facebook.com"]=SA,l["google.com"]=TA,l["github.com"]=EA,l["twitter.com"]=kA;var p=s&&s[_A];try{if(p)return l[p]?new l[p](s):new uo(s);if(typeof s[Tw]<"u")return new kw(s)}catch{}return null}var Tw="idToken",_A="providerId";function kw(s){var l=s[_A];if(!l&&s[Tw]){var p=Hp(s[Tw]);p&&p.b&&(l=p.b)}if(!l)throw Error("Invalid additional user info!");(l=="anonymous"||l=="custom")&&(l=null),p=!1,typeof s.isNewUser<"u"?p=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(p=!0),$t(this,"providerId",l),$t(this,"isNewUser",p)}function uo(s){kw.call(this,s),s=il(s.rawUserInfo||"{}"),$t(this,"profile",pw(s||{}))}D(uo,kw);function SA(s){if(uo.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}D(SA,uo);function EA(s){if(uo.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");$t(this,"username",this.profile&&this.profile.login||null)}D(EA,uo);function TA(s){if(uo.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}D(TA,uo);function kA(s){if(uo.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");$t(this,"username",s.screenName||null)}D(kA,uo);function CA(s){var l=Dr(s),p=vi(l,"link"),N=vi(Dr(p),"link");return l=vi(l,"deep_link_id"),vi(Dr(l),"link")||l||N||p||s}function Kp(s,l){if(!s&&!l)throw new I("internal-error","Internal assert: no raw session string available");if(s&&l)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=l||null,this.type=this.a?xh:Xp}var xh="enroll",Xp="signin";Kp.prototype.Ha=function(){return this.a?Yt(this.a):Yt(this.b)},Kp.prototype.w=function(){return this.type==xh?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ol(){}ol.prototype.ka=function(){},ol.prototype.b=function(){},ol.prototype.c=function(){},ol.prototype.w=function(){};function sl(s,l){return s.then(function(p){if(p[Bi]){var N=Hp(p[Bi]);if(!N||l!=N.i)throw new I("user-mismatch");return p}throw new I("user-mismatch")}).o(function(p){throw p&&p.code&&p.code==k+"user-not-found"?new I("user-mismatch"):p})}function Sa(s,l){if(l)this.a=l;else throw new I("internal-error","failed to construct a credential");$t(this,"providerId",s),$t(this,"signInMethod",s)}Sa.prototype.ka=function(s){return qw(s,Cw(this))},Sa.prototype.b=function(s,l){var p=Cw(this);return p.idToken=l,Qw(s,p)},Sa.prototype.c=function(s,l){return sl(Jw(s,Cw(this)),l)};function Cw(s){return{pendingToken:s.a,requestUri:"http://localhost"}}Sa.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function M$(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new Sa(s.providerId,s.pendingToken)}catch{}return null}function Oo(s,l,p){if(this.a=null,l.idToken||l.accessToken)l.idToken&&$t(this,"idToken",l.idToken),l.accessToken&&$t(this,"accessToken",l.accessToken),l.nonce&&!l.pendingToken&&$t(this,"nonce",l.nonce),l.pendingToken&&(this.a=l.pendingToken);else if(l.oauthToken&&l.oauthTokenSecret)$t(this,"accessToken",l.oauthToken),$t(this,"secret",l.oauthTokenSecret);else throw new I("internal-error","failed to construct a credential");$t(this,"providerId",s),$t(this,"signInMethod",p)}Oo.prototype.ka=function(s){return qw(s,Iw(this))},Oo.prototype.b=function(s,l){var p=Iw(this);return p.idToken=l,Qw(s,p)},Oo.prototype.c=function(s,l){var p=Iw(this);return sl(Jw(s,p),l)};function Iw(s){var l={};return s.idToken&&(l.id_token=s.idToken),s.accessToken&&(l.access_token=s.accessToken),s.secret&&(l.oauth_token_secret=s.secret),l.providerId=s.providerId,s.nonce&&!s.a&&(l.nonce=s.nonce),l={postBody:UI(l).toString(),requestUri:"http://localhost"},s.a&&(delete l.postBody,l.pendingToken=s.a),l}Oo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function N$(s){if(s&&s.providerId&&s.signInMethod){var l={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Oo(s.providerId,l,s.signInMethod)}catch{}}return null}function Ea(s,l){this.Qc=l||[],mr(this,{providerId:s,isOAuthProvider:!0}),this.Jb={},this.qb=(Ew(s)||{}).Ja||null,this.pb=null}Ea.prototype.Ka=function(s){return this.Jb=Bt(s),this};function IA(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');Ea.call(this,s,[])}D(IA,Ea);function Yr(s){Ea.call(this,s,Gp),this.a=[]}D(Yr,Ea),Yr.prototype.Ca=function(s){return nt(this.a,s)||this.a.push(s),this},Yr.prototype.Rb=function(){return wt(this.a)},Yr.prototype.credential=function(s,l){var p;if(R(s)?p={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:p={idToken:s||null,accessToken:l||null},!p.idToken&&!p.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new Oo(this.providerId,p,this.providerId)};function Ta(){Yr.call(this,"facebook.com")}D(Ta,Yr),$t(Ta,"PROVIDER_ID","facebook.com"),$t(Ta,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function AA(s){if(!s)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return R(s)&&(l=s.accessToken),new Ta().credential({accessToken:l})}function ka(){Yr.call(this,"github.com")}D(ka,Yr),$t(ka,"PROVIDER_ID","github.com"),$t(ka,"GITHUB_SIGN_IN_METHOD","github.com");function PA(s){if(!s)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=s;return R(s)&&(l=s.accessToken),new ka().credential({accessToken:l})}function Ca(){Yr.call(this,"google.com"),this.Ca("profile")}D(Ca,Yr),$t(Ca,"PROVIDER_ID","google.com"),$t(Ca,"GOOGLE_SIGN_IN_METHOD","google.com");function RA(s,l){var p=s;return R(s)&&(p=s.idToken,l=s.accessToken),new Ca().credential({idToken:p,accessToken:l})}function al(){Ea.call(this,"twitter.com",xA)}D(al,Ea),$t(al,"PROVIDER_ID","twitter.com"),$t(al,"TWITTER_SIGN_IN_METHOD","twitter.com");function OA(s,l){var p=s;if(R(p)||(p={oauthToken:s,oauthTokenSecret:l}),!p.oauthToken||!p.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Oo("twitter.com",p,"twitter.com")}function ps(s,l,p){this.a=s,this.f=l,$t(this,"providerId","password"),$t(this,"signInMethod",p===gi.EMAIL_LINK_SIGN_IN_METHOD?gi.EMAIL_LINK_SIGN_IN_METHOD:gi.EMAIL_PASSWORD_SIGN_IN_METHOD)}ps.prototype.ka=function(s){return this.signInMethod==gi.EMAIL_LINK_SIGN_IN_METHOD?fe(s,yW,{email:this.a,oobCode:this.f}):fe(s,sP,{email:this.a,password:this.f})},ps.prototype.b=function(s,l){return this.signInMethod==gi.EMAIL_LINK_SIGN_IN_METHOD?fe(s,wW,{idToken:l,email:this.a,oobCode:this.f}):fe(s,oP,{idToken:l,email:this.a,password:this.f})},ps.prototype.c=function(s,l){return sl(this.ka(s),l)},ps.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function D$(s){return s&&s.email&&s.password?new ps(s.email,s.password,s.signInMethod):null}function gi(){mr(this,{providerId:"password",isOAuthProvider:!1})}function MA(s,l){if(l=Aw(l),!l)throw new I("argument-error","Invalid email link!");return new ps(s,l.code,gi.EMAIL_LINK_SIGN_IN_METHOD)}function Aw(s){return s=CA(s),(s=hA(s))&&s.operation===zp?s:null}mr(gi,{PROVIDER_ID:"password"}),mr(gi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),mr(gi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function vs(s){if(!(s.fb&&s.eb||s.La&&s.ea))throw new I("internal-error");this.a=s,$t(this,"providerId","phone"),this.fa="phone",$t(this,"signInMethod","phone")}vs.prototype.ka=function(s){return s.gb(bh(this))},vs.prototype.b=function(s,l){var p=bh(this);return p.idToken=l,fe(s,BW,p)},vs.prototype.c=function(s,l){var p=bh(this);return p.operation="REAUTH",s=fe(s,UW,p),sl(s,l)},vs.prototype.w=function(){var s={providerId:"phone"};return this.a.fb&&(s.verificationId=this.a.fb),this.a.eb&&(s.verificationCode=this.a.eb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function L$(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var l={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(p){s[p]&&(l[p]=s[p])}),new vs(l)}return null}function bh(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.fb,code:s.a.eb}}function Mo(s){try{this.a=s||Ht.auth()}catch{throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mr(this,{providerId:"phone",isOAuthProvider:!1})}Mo.prototype.gb=function(s,l){var p=this.a.a;return Yt(l.verify()).then(function(N){if(typeof N!="string")throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(l.type){case"recaptcha":var W=R(s)?s.session:null,tt=R(s)?s.phoneNumber:s,rt;return W&&W.type==xh?rt=W.Ha().then(function(lt){return lW(p,{idToken:lt,phoneEnrollmentInfo:{phoneNumber:tt,recaptchaToken:N}})}):W&&W.type==Xp?rt=W.Ha().then(function(lt){return cW(p,{mfaPendingCredential:lt,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:N}})}):rt=uW(p,{phoneNumber:tt,recaptchaToken:N}),rt.then(function(lt){return typeof l.reset=="function"&&l.reset(),lt},function(lt){throw typeof l.reset=="function"&&l.reset(),lt});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function NA(s,l){if(!s)throw new I("missing-verification-id");if(!l)throw new I("missing-verification-code");return new vs({fb:s,eb:l})}mr(Mo,{PROVIDER_ID:"phone"}),mr(Mo,{PHONE_SIGN_IN_METHOD:"phone"});function Pw(s){if(s.temporaryProof&&s.phoneNumber)return new vs({La:s.temporaryProof,ea:s.phoneNumber});var l=s&&s.providerId;if(!l||l==="password")return null;var p=s&&s.oauthAccessToken,N=s&&s.oauthTokenSecret,W=s&&s.nonce,tt=s&&s.oauthIdToken,rt=s&&s.pendingToken;try{switch(l){case"google.com":return RA(tt,p);case"facebook.com":return AA(p);case"github.com":return PA(p);case"twitter.com":return OA(p,N);default:return p||N||tt||rt?rt?l.indexOf("saml.")==0?new Sa(l,rt):new Oo(l,{pendingToken:rt,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},l):new Yr(l).credential({idToken:tt,accessToken:p,rawNonce:W}):null}}catch{return null}}function Rw(s){if(!s.isOAuthProvider)throw new I("invalid-oauth-provider")}function Fi(s,l,p,N,W,tt,rt){if(this.c=s,this.b=l||null,this.g=p||null,this.f=N||null,this.i=tt||null,this.h=rt||null,this.a=W||null,this.g||this.a){if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}else throw new I("invalid-auth-event")}Fi.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Fi.prototype.T=function(){return this.h},Fi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function DA(s){return s=s||{},s.type?new Fi(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&A(s.error),s.postBody,s.tenantId):null}function F$(){this.b=null,this.a=[]}var Ow=null;function j$(s){var l=Ow;l.a.push(s),l.b||(l.b=function(p){for(var N=0;N<l.a.length;N++)l.a[N](p)},s=He("universalLinks.subscribe",c),typeof s=="function"&&s(null,l.b))}function Mw(s){var l="unauthorized-domain",p=void 0,N=Dr(s);s=N.a,N=N.c,N=="chrome-extension"?p=oI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):N=="http"||N=="https"?p=oI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):l="operation-not-supported-in-this-environment",I.call(this,l,p)}D(Mw,I);function _h(s,l,p){I.call(this,s,p),s=l||{},s.Kb&&$t(this,"email",s.Kb),s.ea&&$t(this,"phoneNumber",s.ea),s.credential&&$t(this,"credential",s.credential),s.$b&&$t(this,"tenantId",s.$b)}D(_h,I),_h.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var l=this.credential&&this.credential.w();return l&&It(s,l),s},_h.prototype.toJSON=function(){return this.w()};function Yp(s){if(s.code){var l=s.code||"";l.indexOf(k)==0&&(l=l.substring(k.length));var p={credential:Pw(s),$b:s.tenantId};if(s.email)p.Kb=s.email;else if(s.phoneNumber)p.ea=s.phoneNumber;else if(!p.credential)return new I(l,s.message||void 0);return new _h(l,p,s.message)}return null}function Sh(){}Sh.prototype.c=null;function LA(s){return s.c||(s.c=s.b())}var Nw;function qp(){}D(qp,Sh),qp.prototype.a=function(){var s=FA(this);return s?new ActiveXObject(s):new XMLHttpRequest},qp.prototype.b=function(){var s={};return FA(this)&&(s[0]=!0,s[1]=!0),s};function FA(s){if(!s.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var l=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],p=0;p<l.length;p++){var N=l[p];try{return new ActiveXObject(N),s.f=N}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}Nw=new qp;function Qp(){}D(Qp,Sh),Qp.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest<"u")return new jA;throw Error("Unsupported browser")},Qp.prototype.b=function(){return{}};function jA(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=z(this.qc,this),this.a.onerror=z(this.Tb,this),this.a.onprogress=z(this.rc,this),this.a.ontimeout=z(this.vc,this)}t=jA.prototype,t.open=function(s,l,p){if(p!=null&&!p)throw Error("Only async requests are supported.");this.a.open(s,l)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Dw(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Dw(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Dw(this,1)};function Dw(s,l){s.readyState=l,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Lw(s,l,p){this.reset(s,l,p,void 0,void 0)}Lw.prototype.a=null,Lw.prototype.reset=function(s,l,p,N,W){delete this.a};function Fw(s){this.f=s,this.b=this.c=this.a=null}function Eh(s,l){this.name=s,this.value=l}Eh.prototype.toString=function(){return this.name};var BA=new Eh("SEVERE",1e3),jw=new Eh("WARNING",900),B$=new Eh("CONFIG",700),U$=new Eh("FINE",500);function UA(s){return s.c?s.c:s.a?UA(s.a):(V("Root logger has no level set."),null)}Fw.prototype.log=function(s,l,p){if(s.value>=UA(this).value)for(E(l)&&(l=l()),s=new Lw(s,String(l),this.f),p&&(s.a=p),p=this;p;)p=p.a};var Bw={},Jp=null;function Uw(s){Jp||(Jp=new Fw(""),Bw[""]=Jp,Jp.c=B$);var l;if(!(l=Bw[s])){l=new Fw(s);var p=s.lastIndexOf("."),N=s.substr(p+1);p=Uw(s.substr(0,p)),p.b||(p.b={}),p.b[N]=l,l.a=p,Bw[s]=l}return l}function mi(s,l){s&&s.log(U$,l,void 0)}function Zp(s){this.f=s}D(Zp,Sh),Zp.prototype.a=function(){return new tv(this.f)},Zp.prototype.b=function(s){return function(){return s}}({});function tv(s){gr.call(this),this.u=s,this.h=void 0,this.readyState=zw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Uw("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}D(tv,gr);var zw=0;t=tv.prototype,t.open=function(s,l){if(this.readyState!=zw)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=l,this.readyState=1,kh(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var l={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(l.body=s),this.u.fetch(new Request(this.f,l)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Th(this)),this.readyState=zw},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,kh(this)),this.a&&(this.readyState=3,kh(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,zA(this)):s.text().then(this.tc.bind(this),this.Va.bind(this)))))};function zA(s){s.c.read().then(s.pc.bind(s)).catch(s.Va.bind(s))}t.pc=function(s){if(this.a){var l=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});l&&(this.response=this.responseText+=l),s.done?Th(this):kh(this),this.readyState==3&&zA(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,Th(this))},t.sc=function(s){this.a&&(this.response=s,Th(this))},t.Va=function(s){var l=this.i;l&&l.log(jw,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&Th(this)};function Th(s){s.readyState=4,s.g=null,s.c=null,s.m=null,kh(s)}t.setRequestHeader=function(s,l){this.l.append(s,l)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(jw,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(jw,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var l=this.b.entries(),p=l.next();!p.done;)p=p.value,s.push(p[0]+": "+p[1]),p=l.next();return s.join(`\r
`)};function kh(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(tv.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function Ch(s){gr.call(this),this.headers=new Zu,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=VA,this.u=this.S=!1}D(Ch,gr);var VA="";Ch.prototype.b=Uw("goog.net.XhrIo");var z$=/^https?$/i,V$=["POST","PUT"];function $$(s,l,p,N,W){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+l);p=p?p.toUpperCase():"GET",s.l=l,s.h="",s.P=p,s.J=!1,s.c=!0,s.a=s.D?s.D.a():Nw.a(),s.C=s.D?LA(s.D):LA(Nw),s.a.onreadystatechange=z(s.Wb,s);try{mi(s.b,No(s,"Opening Xhr")),s.N=!0,s.a.open(p,String(l),!0),s.N=!1}catch(rt){mi(s.b,No(s,"Error opening Xhr: "+rt.message)),$A(s,rt);return}l=N||"";var tt=new Zu(s.headers);W&&YV(W,function(rt,lt){tt.set(lt,rt)}),W=et(tt.Y()),N=c.FormData&&l instanceof c.FormData,!nt(V$,p)||W||N||tt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),tt.forEach(function(rt,lt){this.a.setRequestHeader(lt,rt)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{GA(s),0<s.g&&(s.u=W$(s.a),mi(s.b,No(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=z(s.Ma,s)):s.s=tw(s.Ma,s.g,s)),mi(s.b,No(s,"Sending request")),s.i=!0,s.a.send(l),s.i=!1}catch(rt){mi(s.b,No(s,"Send error: "+rt.message)),$A(s,rt)}}function W$(s){return Di&&lI(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function H$(s){return s.toLowerCase()=="content-type"}t=Ch.prototype,t.Ma=function(){typeof u<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",mi(this.b,No(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function $A(s,l){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=l,WA(s),ev(s)}function WA(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(mi(this.b,No(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ev(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ev(this,!0)),Ch.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?HA(this):this.Jc())},t.Jc=function(){HA(this)};function HA(s){if(s.c&&typeof u<"u"){if(s.C[1]&&Ih(s)==4&&nv(s)==2)mi(s.b,No(s,"Local request error detected and ignored"));else if(s.i&&Ih(s)==4)tw(s.Wb,0,s);else if(s.dispatchEvent("readystatechange"),Ih(s)==4){mi(s.b,No(s,"Request complete")),s.c=!1;try{var l=nv(s);t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var N;if(!(N=p)){var W;if(W=l===0){var tt=String(s.l).match(jI)[1]||null;if(!tt&&c.self&&c.self.location){var rt=c.self.location.protocol;tt=rt.substr(0,rt.length-1)}W=!z$.test(tt?tt.toLowerCase():"")}N=W}if(N)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var lt=2<Ih(s)?s.a.statusText:""}catch(Et){mi(s.b,"Can not get status: "+Et.message),lt=""}s.h=lt+" ["+nv(s)+"]",WA(s)}}finally{ev(s)}}}}function ev(s,l){if(s.a){GA(s);var p=s.a,N=s.C[0]?g:null;s.a=null,s.C=null,l||s.dispatchEvent("ready");try{p.onreadystatechange=N}catch(W){(s=s.b)&&s.log(BA,"Problem encountered resetting onreadystatechange: "+W.message,void 0)}}}function GA(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function Ih(s){return s.a?s.a.readyState:0}function nv(s){try{return 2<Ih(s)?s.a.status:-1}catch{return-1}}function G$(s){try{return s.a?s.a.responseText:""}catch(l){return mi(s.b,"Can not get responseText: "+l.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case VA:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(BA,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(l){return mi(this.b,"Can not get response: "+l.message),null}};function No(s,l){return l+" ["+s.P+" "+s.l+" "+nv(s)+"]"}function Ia(s){var l=Y$;this.g=[],this.u=l,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ia.prototype.cancel=function(s){if(this.a)this.c instanceof Ia&&this.c.cancel();else{if(this.b){var l=this.b;delete this.b,s?l.cancel(s):(l.l--,0>=l.l&&l.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new Ph,rv(this),Ah(this,!1,s))}},Ia.prototype.m=function(s,l){this.i=!1,Ah(this,s,l)};function Ah(s,l,p){s.a=!0,s.c=p,s.f=!l,XA(s)}function rv(s){if(s.a){if(!s.v)throw new iv;s.v=!1}}function K$(s,l){Vw(s,null,l,void 0)}function Vw(s,l,p,N){s.g.push([l,p,N]),s.a&&XA(s)}Ia.prototype.then=function(s,l,p){var N,W,tt=new he(function(rt,lt){N=rt,W=lt});return Vw(this,N,function(rt){rt instanceof Ph?tt.cancel():W(rt)}),tt.then(s,l,p)},Ia.prototype.$goog_Thenable=!0;function KA(s){return J(s.g,function(l){return E(l[1])})}function XA(s){if(s.h&&s.a&&KA(s)){var l=s.h,p=ov[l];p&&(c.clearTimeout(p.a),delete ov[l]),s.h=0}s.b&&(s.b.l--,delete s.b),l=s.c;for(var N=p=!1;s.g.length&&!s.i;){var W=s.g.shift(),tt=W[0],rt=W[1];if(W=W[2],tt=s.f?rt:tt)try{var lt=tt.call(W||s.s,l);lt!==void 0&&(s.f=s.f&&(lt==l||lt instanceof Error),s.c=l=lt),(O(l)||typeof c.Promise=="function"&&l instanceof c.Promise)&&(N=!0,s.i=!0)}catch(Et){l=Et,s.f=!0,KA(s)||(p=!0)}}s.c=l,N&&(lt=z(s.m,s,!0),N=z(s.m,s,!1),l instanceof Ia?(Vw(l,lt,N),l.C=!0):l.then(lt,N)),p&&(l=new YA(l),ov[l.a]=l,s.h=l.a)}function iv(){S.call(this)}D(iv,S),iv.prototype.message="Deferred has already fired",iv.prototype.name="AlreadyCalledError";function Ph(){S.call(this)}D(Ph,S),Ph.prototype.message="Deferred was canceled",Ph.prototype.name="CanceledError";function YA(s){this.a=c.setTimeout(z(this.c,this),0),this.b=s}YA.prototype.c=function(){throw delete ov[this.a],this.b};var ov={};function $w(s){var l={},p=l.document||document,N=QC(s).toString(),W=Pp(document,"SCRIPT"),tt={Xb:W,Ma:void 0},rt=new Ia(tt),lt=null,Et=l.timeout!=null?l.timeout:5e3;return 0<Et&&(lt=window.setTimeout(function(){sv(W,!0);var Pt=new Ww(Q$,"Timeout reached for loading script "+N);rv(rt),Ah(rt,!1,Pt)},Et),tt.Ma=lt),W.onload=W.onreadystatechange=function(){W.readyState&&W.readyState!="loaded"&&W.readyState!="complete"||(sv(W,l.xd||!1,lt),rv(rt),Ah(rt,!0,null))},W.onerror=function(){sv(W,!0,lt);var Pt=new Ww(q$,"Error while loading script "+N);rv(rt),Ah(rt,!1,Pt)},tt=l.attributes||{},It(tt,{type:"text/javascript",charset:"UTF-8"}),hI(W,tt),kV(W,s),X$(p).appendChild(W),rt}function X$(s){var l;return(l=(s||document).getElementsByTagName("HEAD"))&&l.length!=0?l[0]:s.documentElement}function Y$(){if(this&&this.Xb){var s=this.Xb;s&&s.tagName=="SCRIPT"&&sv(s,!0,this.Ma)}}function sv(s,l,p){p!=null&&c.clearTimeout(p),s.onload=g,s.onerror=g,s.onreadystatechange=g,l&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var q$=0,Q$=1;function Ww(s,l){var p="Jsloader error (code #"+s+")";l&&(p+=": "+l),S.call(this,p),this.code=s}D(Ww,S);function av(s){this.f=s}D(av,Sh),av.prototype.a=function(){return new this.f},av.prototype.b=function(){return{}};function ji(s,l,p){if(this.c=s,s=l||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||J$,this.g=Bt(s.secureTokenHeaders||Z$),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||tW,this.a=Bt(s.firebaseHeaders||eW),p&&(this.a["X-Client-Version"]=p,this.g["X-Client-Version"]=p),p=so()=="Node",p=c.XMLHttpRequest||p&&Ht.INTERNAL.node&&Ht.INTERNAL.node.XMLHttpRequest,!p&&!Li())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Li()?this.f=new Zp(self):qI()?this.f=new av(p):this.f=new Qp,this.b=null}var Hw,Bi="idToken",J$=new ds(3e4,6e4),Z$={"Content-Type":"application/x-www-form-urlencoded"},tW=new ds(3e4,6e4),eW={"Content-Type":"application/json"};function qA(s,l){l?s.a["X-Firebase-Locale"]=l:delete s.a["X-Firebase-Locale"]}function uv(s,l){l&&(s.l=Gw("https://securetoken.googleapis.com/v1/token",l),s.h=Gw("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",l),s.i=Gw("https://identitytoolkit.googleapis.com/v2/",l))}function Gw(s,l){return s=Dr(s),l=Dr(l.url),s.f=s.a+s.f,lh(s,l.c),s.a=l.a,ch(s,l.g),s.toString()}function QA(s,l){l?(s.a["X-Client-Version"]=l,s.g["X-Client-Version"]=l):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}ji.prototype.T=function(){return this.b};function JA(s,l,p,N,W,tt,rt){o$()||Li()?s=z(s.u,s):(Hw||(Hw=new he(function(lt,Et){rW(lt,Et)})),s=z(s.s,s)),s(l,p,N,W,tt,rt)}ji.prototype.u=function(s,l,p,N,W,tt){if(Li()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var rt=new Ch(this.f);if(tt){rt.g=Math.max(0,tt);var lt=setTimeout(function(){rt.dispatchEvent("timeout")},tt)}DI(rt,"complete",function(){lt&&clearTimeout(lt);var Et=null;try{Et=JSON.parse(G$(this))||null}catch{Et=null}l&&l(Et)}),Z0(rt,"ready",function(){lt&&clearTimeout(lt),II(this)}),Z0(rt,"timeout",function(){lt&&clearTimeout(lt),II(this),l&&l(null)}),$$(rt,s,p,N,W)};var nW=new me(Be,"https://apis.google.com/js/client.js?onload=%{onload}"),ZA="__fcb"+Math.floor(1e6*Math.random()).toString();function rW(s,l){if(((window.gapi||{}).client||{}).request)s();else{c[ZA]=function(){((window.gapi||{}).client||{}).request?s():l(Error("CORS_UNSUPPORTED"))};var p=D0(nW,{onload:ZA});K$($w(p),function(){l(Error("CORS_UNSUPPORTED"))})}}ji.prototype.s=function(s,l,p,N,W){var tt=this;Hw.then(function(){window.gapi.client.setApiKey(tt.c);var rt=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:p,body:N,headers:W,authType:"none",callback:function(lt){window.gapi.auth.setToken(rt),l&&l(lt)}})}).o(function(rt){l&&l({error:{message:rt&&rt.message||"CORS_UNSUPPORTED"}})})};function iW(s,l){return new he(function(p,N){l.grant_type=="refresh_token"&&l.refresh_token||l.grant_type=="authorization_code"&&l.code?JA(s,s.l+"?key="+encodeURIComponent(s.c),function(W){W?W.error?N(tx(W)):W.access_token&&W.refresh_token?p(W):N(new I("internal-error")):N(new I("network-request-failed"))},"POST",UI(l).toString(),s.g,s.m.get()):N(new I("internal-error"))})}function tP(s,l,p,N,W,tt,rt){var lt=Dr(l+p);sn(lt,"key",s.c),rt&&sn(lt,"cb",Date.now().toString());var Et=N=="GET";if(Et)for(var Pt in W)W.hasOwnProperty(Pt)&&sn(lt,Pt,W[Pt]);return new he(function(Zt,Ae){JA(s,lt.toString(),function(be){be?be.error?Ae(tx(be,tt||{})):Zt(be):Ae(new I("network-request-failed"))},N,Et?void 0:$I(ZI(W)),s.a,s.v.get())})}function Aa(s){if(s=s.email,typeof s!="string"||!u$.test(s))throw new I("invalid-email")}function eP(s){"email"in s&&Aa(s)}function oW(s,l){return fe(s,vW,{identifier:l,continueUri:Up()?dh():"http://localhost"}).then(function(p){return p.signinMethods||[]})}function sW(s){return fe(s,CW,{}).then(function(l){return l.authorizedDomains||[]})}function Lr(s){if(!s[Bi])throw s.mfaPendingCredential?new I("multi-factor-auth-required",null,Bt(s)):new I("internal-error")}function Kw(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new I("internal-error")}else{if(!s.sessionInfo)throw new I("missing-verification-id");if(!s.code)throw new I("missing-verification-code")}}ji.prototype.Ab=function(){return fe(this,RW,{})},ji.prototype.Cb=function(s,l){return fe(this,iP,{idToken:s,email:l})},ji.prototype.Db=function(s,l){return fe(this,oP,{idToken:s,password:l})};var aW={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=ji.prototype,t.Eb=function(s,l){var p={idToken:s},N=[];return At(aW,function(W,tt){var rt=l[tt];rt===null?N.push(W):tt in l&&(p[tt]=rt)}),N.length&&(p.deleteAttribute=N),fe(this,iP,p)},t.wb=function(s,l){return s={requestType:"PASSWORD_RESET",email:s},It(s,l),fe(this,kW,s)},t.xb=function(s,l){return s={requestType:"EMAIL_SIGNIN",email:s},It(s,l),fe(this,SW,s)},t.vb=function(s,l){return s={requestType:"VERIFY_EMAIL",idToken:s},It(s,l),fe(this,EW,s)},t.Fb=function(s,l,p){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:l},It(s,p),fe(this,TW,s)};function uW(s,l){return fe(s,PW,l)}t.gb=function(s){return fe(this,jW,s)};function lW(s,l){return fe(s,OW,l).then(function(p){return p.phoneSessionInfo.sessionInfo})}function nP(s){if(!s.phoneVerificationInfo)throw new I("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new I("missing-verification-code")}function cW(s,l){return fe(s,MW,l).then(function(p){return p.phoneResponseInfo.sessionInfo})}function hW(s,l,p){return fe(s,mW,{idToken:l,deleteProvider:p})}function Xw(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new I("internal-error")}function Yw(s,l){return l.oauthIdToken&&l.providerId&&l.providerId.indexOf("oidc.")==0&&!l.pendingToken&&(s.sessionId?l.nonce=s.sessionId:s.postBody&&(s=new wa(s.postBody),rw(s,"nonce")&&(l.nonce=s.get("nonce")))),l}function rP(s){var l=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",l=Yp(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",l=Yp(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",l=Yp(s)):s.errorMessage&&(l=aP(s.errorMessage)),l)throw l;Lr(s)}function qw(s,l){return l.returnIdpCredential=!0,fe(s,NW,l)}function Qw(s,l){return l.returnIdpCredential=!0,fe(s,LW,l)}function Jw(s,l){return l.returnIdpCredential=!0,l.autoCreate=!1,fe(s,DW,l)}function Zw(s){if(!s.oobCode)throw new I("invalid-action-code")}t.ob=function(s,l){return fe(this,AW,{oobCode:s,newPassword:l})},t.Sa=function(s){return fe(this,dW,{oobCode:s})},t.kb=function(s){return fe(this,fW,{oobCode:s})};var fW={endpoint:"setAccountInfo",A:Zw,Z:"email",B:!0},dW={endpoint:"resetPassword",A:Zw,G:function(s){var l=s.requestType;if(!l||!s.email&&l!="EMAIL_SIGNIN"&&l!="VERIFY_AND_CHANGE_EMAIL")throw new I("internal-error")},B:!0},pW={endpoint:"signupNewUser",A:function(s){if(Aa(s),!s.password)throw new I("weak-password")},G:Lr,V:!0,B:!0},vW={endpoint:"createAuthUri",B:!0},gW={endpoint:"deleteAccount",O:["idToken"]},mW={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new I("internal-error")}},yW={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Aa,G:Lr,V:!0,B:!0},wW={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Aa,G:Lr,V:!0},xW={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:nP,G:Lr,B:!0,Na:!0},bW={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:nP,G:Lr,B:!0,Na:!0},_W={endpoint:"getAccountInfo"},SW={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new I("internal-error");Aa(s)},Z:"email",B:!0},EW={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new I("internal-error")},Z:"email",B:!0},TW={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new I("internal-error")},Z:"email",B:!0},kW={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new I("internal-error");Aa(s)},Z:"email",B:!0},CW={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},IW={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new I("internal-error")}},AW={endpoint:"resetPassword",A:Zw,Z:"email",B:!0},PW={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},iP={endpoint:"setAccountInfo",O:["idToken"],A:eP,V:!0},oP={endpoint:"setAccountInfo",O:["idToken"],A:function(s){if(eP(s),!s.password)throw new I("weak-password")},G:Lr,V:!0},RW={endpoint:"signupNewUser",G:Lr,V:!0,B:!0},OW={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new I("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},MW={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},NW={endpoint:"verifyAssertion",A:Xw,Za:Yw,G:rP,V:!0,B:!0},DW={endpoint:"verifyAssertion",A:Xw,Za:Yw,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new I("user-not-found");if(s.errorMessage)throw aP(s.errorMessage);Lr(s)},V:!0,B:!0},LW={endpoint:"verifyAssertion",A:function(s){if(Xw(s),!s.idToken)throw new I("internal-error")},Za:Yw,G:rP,V:!0},FW={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new I("invalid-custom-token")},G:Lr,V:!0,B:!0},sP={endpoint:"verifyPassword",A:function(s){if(Aa(s),!s.password)throw new I("wrong-password")},G:Lr,V:!0,B:!0},jW={endpoint:"verifyPhoneNumber",A:Kw,G:Lr,B:!0},BW={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new I("internal-error");Kw(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Yp(s);Lr(s)}},UW={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Kw,G:Lr,B:!0},zW={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[Bi]^!!s.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function fe(s,l,p){if(!v$(p,l.O))return We(new I("internal-error"));var N=!!l.Na,W=l.Vb||"POST",tt;return Yt(p).then(l.A).then(function(){return l.V&&(p.returnSecureToken=!0),l.B&&s.b&&typeof p.tenantId>"u"&&(p.tenantId=s.b),N?tP(s,s.i,l.endpoint,W,p,l.Ib,l.mb||!1):tP(s,s.h,l.endpoint,W,p,l.Ib,l.mb||!1)}).then(function(rt){return tt=rt,l.Za?l.Za(p,tt):tt}).then(l.G).then(function(){if(!l.Z)return tt;if(!(l.Z in tt))throw new I("internal-error");return tt[l.Z]})}function aP(s){return tx({error:{errors:[{message:s}],code:400,message:s}})}function tx(s,l){var p=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",N={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(p=N[p]?new I(N[p]):null)return p;p=s.error&&s.error.message||"",N={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},It(N,l||{}),l=(l=p.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<l.length?l[1]:void 0;for(var W in N)if(p.indexOf(W)===0)return new I(N[W],l);return!l&&s&&(l=vh(s)),new I("internal-error",l)}function VW(s){this.b=s,this.a=null,this.sb=$W(this)}function $W(s){return YW().then(function(){return new he(function(l,p){He("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(N){function W(){clearTimeout(tt),l()}s.a=N,s.a.restyle({setHideOnLeave:!1});var tt=setTimeout(function(){p(Error("Network Error"))},XW.get());N.ping(W).then(W,function(){p(Error("Network Error"))})})})})}function WW(s,l){return s.sb.then(function(){return new he(function(p){s.a.send(l.type,l,p,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function HW(s,l){s.sb.then(function(){s.a.register("authEvent",l,He("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var GW=new me(Be,"https://apis.google.com/js/api.js?onload=%{onload}"),KW=new ds(3e4,6e4),XW=new ds(5e3,15e3),lv=null;function YW(){return lv||(lv=new he(function(s,l){function p(){eA(),He("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){eA(),l(Error("Network Error"))},timeout:KW.get()})}if(He("gapi.iframes.Iframe"))s();else if(He("gapi.load"))p();else{var N="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[N]=function(){He("gapi.load")?p():l(Error("Network Error"))},N=D0(GW,{onload:N}),Yt($w(N)).o(function(){l(Error("Network Error"))})}}).o(function(s){throw lv=null,s}))}function uP(s,l,p,N){this.l=s,this.h=l,this.i=p,this.g=N,this.f=null,this.g?(s=Dr(this.g.url),s=jp(s.c,s.a,s.g,"/emulator/auth/iframe")):s=jp("https",this.l,null,"/__/auth/iframe"),this.a=s,sn(this.a,"apiKey",this.h),sn(this.a,"appName",this.i),this.b=null,this.c=[]}uP.prototype.toString=function(){return this.f?sn(this.a,"v",this.f):oo(this.a.b,"v"),this.b?sn(this.a,"eid",this.b):oo(this.a.b,"eid"),this.c.length?sn(this.a,"fw",this.c.join(",")):oo(this.a.b,"fw"),this.a.toString()};function ex(s,l,p,N,W,tt){this.u=s,this.s=l,this.c=p,this.m=N,this.v=tt,this.i=this.g=this.l=null,this.a=W,this.h=this.f=null}ex.prototype.zb=function(s){return this.h=s,this},ex.prototype.toString=function(){if(this.v){var s=Dr(this.v.url);s=jp(s.c,s.a,s.g,"/emulator/auth/handler")}else s=jp("https",this.u,null,"/__/auth/handler");if(sn(s,"apiKey",this.s),sn(s,"appName",this.c),sn(s,"authType",this.m),this.a.isOAuthProvider){var l=this.a;try{var p=Ht.app(this.c).auth().la()}catch{p=null}l.pb=p,sn(s,"providerId",this.a.providerId),p=this.a,l=ZI(p.Jb);for(var N in l)l[N]=l[N].toString();N=p.Qc,l=Bt(l);for(var W=0;W<N.length;W++){var tt=N[W];tt in l&&delete l[tt]}p.qb&&p.pb&&!l[p.qb]&&(l[p.qb]=p.pb),Wt(l)||sn(s,"customParameters",vh(l))}if(typeof this.a.Rb=="function"&&(p=this.a.Rb(),p.length&&sn(s,"scopes",p.join(","))),this.l?sn(s,"redirectUrl",this.l):oo(s.b,"redirectUrl"),this.g?sn(s,"eventId",this.g):oo(s.b,"eventId"),this.i?sn(s,"v",this.i):oo(s.b,"v"),this.b)for(var rt in this.b)this.b.hasOwnProperty(rt)&&!vi(s,rt)&&sn(s,rt,this.b[rt]);return this.h?sn(s,"tid",this.h):oo(s.b,"tid"),this.f?sn(s,"eid",this.f):oo(s.b,"eid"),rt=nx(this.c),rt.length&&sn(s,"fw",rt.join(",")),s.toString()};function nx(s){try{return Ht.app(s).auth().Ga()}catch{return[]}}function lP(s,l,p,N,W,tt){this.s=s,this.g=l,this.b=p,this.f=tt,this.c=N||null,this.i=W||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function cP(s){var l=dh();return sW(s).then(function(p){t:{var N=Dr(l),W=N.c;N=N.a;for(var tt=0;tt<p.length;tt++){var rt=p[tt],lt=N,Et=W;if(rt.indexOf("chrome-extension://")==0?lt=Dr(rt).a==lt&&Et=="chrome-extension":Et!="http"&&Et!="https"?lt=!1:a$.test(rt)?lt=lt==rt:(rt=rt.split(".").join("\\."),lt=new RegExp("^(.+\\."+rt+"|"+rt+")$","i").test(lt)),lt){p=!0;break t}}p=!1}if(!p)throw new Mw(dh())})}function hP(s){return s.m||(s.m=Bp().then(function(){if(!s.u){var l=s.c,p=s.i,N=nx(s.b),W=new uP(s.s,s.g,s.b,s.f);W.f=l,W.b=p,W.c=wt(N||[]),s.u=W.toString()}s.v=new VW(s.u),qW(s)})),s.m}t=lP.prototype,t.Pb=function(s,l,p){var N=new I("popup-closed-by-user"),W=new I("web-storage-unsupported"),tt=this,rt=!1;return this.ma().then(function(){QW(tt).then(function(lt){lt||(s&&xa(s),l(W),rt=!0)})}).o(function(){}).then(function(){if(!rt)return s$(s)}).then(function(){if(!rt)return Ju(p).then(function(){l(N)})})},t.Yb=function(){var s=Un();return!ph(s)&&!tA(s)},t.Ub=function(){return!1},t.Nb=function(s,l,p,N,W,tt,rt,lt){if(!s)return We(new I("popup-blocked"));if(rt&&!ph())return this.ma().o(function(Pt){xa(s),W(Pt)}),N(),Yt();this.a||(this.a=cP(fP(this)));var Et=this;return this.a.then(function(){var Pt=Et.ma().o(function(Zt){throw xa(s),W(Zt),Zt});return N(),Pt}).then(function(){if(Rw(p),!rt){var Pt=Rh(Et.s,Et.g,Et.b,l,p,null,tt,Et.c,void 0,Et.i,lt,Et.f);GI(Pt,s)}}).o(function(Pt){throw Pt.code=="auth/network-request-failed"&&(Et.a=null),Pt})};function fP(s){return s.l||(s.C=s.c?nl(s.c,nx(s.b)):null,s.l=new ji(s.g,d(s.i),s.C),s.f&&uv(s.l,s.f)),s.l}t.Ob=function(s,l,p,N){this.a||(this.a=cP(fP(this)));var W=this;return this.a.then(function(){Rw(l);var tt=Rh(W.s,W.g,W.b,s,l,dh(),p,W.c,void 0,W.i,N,W.f);GI(tt)}).o(function(tt){throw tt.code=="auth/network-request-failed"&&(W.a=null),tt})},t.ma=function(){var s=this;return hP(this).then(function(){return s.v.sb}).o(function(){throw s.a=null,new I("network-request-failed")})},t.ac=function(){return!0};function Rh(s,l,p,N,W,tt,rt,lt,Et,Pt,Zt,Ae){return s=new ex(s,l,p,N,W,Ae),s.l=tt,s.g=rt,s.i=lt,s.b=Bt(Et||null),s.f=Pt,s.zb(Zt).toString()}function qW(s){if(!s.v)throw Error("IfcHandler must be initialized!");HW(s.v,function(l){var p={};if(l&&l.authEvent){var N=!1;for(l=DA(l.authEvent),p=0;p<s.h.length;p++)N=s.h[p](l)||N;return p={},p.status=N?"ACK":"ERROR",Yt(p)}return p.status="ERROR",Yt(p)})}function QW(s){var l={type:"webStorageSupport"};return hP(s).then(function(){return WW(s.v,l)}).then(function(p){if(p&&p.length&&typeof p[0].webStorageSupport<"u")return p[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Ta=function(s){st(this.h,function(l){return l==s})};function dP(s){if(this.a=s||Ht.INTERNAL.reactNative&&Ht.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=dP.prototype,t.get=function(s){return Yt(this.a.getItem(s)).then(function(l){return l&&il(l)})},t.set=function(s,l){return Yt(this.a.setItem(s,vh(l)))},t.U=function(s){return Yt(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function pP(s){this.b=s,this.a={},this.f=z(this.c,this)}var vP=[];function JW(){var s=Li()?self:null;if(U(vP,function(p){p.b==s&&(l=p)}),!l){var l=new pP(s);vP.push(l)}return l}pP.prototype.c=function(s){var l=s.data.eventType,p=s.data.eventId,N=this.a[l];if(N&&0<N.length){s.ports[0].postMessage({status:"ack",eventId:p,eventType:l,response:null});var W=[];U(N,function(tt){W.push(Yt().then(function(){return tt(s.origin,s.data.data)}))}),wI(W).then(function(tt){var rt=[];U(tt,function(lt){rt.push({fulfilled:lt.Qb,value:lt.value,reason:lt.reason?lt.reason.message:void 0})}),U(rt,function(lt){for(var Et in lt)typeof lt[Et]>"u"&&delete lt[Et]}),s.ports[0].postMessage({status:"done",eventId:p,eventType:l,response:rt})})}};function gP(s,l,p){Wt(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[l]>"u"&&(s.a[l]=[]),s.a[l].push(p)}function mP(s){this.a=s}mP.prototype.postMessage=function(s,l){this.a.postMessage(s,l)};function yP(s){this.c=s,this.b=!1,this.a=[]}function wP(s,l,p,N){var W,tt=p||{},rt,lt,Et,Pt=null;if(s.b)return We(Error("connection_unavailable"));var Zt=N?800:50,Ae=typeof MessageChannel<"u"?new MessageChannel:null;return new he(function(be,In){Ae?(W=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ae.port1.start(),lt=setTimeout(function(){In(Error("unsupported_event"))},Zt),rt=function(Do){Do.data.eventId===W&&(Do.data.status==="ack"?(clearTimeout(lt),Et=setTimeout(function(){In(Error("timeout"))},3e3)):Do.data.status==="done"?(clearTimeout(Et),typeof Do.data.response<"u"?be(Do.data.response):In(Error("unknown_error"))):(clearTimeout(lt),clearTimeout(Et),In(Error("invalid_response"))))},Pt={messageChannel:Ae,onMessage:rt},s.a.push(Pt),Ae.port1.addEventListener("message",rt),s.c.postMessage({eventType:l,eventId:W,data:tt},[Ae.port2])):In(Error("connection_unavailable"))}).then(function(be){return rx(s,Pt),be}).o(function(be){throw rx(s,Pt),be})}function rx(s,l){if(l){var p=l.messageChannel,N=l.onMessage;p&&(p.port1.removeEventListener("message",N),p.port1.close()),st(s.a,function(W){return W==l})}}yP.prototype.close=function(){for(;0<this.a.length;)rx(this,this.a[0]);this.b=!0};function xP(){if(!sx())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;Li()&&self?(this.v=JW(),gP(this.v,"keyChanged",function(l,p){return SP(s).then(function(N){return 0<N.length&&U(s.a,function(W){W(N)}),{keyProcessed:nt(N,p.key)}})}),gP(this.v,"ping",function(){return Yt(["keyChanged"])})):d$().then(function(l){(s.h=l)&&(s.g=new yP(new mP(l)),wP(s.g,"ping",null,!0).then(function(p){p[0].fulfilled&&nt(p[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var ix;function ZW(s){return new he(function(l,p){var N=s.m.deleteDatabase("firebaseLocalStorageDb");N.onsuccess=function(){l()},N.onerror=function(W){p(Error(W.target.error))}})}function bP(s){return new he(function(l,p){var N=s.m.open("firebaseLocalStorageDb",1);N.onerror=function(W){try{W.preventDefault()}catch{}p(Error(W.target.error))},N.onupgradeneeded=function(W){W=W.target.result;try{W.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(tt){p(tt)}},N.onsuccess=function(W){W=W.target.result,W.objectStoreNames.contains("firebaseLocalStorage")?l(W):ZW(s).then(function(){return bP(s)}).then(function(tt){l(tt)}).o(function(tt){p(tt)})}})}function ox(s){return s.i||(s.i=bP(s)),s.i}function cv(s,l){function p(W,tt){ox(s).then(l).then(W).o(function(rt){if(3<++N)tt(rt);else return ox(s).then(function(lt){return lt.close(),s.i=void 0,p(W,tt)}).o(function(lt){tt(lt)})})}var N=0;return new he(p)}function sx(){try{return!!c.indexedDB}catch{return!1}}function Oh(s){return s.objectStore("firebaseLocalStorage")}function Mh(s,l){return s.transaction(["firebaseLocalStorage"],l?"readwrite":"readonly")}function ul(s){return new he(function(l,p){s.onsuccess=function(N){N&&N.target?l(N.target.result):l()},s.onerror=function(N){p(N.target.error)}})}t=xP.prototype,t.set=function(s,l){var p=this,N=!1;return cv(this,function(W){return W=Oh(Mh(W,!0)),ul(W.get(s))}).then(function(W){return cv(p,function(tt){if(tt=Oh(Mh(tt,!0)),W)return W.value=l,ul(tt.put(W));p.b++,N=!0;var rt={};return rt.fbase_key=s,rt.value=l,ul(tt.add(rt))})}).then(function(){return p.c[s]=l,_P(p,s)}).oa(function(){N&&p.b--})};function _P(s,l){return s.g&&s.h&&f$()===s.h?wP(s.g,"keyChanged",{key:l},s.s).then(function(){}).o(function(){}):Yt()}t.get=function(s){return cv(this,function(l){return ul(Oh(Mh(l,!1)).get(s))}).then(function(l){return l&&l.value})},t.U=function(s){var l=this,p=!1;return cv(this,function(N){return p=!0,l.b++,ul(Oh(Mh(N,!0)).delete(s))}).then(function(){return delete l.c[s],_P(l,s)}).oa(function(){p&&l.b--})};function SP(s){return ox(s).then(function(l){var p=Oh(Mh(l,!1));return p.getAll?ul(p.getAll()):new he(function(N,W){var tt=[],rt=p.openCursor();rt.onsuccess=function(lt){(lt=lt.target.result)?(tt.push(lt.value),lt.continue()):N(tt)},rt.onerror=function(lt){W(lt.target.error)}})}).then(function(l){var p={},N=[];if(s.b==0){for(N=0;N<l.length;N++)p[l[N].fbase_key]=l[N].value;N=KI(s.c,p),s.c=p}return N})}t.ca=function(s){this.a.length==0&&t5(this),this.a.push(s)},t.ia=function(s){st(this.a,function(l){return l==s}),this.a.length==0&&EP(this)};function t5(s){function l(){s.f=setTimeout(function(){s.l=SP(s).then(function(p){0<p.length&&U(s.a,function(N){N(p)})}).then(function(){l()}).o(function(p){p.message!="STOP_EVENT"&&l()})},800)}EP(s),l()}function EP(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function TP(s){var l=this,p=null;this.a=[],this.type="indexedDB",this.c=s,this.b=Yt().then(function(){if(sx()){var N=_a(),W="__sak"+N;return ix||(ix=new xP),p=ix,p.set(W,N).then(function(){return p.get(W)}).then(function(tt){if(tt!==N)throw Error("indexedDB not supported!");return p.U(W)}).then(function(){return p}).o(function(){return l.c})}return l.c}).then(function(N){return l.type=N.type,N.ca(function(W){U(l.a,function(tt){tt(W)})}),N})}t=TP.prototype,t.get=function(s){return this.b.then(function(l){return l.get(s)})},t.set=function(s,l){return this.b.then(function(p){return p.set(s,l)})},t.U=function(s){return this.b.then(function(l){return l.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){st(this.a,function(l){return l==s})};function Nh(){this.a={},this.type="inMemory"}t=Nh.prototype,t.get=function(s){return Yt(this.a[s])},t.set=function(s,l){return this.a[s]=l,Yt()},t.U=function(s){return delete this.a[s],Yt()},t.ca=function(){},t.ia=function(){};function hv(){if(!e5())throw so()=="Node"?new I("internal-error","The LocalStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=kP()||Ht.INTERNAL.node.localStorage,this.type="localStorage"}function kP(){try{var s=c.localStorage,l=_a();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function e5(){var s=so()=="Node";if(s=kP()||s&&Ht.INTERNAL.node&&Ht.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=hv.prototype,t.get=function(s){var l=this;return Yt().then(function(){var p=l.a.getItem(s);return il(p)})},t.set=function(s,l){var p=this;return Yt().then(function(){var N=vh(l);N===null?p.U(s):p.a.setItem(s,N)})},t.U=function(s){var l=this;return Yt().then(function(){l.a.removeItem(s)})},t.ca=function(s){c.window&&pi(c.window,"storage",s)},t.ia=function(s){c.window&&Xr(c.window,"storage",s)};function ax(){this.type="nullStorage"}t=ax.prototype,t.get=function(){return Yt(null)},t.set=function(){return Yt()},t.U=function(){return Yt()},t.ca=function(){},t.ia=function(){};function ux(){if(!n5())throw so()=="Node"?new I("internal-error","The SessionStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=CP()||Ht.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function CP(){try{var s=c.sessionStorage,l=_a();return s&&(s.setItem(l,"1"),s.removeItem(l)),s}catch{return null}}function n5(){var s=so()=="Node";if(s=CP()||s&&Ht.INTERNAL.node&&Ht.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch{return!1}}t=ux.prototype,t.get=function(s){var l=this;return Yt().then(function(){var p=l.a.getItem(s);return il(p)})},t.set=function(s,l){var p=this;return Yt().then(function(){var N=vh(l);N===null?p.U(s):p.a.setItem(s,N)})},t.U=function(s){var l=this;return Yt().then(function(){l.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function r5(){var s={};s.Browser=i5,s.Node=o5,s.ReactNative=s5,s.Worker=a5,this.a=s[so()]}var lx,i5={F:hv,cb:ux},o5={F:hv,cb:ux},s5={F:dP,cb:ax},a5={F:hv,cb:ax},ll={rd:"local",NONE:"none",td:"session"};function u5(s){var l=new I("invalid-persistence-type"),p=new I("unsupported-persistence-type");t:{for(N in ll)if(ll[N]==s){var N=!0;break t}N=!1}if(!N||typeof s!="string")throw l;switch(so()){case"ReactNative":if(s==="session")throw p;break;case"Node":if(s!=="none")throw p;break;case"Worker":if(s==="session"||!sx()&&s!=="none")throw p;break;default:if(!lw()&&s!=="none")throw p}}function IP(){var s=!!(!tA(Un())&&aw()),l=ph(),p=lw();this.m=s,this.h=l,this.l=p,this.a={},lx||(lx=new r5),s=lx;try{this.g=!ow()&&nA()||!c.indexedDB?new s.a.F:new TP(Li()?new Nh:new s.a.F)}catch{this.g=new Nh,this.h=!0}try{this.i=new s.a.cb}catch{this.i=new Nh}this.v=new Nh,this.f=z(this.Zb,this),this.b={}}var cx;function Dh(){return cx||(cx=new IP),cx}function Pa(s,l){switch(l){case"session":return s.i;case"none":return s.v;default:return s.g}}function cl(s,l){return"firebase:"+s.name+(l?":"+l:"")}function l5(s,l,p){var N=cl(l,p),W=Pa(s,l.F);return s.get(l,p).then(function(tt){var rt=null;try{rt=il(c.localStorage.getItem(N))}catch{}if(rt&&!tt)return c.localStorage.removeItem(N),s.set(l,rt,p);rt&&tt&&W.type!="localStorage"&&c.localStorage.removeItem(N)})}t=IP.prototype,t.get=function(s,l){return Pa(this,s.F).get(cl(s,l))};function hl(s,l,p){return p=cl(l,p),l.F=="local"&&(s.b[p]=null),Pa(s,l.F).U(p)}t.set=function(s,l,p){var N=cl(s,p),W=this,tt=Pa(this,s.F);return tt.set(N,l).then(function(){return tt.get(N)}).then(function(rt){s.F=="local"&&(W.b[N]=rt)})},t.addListener=function(s,l,p){s=cl(s,l),this.l&&(this.b[s]=c.localStorage.getItem(s)),Wt(this.a)&&(Pa(this,"local").ca(this.f),this.h||(ow()||!nA())&&c.indexedDB||!this.l||c5(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(p)},t.removeListener=function(s,l,p){s=cl(s,l),this.a[s]&&(st(this.a[s],function(N){return N==p}),this.a[s].length==0&&delete this.a[s]),Wt(this.a)&&(Pa(this,"local").ia(this.f),hx(this))};function c5(s){hx(s),s.c=setInterval(function(){for(var l in s.a){var p=c.localStorage.getItem(l),N=s.b[l];p!=N&&(s.b[l]=p,p=new ma({type:"storage",key:l,target:window,oldValue:N,newValue:p,a:!0}),s.Zb(p))}},1e3)}function hx(s){s.c&&(clearInterval(s.c),s.c=null)}t.Zb=function(s){if(s&&s.g){var l=s.a.key;if(l==null)for(var p in this.a){var N=this.b[p];typeof N>"u"&&(N=null);var W=c.localStorage.getItem(p);W!==N&&(this.b[p]=W,this.nb(p))}else if(l.indexOf("firebase:")==0&&this.a[l]){if(typeof s.a.a<"u"?Pa(this,"local").ia(this.f):hx(this),this.m){if(p=c.localStorage.getItem(l),N=s.a.newValue,N!==p)N!==null?c.localStorage.setItem(l,N):c.localStorage.removeItem(l);else if(this.b[l]===N&&typeof s.a.a>"u")return}var tt=this;p=function(){(typeof s.a.a<"u"||tt.b[l]!==c.localStorage.getItem(l))&&(tt.b[l]=c.localStorage.getItem(l),tt.nb(l))},Di&&cs&&cs==10&&c.localStorage.getItem(l)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(p,10):p()}}else U(s,z(this.nb,this))},t.nb=function(s){this.a[s]&&U(this.a[s],function(l){l()})};function h5(s){this.a=s,this.b=Dh()}var fx={name:"authEvent",F:"local"};function f5(s){return s.b.get(fx,s.a).then(function(l){return DA(l)})}function d5(){this.a=Dh()}function p5(){this.b=-1}function fv(s,l){this.b=AP,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=l,this.l=c.Int32Array?new Int32Array(64):Array(64),dv===void 0&&(c.Int32Array?dv=new Int32Array(OP):dv=OP),this.reset()}var dv;D(fv,p5);for(var AP=64,v5=AP-1,PP=[],dx=0;dx<v5;dx++)PP[dx]=0;var RP=mt(128,PP);fv.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):wt(this.h)};function px(s){for(var l=s.f,p=s.l,N=0,W=0;W<l.length;)p[N++]=l[W]<<24|l[W+1]<<16|l[W+2]<<8|l[W+3],W=4*N;for(l=16;64>l;l++){W=p[l-15]|0,N=p[l-2]|0;var tt=(p[l-16]|0)+((W>>>7|W<<25)^(W>>>18|W<<14)^W>>>3)|0,rt=(p[l-7]|0)+((N>>>17|N<<15)^(N>>>19|N<<13)^N>>>10)|0;p[l]=tt+rt|0}N=s.a[0]|0,W=s.a[1]|0;var lt=s.a[2]|0,Et=s.a[3]|0,Pt=s.a[4]|0,Zt=s.a[5]|0,Ae=s.a[6]|0;for(tt=s.a[7]|0,l=0;64>l;l++){var be=((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+(N&W^N&lt^W&lt)|0;rt=Pt&Zt^~Pt&Ae,tt=tt+((Pt>>>6|Pt<<26)^(Pt>>>11|Pt<<21)^(Pt>>>25|Pt<<7))|0,rt=rt+(dv[l]|0)|0,rt=tt+(rt+(p[l]|0)|0)|0,tt=Ae,Ae=Zt,Zt=Pt,Pt=Et+rt|0,Et=lt,lt=W,W=N,N=rt+be|0}s.a[0]=s.a[0]+N|0,s.a[1]=s.a[1]+W|0,s.a[2]=s.a[2]+lt|0,s.a[3]=s.a[3]+Et|0,s.a[4]=s.a[4]+Pt|0,s.a[5]=s.a[5]+Zt|0,s.a[6]=s.a[6]+Ae|0,s.a[7]=s.a[7]+tt|0}function vx(s,l,p){p===void 0&&(p=l.length);var N=0,W=s.c;if(typeof l=="string")for(;N<p;)s.f[W++]=l.charCodeAt(N++),W==s.b&&(px(s),W=0);else if(m(l))for(;N<p;){var tt=l[N++];if(!(typeof tt=="number"&&0<=tt&&255>=tt&&tt==(tt|0)))throw Error("message must be a byte array");s.f[W++]=tt,W==s.b&&(px(s),W=0)}else throw Error("message must be string or array");s.c=W,s.g+=p}var OP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function MP(){fv.call(this,8,g5)}D(MP,fv);var g5=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function NP(s,l,p,N,W,tt){this.v=s,this.i=l,this.l=p,this.m=N||null,this.u=W||null,this.s=tt,this.h=l+":"+p,this.C=new d5,this.g=new h5(this.h),this.f=null,this.b=[],this.a=this.c=null}function pv(s){return new I("invalid-cordova-configuration",s)}t=NP.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=l$().then(function(){if(typeof He("universalLinks.subscribe",c)!="function")throw pv("cordova-universal-links-plugin-fix is not installed");if(typeof He("BuildInfo.packageName",c)>"u")throw pv("cordova-plugin-buildinfo is not installed");if(typeof He("cordova.plugins.browsertab.openUrl",c)!="function")throw pv("cordova-plugin-browsertab is not installed");if(typeof He("cordova.InAppBrowser.open",c)!="function")throw pv("cordova-plugin-inappbrowser is not installed")},function(){throw new I("cordova-not-ready")})};function m5(){for(var s=20,l=[];0<s;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return l.join("")}function y5(s){var l=new MP;vx(l,s),s=[];var p=8*l.g;56>l.c?vx(l,RP,56-l.c):vx(l,RP,l.b-(l.c-56));for(var N=63;56<=N;N--)l.f[N]=p&255,p/=256;for(px(l),N=p=0;N<l.i;N++)for(var W=24;0<=W;W-=8)s[p++]=l.a[N]>>W&255;return A$(s)}t.Pb=function(s,l){return l(new I("operation-not-supported-in-this-environment")),Yt()},t.Nb=function(){return We(new I("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(s,l,p,N){if(this.c)return We(new I("redirect-operation-pending"));var W=this,tt=c.document,rt=null,lt=null,Et=null,Pt=null;return this.c=Yt().then(function(){return Rw(l),LP(W)}).then(function(){return w5(W,s,l,p,N)}).then(function(){return new he(function(Zt,Ae){lt=function(){var be=He("cordova.plugins.browsertab.close",c);return Zt(),typeof be=="function"&&be(),W.a&&typeof W.a.close=="function"&&(W.a.close(),W.a=null),!1},W.Ea(lt),Et=function(){rt||(rt=Ju(2e3).then(function(){Ae(new I("redirect-cancelled-by-user"))}))},Pt=function(){cw()&&Et()},tt.addEventListener("resume",Et,!1),Un().toLowerCase().match(/android/)||tt.addEventListener("visibilitychange",Pt,!1)}).o(function(Zt){return gx(W).then(function(){throw Zt})})}).oa(function(){Et&&tt.removeEventListener("resume",Et,!1),Pt&&tt.removeEventListener("visibilitychange",Pt,!1),rt&&rt.cancel(),lt&&W.Ta(lt),W.c=null})};function w5(s,l,p,N,W){var tt=m5(),rt=new Fi(l,N,null,tt,new I("no-auth-event"),null,W),lt=He("BuildInfo.packageName",c);if(typeof lt!="string")throw new I("invalid-cordova-configuration");var Et=He("BuildInfo.displayName",c),Pt={};if(Un().toLowerCase().match(/iphone|ipad|ipod/))Pt.ibi=lt;else if(Un().toLowerCase().match(/android/))Pt.apn=lt;else return We(new I("operation-not-supported-in-this-environment"));Et&&(Pt.appDisplayName=Et),tt=y5(tt),Pt.sessionId=tt;var Zt=Rh(s.v,s.i,s.l,l,p,null,N,s.m,Pt,s.u,W,s.s);return s.ma().then(function(){var Ae=s.h;return s.C.a.set(fx,rt.w(),Ae)}).then(function(){var Ae=He("cordova.plugins.browsertab.isAvailable",c);if(typeof Ae!="function")throw new I("invalid-cordova-configuration");var be=null;Ae(function(In){if(In){if(be=He("cordova.plugins.browsertab.openUrl",c),typeof be!="function")throw new I("invalid-cordova-configuration");be(Zt)}else{if(be=He("cordova.InAppBrowser.open",c),typeof be!="function")throw new I("invalid-cordova-configuration");In=Un(),s.a=be(Zt,In.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||In.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function DP(s,l){for(var p=0;p<s.b.length;p++)try{s.b[p](l)}catch{}}function LP(s){return s.f||(s.f=s.ma().then(function(){return new he(function(l){function p(N){return l(N),s.Ta(p),!1}s.Ea(p),x5(s)})})),s.f}function gx(s){var l=null;return f5(s.g).then(function(p){return l=p,p=s.g,hl(p.b,fx,p.a)}).then(function(){return l})}function x5(s){function l(rt){N=!0,W&&W.cancel(),gx(s).then(function(lt){var Et=p;if(lt&&rt&&rt.url){var Pt=null;Et=CA(rt.url),Et.indexOf("/__/auth/callback")!=-1&&(Pt=Dr(Et),Pt=il(vi(Pt,"firebaseError")||null),Pt=(Pt=typeof Pt=="object"?A(Pt):null)?new Fi(lt.c,lt.b,null,null,Pt,null,lt.T()):new Fi(lt.c,lt.b,Et,lt.f,null,null,lt.T())),Et=Pt||p}DP(s,Et)})}var p=new Fi("unknown",null,null,null,new I("no-auth-event")),N=!1,W=Ju(500).then(function(){return gx(s).then(function(){N||DP(s,p)})}),tt=c.handleOpenURL;c.handleOpenURL=function(rt){if(rt.toLowerCase().indexOf(He("BuildInfo.packageName",c).toLowerCase()+"://")==0&&l({url:rt}),typeof tt=="function")try{tt(rt)}catch(lt){console.error(lt)}},Ow||(Ow=new F$),j$(l)}t.Ea=function(s){this.b.push(s),LP(this).o(function(l){l.code==="auth/invalid-cordova-configuration"&&(l=new Fi("unknown",null,null,null,new I("no-auth-event")),s(l))})},t.Ta=function(s){st(this.b,function(l){return l==s})};function b5(s){this.a=s,this.b=Dh()}var mx={name:"pendingRedirect",F:"session"};function _5(s){return s.b.set(mx,"pending",s.a)}function yx(s){return hl(s.b,mx,s.a)}function S5(s){return s.b.get(mx,s.a).then(function(l){return l=="pending"})}function vv(s,l,p,N){this.i={},this.u=0,this.D=s,this.v=l,this.m=p,this.J=N,this.h=[],this.f=!1,this.l=z(this.s,this),this.b=new mv,this.C=new GP,this.g=new b5($P(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=FP(this.D,this.v,this.m,w,this.J)}function FP(s,l,p,N,W){var tt=Ht.SDK_VERSION||null;return sw()?new NP(s,l,p,tt,N,W):new lP(s,l,p,tt,N,W)}vv.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=FP(this.D,this.v,this.m,null,this.J),this.i={}};function jP(s){s.f||(s.f=!0,s.a.Ea(s.l));var l=s.a;return s.a.ma().o(function(p){throw s.a==l&&s.reset(),p})}function BP(s){s.a.Yb()&&jP(s).o(function(l){var p=new Fi("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));xx(l)&&s.s(p)}),s.a.Ub()||WP(s.b)}function gv(s,l){nt(s.h,l)||s.h.push(l),s.f||S5(s.g).then(function(p){p?yx(s.g).then(function(){jP(s).o(function(N){var W=new Fi("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));xx(N)&&s.s(W)})}):BP(s)}).o(function(){BP(s)})}function wx(s,l){st(s.h,function(p){return p==l})}vv.prototype.s=function(s){if(!s)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var l=!1,p=0;p<this.h.length;p++){var N=this.h[p];if(N.Gb(s.c,s.b)){(l=this.c[s.c])&&(l.h(s,N),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),l=!0;break}}return WP(this.b),l};var E5=new ds(2e3,1e4),T5=new ds(3e4,6e4);vv.prototype.ra=function(){return this.b.ra()};function UP(s,l,p,N,W,tt,rt){return s.a.Nb(l,p,N,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},W,tt,rt)}function xx(s){return!!(s&&s.code=="auth/cordova-not-ready")}function zP(s,l,p,N,W){var tt;return _5(s.g).then(function(){return s.a.Ob(l,p,N,W).o(function(rt){if(xx(rt))throw new I("operation-not-supported-in-this-environment");return tt=rt,yx(s.g).then(function(){throw tt})}).then(function(){return s.a.ac()?new he(function(){}):yx(s.g).then(function(){return s.ra()}).then(function(){}).o(function(){})})})}function VP(s,l,p,N,W){return s.a.Pb(N,function(tt){l.na(p,null,tt,W)},E5.get())}var bx={};function $P(s,l,p){return s=s+":"+l,p&&(s=s+":"+p.url),s}function _x(s,l,p,N){var W=$P(l,p,N);return bx[W]||(bx[W]=new vv(s,l,p,N)),bx[W]}function mv(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}mv.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},mv.prototype.h=function(s,l){if(s){this.reset(),this.g=!0;var p=s.c,N=s.b,W=s.a&&s.a.code=="auth/web-storage-unsupported",tt=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!W&&!tt),p!="unknown"||W||tt?s.a?(Ra(this,!0,null,s.a),Yt()):l.Fa(p,N)?k5(this,s,l):We(new I("invalid-auth-event")):(Ra(this,!1,null,null),Yt())}else We(new I("invalid-auth-event"))};function WP(s){s.g||(s.g=!0,Ra(s,!1,null,null))}function yv(s){s.g&&!s.i&&Ra(s,!1,null,null)}function k5(s,l,p){p=p.Fa(l.c,l.b);var N=l.g,W=l.f,tt=l.i,rt=l.T(),lt=!!l.c.match(/Redirect$/);p(N,W,rt,tt).then(function(Et){Ra(s,lt,Et,null)}).o(function(Et){Ra(s,lt,null,Et)})}function C5(s,l){if(s.b=function(){return We(l)},s.c.length)for(var p=0;p<s.c.length;p++)s.c[p](l)}function HP(s,l){if(s.b=function(){return Yt(l)},s.f.length)for(var p=0;p<s.f.length;p++)s.f[p](l)}function Ra(s,l,p,N){l?N?C5(s,N):HP(s,p):HP(s,{user:null}),s.f=[],s.c=[]}mv.prototype.ra=function(){var s=this;return new he(function(l,p){s.b?s.b().then(l,p):(s.f.push(l),s.c.push(p),I5(s))})};function I5(s){var l=new I("timeout");s.a&&s.a.cancel(),s.a=Ju(T5.get()).then(function(){s.b||(s.g=!0,Ra(s,!0,null,l))})}function GP(){}GP.prototype.h=function(s,l){if(s){var p=s.c,N=s.b;s.a?(l.na(s.c,null,s.a,s.b),Yt()):l.Fa(p,N)?A5(s,l):We(new I("invalid-auth-event"))}else We(new I("invalid-auth-event"))};function A5(s,l){var p=s.b,N=s.c;l.Fa(N,p)(s.g,s.f,s.T(),s.i).then(function(W){l.na(N,W,null,p)}).o(function(W){l.na(N,null,W,p)})}function KP(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(s){this.jb=s},enumerable:!1})}function Sx(s,l){this.a=l,$t(this,"verificationId",s)}Sx.prototype.confirm=function(s){return s=NA(this.verificationId,s),this.a(s)};function Ex(s,l,p,N){return new Mo(s).gb(l,p).then(function(W){return new Sx(W,N)})}function P5(s){var l=wA(s);if(!(l&&l.exp&&l.auth_time&&l.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");mr(this,{token:s,expirationTime:gh(1e3*l.exp),authTime:gh(1e3*l.auth_time),issuedAtTime:gh(1e3*l.iat),signInProvider:l.firebase&&l.firebase.sign_in_provider?l.firebase.sign_in_provider:null,signInSecondFactor:l.firebase&&l.firebase.sign_in_second_factor?l.firebase.sign_in_second_factor:null,claims:l})}function Tx(s,l,p){var N=l&&l[YP];if(!N)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=Bt(l),this.g=p,this.c=new Kp(null,N),this.b=[];var W=this;U(l[XP]||[],function(tt){(tt=gw(tt))&&W.b.push(tt)}),$t(this,"auth",this.a),$t(this,"session",this.c),$t(this,"hints",this.b)}var XP="mfaInfo",YP="mfaPendingCredential";Tx.prototype.Rc=function(s){var l=this;return s.tb(this.a.a,this.c).then(function(p){var N=Bt(l.f);return delete N[XP],delete N[YP],It(N,p),l.g(N)})};function kx(s,l,p,N){I.call(this,"multi-factor-auth-required",N,l),this.b=new Tx(s,l,p),$t(this,"resolver",this.b)}D(kx,I);function qP(s,l,p){if(s&&R(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new kx(l,s.serverResponse,p,s.message)}catch{}return null}function QP(){}QP.prototype.tb=function(s,l,p){return l.type==xh?R5(this,s,l,p):O5(this,s,l)};function R5(s,l,p,N){return p.Ha().then(function(W){return W={idToken:W},typeof N<"u"&&(W.displayName=N),It(W,{phoneVerificationInfo:bh(s.a)}),fe(l,xW,W)})}function O5(s,l,p){return p.Ha().then(function(N){return N={mfaPendingCredential:N},It(N,{phoneVerificationInfo:bh(s.a)}),fe(l,bW,N)})}function Cx(s){$t(this,"factorId",s.fa),this.a=s}D(Cx,QP);function JP(s){if(Cx.call(this,s),this.a.fa!=Mo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}D(JP,Cx);function fl(s,l){Nr.call(this,s);for(var p in l)this[p]=l[p]}D(fl,Nr);function Ix(s,l){this.a=s,this.b=[],this.c=z(this.yc,this),pi(this.a,"userReloaded",this.c);var p=[];l&&l.multiFactor&&l.multiFactor.enrolledFactors&&U(l.multiFactor.enrolledFactors,function(N){var W=null,tt={};if(N){N.uid&&(tt[yw]=N.uid),N.displayName&&(tt[iA]=N.displayName),N.enrollmentTime&&(tt[mw]=new Date(N.enrollmentTime).toISOString()),N.phoneNumber&&(tt[ww]=N.phoneNumber);try{W=new mh(tt)}catch{}N=W}else N=null;N&&p.push(N)}),wv(this,p)}function M5(s){var l=[];return U(s.mfaInfo||[],function(p){(p=gw(p))&&l.push(p)}),l}t=Ix.prototype,t.yc=function(s){wv(this,M5(s.hd))};function wv(s,l){s.b=l,$t(s,"enrolledFactors",l)}t.Sb=function(){return this.a.I().then(function(s){return new Kp(s,null)})},t.fc=function(s,l){var p=this,N=this.a.a;return this.Sb().then(function(W){return s.tb(N,W,l)}).then(function(W){return lo(p.a,W),p.a.reload()})},t.bd=function(s){var l=this,p=typeof s=="string"?s:s.uid,N=this.a.a;return this.a.I().then(function(W){return fe(N,zW,{idToken:W,mfaEnrollmentId:p})}).then(function(W){var tt=G(l.b,function(rt){return rt.uid!=p});return wv(l,tt),lo(l.a,W),l.a.reload().o(function(rt){if(rt.code!="auth/user-token-expired")throw rt})})},t.w=function(){return{multiFactor:{enrolledFactors:Z(this.b,function(s){return s.w()})}}};function Ax(s,l,p){if(this.h=s,this.i=l,this.g=p,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Ax.prototype.start=function(){this.a=this.c,Px(this,!0)};function N5(s,l){return l?(s.a=s.c,s.g()):(l=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),l)}function Px(s,l){s.stop(),s.b=Ju(N5(s,l)).then(function(){return h$()}).then(function(){return s.h()}).then(function(){Px(s,!0)}).o(function(p){s.i(p)&&Px(s,!1)})}Ax.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Rx(s){this.f=s,this.b=this.a=null,this.c=Date.now()}Rx.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function ZP(s,l){typeof l>"u"&&(s.b?(l=s.b,l=l.a-l.g):l=0),s.c=Date.now()+1e3*l}function tR(s,l){s.b=Hp(l[Bi]||""),s.a=l.refreshToken,l=l.expiresIn,ZP(s,typeof l<"u"?Number(l):void 0)}function D5(s,l){s.b=l.b,s.a=l.a,s.c=l.c}function L5(s,l){return iW(s.f,l).then(function(p){return s.b=Hp(p.access_token),s.a=p.refresh_token,ZP(s,p.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(p){throw p.code=="auth/user-token-expired"&&(s.a=null),p})}Rx.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?We(new I("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?L5(this,{grant_type:"refresh_token",refresh_token:this.a}):Yt(null):Yt({accessToken:this.b.toString(),refreshToken:this.a})};function xv(s,l){this.a=s||null,this.b=l||null,mr(this,{lastSignInTime:gh(l||null),creationTime:gh(s||null)})}function F5(s){return new xv(s.a,s.b)}xv.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function j5(s,l,p,N,W,tt){mr(this,{uid:s,displayName:N||null,photoURL:W||null,email:p||null,phoneNumber:tt||null,providerId:l})}function qr(s,l,p){this.N=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var N=Ht.SDK_VERSION?nl(Ht.SDK_VERSION):null;this.a=new ji(this.l,d(w),N),(this.u=s.emulatorConfig||null)&&uv(this.a,this.u),this.h=new Rx(this.a),jx(this,l[Bi]),tR(this.h,l),$t(this,"refreshToken",this.h.a),nR(this,p||{}),gr.call(this),this.P=!1,this.s&&ba()&&(this.b=_x(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=B5(this),this.ba=z(this.ib,this);var W=this;this.za=null,this.Pa=function(tt){W.xa(tt.h)},this.qa=null,this.Ba=function(tt){Ox(W,tt.c)},this.$=null,this.aa=[],this.Oa=function(tt){Lh(W,tt.f)},this.ja=null,this.S=new Ix(this,p),$t(this,"multiFactor",this.S)}D(qr,gr),qr.prototype.xa=function(s){this.za=s,qA(this.a,s)};function Ox(s,l){s.u=l,uv(s.a,l),s.b&&(l=s.b,s.b=_x(s.s,s.l,s.m,s.u),s.P&&(wx(l,s),gv(s.b,s)))}qr.prototype.la=function(){return this.za};function Mx(s,l){s.qa&&Xr(s.qa,"languageCodeChanged",s.Pa),(s.qa=l)&&pi(l,"languageCodeChanged",s.Pa)}function Nx(s,l){s.$&&Xr(s.$,"emulatorConfigChanged",s.Ba),(s.$=l)&&pi(l,"emulatorConfigChanged",s.Ba)}function Lh(s,l){s.aa=l,QA(s.a,Ht.SDK_VERSION?nl(Ht.SDK_VERSION,s.aa):null)}qr.prototype.Ga=function(){return wt(this.aa)};function Dx(s,l){s.ja&&Xr(s.ja,"frameworkChanged",s.Oa),(s.ja=l)&&pi(l,"frameworkChanged",s.Oa)}qr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Lx(s){try{return Ht.app(s.m).auth()}catch{throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function B5(s){return new Ax(function(){return s.I(!0)},function(l){return!!(l&&l.code=="auth/network-request-failed")},function(){var l=s.h.c-Date.now()-3e5;return 0<l?l:0})}function eR(s){s.J||s.D.b||(s.D.start(),Xr(s,"tokenChanged",s.ba),pi(s,"tokenChanged",s.ba))}function Fx(s){Xr(s,"tokenChanged",s.ba),s.D.stop()}function jx(s,l){s.Aa=l,$t(s,"_lat",l)}function U5(s,l){st(s.W,function(p){return p==l})}function Oa(s){for(var l=[],p=0;p<s.W.length;p++)l.push(s.W[p](s));return wI(l).then(function(){return s})}function Fh(s){s.b&&!s.P&&(s.P=!0,gv(s.b,s))}function nR(s,l){mr(s,{uid:l.uid,displayName:l.displayName||null,photoURL:l.photoURL||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,isAnonymous:l.isAnonymous||!1,tenantId:l.tenantId||null,metadata:new xv(l.createdAt,l.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}$t(qr.prototype,"providerId","firebase");function rR(){}function Bx(s){return Yt().then(function(){if(s.J)throw new I("app-deleted")})}function Ux(s){return Z(s.providerData,function(l){return l.providerId})}function zx(s,l){l&&(iR(s,l.providerId),s.providerData.push(l))}function iR(s,l){st(s.providerData,function(p){return p.providerId==l})}function gs(s,l,p){(l!="uid"||p)&&s.hasOwnProperty(l)&&$t(s,l,p)}function bv(s,l){s!=l&&(mr(s,{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL,email:l.email,emailVerified:l.emailVerified,phoneNumber:l.phoneNumber,isAnonymous:l.isAnonymous,tenantId:l.tenantId,providerData:[]}),l.metadata?$t(s,"metadata",F5(l.metadata)):$t(s,"metadata",new xv),U(l.providerData,function(p){zx(s,p)}),D5(s.h,l.h),$t(s,"refreshToken",s.h.a),wv(s.S,l.S.b))}t=qr.prototype,t.reload=function(){var s=this;return wn(this,Bx(this).then(function(){return Vx(s).then(function(){return Oa(s)}).then(rR)}))};function Vx(s){return s.I().then(function(l){var p=s.isAnonymous;return z5(s,l).then(function(){return p||gs(s,"isAnonymous",!1),l})})}t.oc=function(s){return this.I(s).then(function(l){return new P5(l)})},t.I=function(s){var l=this;return wn(this,Bx(this).then(function(){return l.h.getToken(s)}).then(function(p){if(!p)throw new I("internal-error");return p.accessToken!=l.Aa&&(jx(l,p.accessToken),l.dispatchEvent(new fl("tokenChanged"))),gs(l,"refreshToken",p.refreshToken),p.accessToken}))};function lo(s,l){l[Bi]&&s.Aa!=l[Bi]&&(tR(s.h,l),s.dispatchEvent(new fl("tokenChanged")),jx(s,l[Bi]),gs(s,"refreshToken",s.h.a))}function z5(s,l){return fe(s.a,_W,{idToken:l}).then(z(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new I("internal-error");s=s[0],nR(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var l=V5(s),p=0;p<l.length;p++)zx(this,l[p]);gs(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new fl("userReloaded",{hd:s}))};function V5(s){return(s=s.providerUserInfo)&&s.length?Z(s,function(l){return new j5(l.rawId,l.providerId,l.email,l.displayName,l.photoUrl,l.phoneNumber)}):[]}t.Lc=function(s){return hw("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(s)},t.ub=function(s){var l=this,p=null;return wn(this,s.c(this.a,this.uid).then(function(N){return lo(l,N),p=jh(l,N,"reauthenticate"),l.i=null,l.reload()}).then(function(){return p}),!0)};function _v(s,l){return Vx(s).then(function(){if(nt(Ux(s),l))return Oa(s).then(function(){throw new I("provider-already-linked")})})}t.Cc=function(s){return hw("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(s)},t.rb=function(s){var l=this,p=null;return wn(this,_v(this,s.providerId).then(function(){return l.I()}).then(function(N){return s.b(l.a,N)}).then(function(N){return p=jh(l,N,"link"),oR(l,N)}).then(function(){return p}))},t.Dc=function(s,l){var p=this;return wn(this,_v(this,"phone").then(function(){return Ex(Lx(p),s,l,z(p.rb,p))}))},t.Mc=function(s,l){var p=this;return wn(this,Yt().then(function(){return Ex(Lx(p),s,l,z(p.ub,p))}),!0)};function jh(s,l,p){var N=Pw(l);return l=bA(l),ao({user:s,credential:N,additionalUserInfo:l,operationType:p})}function oR(s,l){return lo(s,l),s.reload().then(function(){return s})}t.Cb=function(s){var l=this;return wn(this,this.I().then(function(p){return l.a.Cb(p,s)}).then(function(p){return lo(l,p),l.reload()}))},t.ed=function(s){var l=this;return wn(this,this.I().then(function(p){return s.b(l.a,p)}).then(function(p){return lo(l,p),l.reload()}))},t.Db=function(s){var l=this;return wn(this,this.I().then(function(p){return l.a.Db(p,s)}).then(function(p){return lo(l,p),l.reload()}))},t.Eb=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return Bx(this);var l=this;return wn(this,this.I().then(function(p){return l.a.Eb(p,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(p){return lo(l,p),gs(l,"displayName",p.displayName||null),gs(l,"photoURL",p.photoUrl||null),U(l.providerData,function(N){N.providerId==="password"&&($t(N,"displayName",l.displayName),$t(N,"photoURL",l.photoURL))}),Oa(l)}).then(rR))},t.cd=function(s){var l=this;return wn(this,Vx(this).then(function(p){return nt(Ux(l),s)?hW(l.a,p,[s]).then(function(N){var W={};return U(N.providerUserInfo||[],function(tt){W[tt.providerId]=!0}),U(Ux(l),function(tt){W[tt]||iR(l,tt)}),W[Mo.PROVIDER_ID]||$t(l,"phoneNumber",null),Oa(l)}):Oa(l).then(function(){throw new I("no-such-provider")})}))},t.delete=function(){var s=this;return wn(this,this.I().then(function(l){return fe(s.a,gW,{idToken:l})}).then(function(){s.dispatchEvent(new fl("userDeleted"))})).then(function(){for(var l=0;l<s.N.length;l++)s.N[l].cancel("app-deleted");Mx(s,null),Nx(s,null),Dx(s,null),s.N=[],s.J=!0,Fx(s),$t(s,"refreshToken",null),s.b&&wx(s.b,s)})},t.Gb=function(s,l){return!!(s=="linkViaPopup"&&(this.g||null)==l&&this.f||s=="reauthViaPopup"&&(this.g||null)==l&&this.f||s=="linkViaRedirect"&&(this.ga||null)==l||s=="reauthViaRedirect"&&(this.ga||null)==l)},t.na=function(s,l,p,N){s!="linkViaPopup"&&s!="reauthViaPopup"||N!=(this.g||null)||(p&&this.C?this.C(p):l&&!p&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="linkViaPopup"&&l==(this.g||null)?z(this.Lb,this):s=="reauthViaPopup"&&l==(this.g||null)?z(this.Mb,this):s=="linkViaRedirect"&&(this.ga||null)==l?z(this.Lb,this):s=="reauthViaRedirect"&&(this.ga||null)==l?z(this.Mb,this):null},t.Ec=function(s){var l=this;return sR(this,"linkViaPopup",s,function(){return _v(l,s.providerId).then(function(){return Oa(l)})},!1)},t.Nc=function(s){return sR(this,"reauthViaPopup",s,function(){return Yt()},!0)};function sR(s,l,p,N,W){if(!ba())return We(new I("operation-not-supported-in-this-environment"));if(s.i&&!W)return We(s.i);var tt=Ew(p.providerId),rt=_a(s.uid+":::"),lt=null;(!ph()||aw())&&s.s&&p.isOAuthProvider&&(lt=Rh(s.s,s.l,s.m,l,p,null,rt,Ht.SDK_VERSION||null,null,null,s.tenantId,s.u));var Et=YI(lt,tt&&tt.va,tt&&tt.ua);return N=N().then(function(){if(uR(s),!W)return s.I().then(function(){})}).then(function(){return UP(s.b,Et,l,p,rt,!!lt,s.tenantId)}).then(function(){return new he(function(Pt,Zt){s.na(l,null,new I("cancelled-popup-request"),s.g||null),s.f=Pt,s.C=Zt,s.g=rt,s.c=VP(s.b,s,l,Et,rt)})}).then(function(Pt){return Et&&xa(Et),Pt?ao(Pt):null}).o(function(Pt){throw Et&&xa(Et),Pt}),wn(s,N,W)}t.Fc=function(s){var l=this;return aR(this,"linkViaRedirect",s,function(){return _v(l,s.providerId)},!1)},t.Oc=function(s){return aR(this,"reauthViaRedirect",s,function(){return Yt()},!0)};function aR(s,l,p,N,W){if(!ba())return We(new I("operation-not-supported-in-this-environment"));if(s.i&&!W)return We(s.i);var tt=null,rt=_a(s.uid+":::");return N=N().then(function(){if(uR(s),!W)return s.I().then(function(){})}).then(function(){return s.ga=rt,Oa(s)}).then(function(lt){return s.ha&&(lt=s.ha,lt=lt.b.set($x,s.w(),lt.a)),lt}).then(function(){return zP(s.b,l,p,rt,s.tenantId)}).o(function(lt){if(tt=lt,s.ha)return cR(s.ha);throw tt}).then(function(){if(tt)throw tt}),wn(s,N,W)}function uR(s){if(!s.b||!s.P)throw s.b&&!s.P?new I("internal-error"):new I("auth-domain-config-required")}t.Lb=function(s,l,p,N){var W=this;this.c&&(this.c.cancel(),this.c=null);var tt=null;return p=this.I().then(function(rt){return Qw(W.a,{requestUri:s,postBody:N,sessionId:l,idToken:rt})}).then(function(rt){return tt=jh(W,rt,"link"),oR(W,rt)}).then(function(){return tt}),wn(this,p)},t.Mb=function(s,l,p,N){var W=this;this.c&&(this.c.cancel(),this.c=null);var tt=null,rt=Yt().then(function(){return sl(Jw(W.a,{requestUri:s,sessionId:l,postBody:N,tenantId:p}),W.uid)}).then(function(lt){return tt=jh(W,lt,"reauthenticate"),lo(W,lt),W.i=null,W.reload()}).then(function(){return tt});return wn(this,rt,!0)},t.vb=function(s){var l=this,p=null;return wn(this,this.I().then(function(N){return p=N,typeof s>"u"||Wt(s)?{}:$p(new Vp(s))}).then(function(N){return l.a.vb(p,N)}).then(function(N){if(l.email!=N)return l.reload()}).then(function(){}))},t.Fb=function(s,l){var p=this,N=null;return wn(this,this.I().then(function(W){return N=W,typeof l>"u"||Wt(l)?{}:$p(new Vp(l))}).then(function(W){return p.a.Fb(N,s,W)}).then(function(W){if(p.email!=W)return p.reload()}).then(function(){}))};function wn(s,l,p){var N=$5(s,l,p);return s.N.push(N),N.oa(function(){at(s.N,N)}),N.o(function(W){var tt=null;throw W&&W.code==="auth/multi-factor-auth-required"&&(tt=qP(W.w(),Lx(s),z(s.jc,s))),tt||W})}t.jc=function(s){var l=null,p=this;return s=sl(Yt(s),p.uid).then(function(N){return l=jh(p,N,"reauthenticate"),lo(p,N),p.i=null,p.reload()}).then(function(){return l}),wn(this,s,!0)};function $5(s,l,p){return s.i&&!p?(l.cancel(),We(s.i)):l.o(function(N){throw!N||N.code!="auth/user-disabled"&&N.code!="auth/user-token-expired"||(s.i||s.dispatchEvent(new fl("userInvalidated")),s.i=N),N})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&It(s,this.metadata.w()),U(this.providerData,function(l){s.providerData.push(p$(l))}),It(s,this.S.w()),s};function lR(s){if(!s.apiKey)return null;var l={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},p={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){p[Bi]=s.stsTokenManager.accessToken,p.refreshToken=s.stsTokenManager.refreshToken||null;var N=s.stsTokenManager.expirationTime;N&&(p.expiresIn=(N-Date.now())/1e3)}else return null;var W=new qr(l,p,s);return s.providerData&&U(s.providerData,function(tt){tt&&zx(W,ao(tt))}),s.redirectEventId&&(W.ga=s.redirectEventId),W}function W5(s,l,p,N){var W=new qr(s,l);return p&&(W.ha=p),N&&Lh(W,N),W.reload().then(function(){return W})}function H5(s,l,p,N){var W=s.h,tt={};return tt[Bi]=W.b&&W.b.toString(),tt.refreshToken=W.a,l=new qr(l||{apiKey:s.l,authDomain:s.s,appName:s.m},tt),p&&(l.ha=p),N&&Lh(l,N),bv(l,s),l}function G5(s){this.a=s,this.b=Dh()}var $x={name:"redirectUser",F:"session"};function cR(s){return hl(s.b,$x,s.a)}function K5(s,l){return s.b.get($x,s.a).then(function(p){return p&&l&&(p.authDomain=l),lR(p||{})})}function Wx(s){this.a=s,this.b=Dh(),this.c=null,this.f=X5(this),this.b.addListener(co("local"),this.a,z(this.g,this))}Wx.prototype.g=function(){var s=this,l=co("local");dl(this,function(){return Yt().then(function(){return s.c&&s.c.F!="local"?s.b.get(l,s.a):null}).then(function(p){if(p)return Hx(s,"local").then(function(){s.c=l})})})};function Hx(s,l){var p=[],N;for(N in ll)ll[N]!==l&&p.push(hl(s.b,co(ll[N]),s.a));return p.push(hl(s.b,Gx,s.a)),FV(p)}function X5(s){var l=co("local"),p=co("session"),N=co("none");return l5(s.b,l,s.a).then(function(){return s.b.get(p,s.a)}).then(function(W){return W?p:s.b.get(N,s.a).then(function(tt){return tt?N:s.b.get(l,s.a).then(function(rt){return rt?l:s.b.get(Gx,s.a).then(function(lt){return lt?co(lt):l})})})}).then(function(W){return s.c=W,Hx(s,W.F)}).o(function(){s.c||(s.c=l)})}var Gx={name:"persistence",F:"session"};function co(s){return{name:"authUser",F:s}}Wx.prototype.yb=function(s){var l=null,p=this;return u5(s),dl(this,function(){return s!=p.c.F?p.b.get(p.c,p.a).then(function(N){return l=N,Hx(p,s)}).then(function(){if(p.c=co(s),l)return p.b.set(p.c,l,p.a)}):Yt()})};function Y5(s){return dl(s,function(){return s.b.set(Gx,s.c.F,s.a)})}function hR(s,l){return dl(s,function(){return s.b.set(s.c,l.w(),s.a)})}function fR(s){return dl(s,function(){return hl(s.b,s.c,s.a)})}function dR(s,l,p){return dl(s,function(){return s.b.get(s.c,s.a).then(function(N){return N&&l&&(N.authDomain=l),N&&p&&(N.emulatorConfig=p),lR(N||{})})})}function dl(s,l){return s.f=s.f.then(l,l),s.f}function Ui(s){if(this.l=!1,$t(this,"settings",new KP),$t(this,"app",s),Ne(this).options&&Ne(this).options.apiKey)s=Ht.SDK_VERSION?nl(Ht.SDK_VERSION):null,this.a=new ji(Ne(this).options&&Ne(this).options.apiKey,d(w),s);else throw new I("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ht.INTERNAL.createSubscribe(z(this.zc,this)),this.W=void 0,this.ib=Ht.INTERNAL.createSubscribe(z(this.Ac,this)),pl(this,null),this.i=new Wx(Ne(this).options.apiKey+":"+Ne(this).name),this.D=new G5(Ne(this).options.apiKey+":"+Ne(this).name),this.$=nn(this,eH(this)),this.h=nn(this,nH(this)),this.ba=!1,this.ja=z(this.Zc,this),this.Ba=z(this.da,this),this.qa=z(this.mc,this),this.za=z(this.wc,this),this.Aa=z(this.xc,this),this.b=null,J5(this),this.INTERNAL={},this.INTERNAL.delete=z(this.delete,this),this.INTERNAL.logFramework=z(this.Gc,this),this.u=0,gr.call(this),Q5(this),this.J=[],this.R=null}D(Ui,gr);function pR(s){Nr.call(this,"languageCodeChanged"),this.h=s}D(pR,Nr);function vR(s){Nr.call(this,"emulatorConfigChanged"),this.c=s}D(vR,Nr);function gR(s){Nr.call(this,"frameworkChanged"),this.f=s}D(gR,Nr),t=Ui.prototype,t.yb=function(s){return s=this.i.yb(s),nn(this,s)},t.xa=function(s){this.aa===s||this.l||(this.aa=s,qA(this.a,this.aa),this.dispatchEvent(new pR(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=c.navigator;this.xa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,l){if(!this.R){if(!/^https?:\/\//.test(s))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");l=l?!!l.disableWarnings:!1,q5(l),this.R={url:s,ec:l},this.settings.jb=!0,uv(this.a,this.R),this.dispatchEvent(new vR(this.R))}};function q5(s){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&Bp().then(function(){var l=c.document.createElement("div");l.innerText="Running in emulator mode. Do not use with production credentials.",l.style.position="fixed",l.style.width="100%",l.style.backgroundColor="#ffffff",l.style.border=".1em solid #000000",l.style.color="#b50000",l.style.bottom="0px",l.style.left="0px",l.style.margin="0px",l.style.zIndex=1e4,l.style.textAlign="center",l.classList.add("firebase-emulator-warning"),c.document.body.appendChild(l)})}t.Gc=function(s){this.J.push(s),QA(this.a,Ht.SDK_VERSION?nl(Ht.SDK_VERSION,this.J):null),this.dispatchEvent(new gR(this.J))},t.Ga=function(){return wt(this.J)},t.zb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function Q5(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(l){this.xa(l)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(l){this.zb(l)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.R){var l=Dr(this.R.url);l=ao({protocol:l.c,host:l.a,port:l.g,options:ao({disableWarnings:this.R.ec})})}else l=null;return l},enumerable:!1})}t.toJSON=function(){return{apiKey:Ne(this).options.apiKey,authDomain:Ne(this).options.authDomain,appName:Ne(this).name,currentUser:ie(this)&&ie(this).w()}};function Kx(s){return s.Oa||We(new I("auth-domain-config-required"))}function J5(s){var l=Ne(s).options.authDomain,p=Ne(s).options.apiKey;l&&ba()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=_x(l,p,Ne(s).name,s.R),gv(s.b,s),ie(s)&&Fh(ie(s)),s.m){Fh(s.m);var N=s.m;N.xa(s.la()),Mx(N,s),N=s.m,Lh(N,s.J),Dx(N,s),N=s.m,Ox(N,s.R),Nx(N,s),s.m=null}return s.b}}))}t.Gb=function(s,l){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==l&&!!this.f;default:return!1}},t.na=function(s,l,p,N){s=="signInViaPopup"&&this.g==N&&(p&&this.C?this.C(p):l&&!p&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,l){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==l&&this.f?z(this.ic,this):null},t.ic=function(s,l,p,N){var W=this,tt={requestUri:s,postBody:N,sessionId:l,tenantId:p};return this.c&&(this.c.cancel(),this.c=null),W.$.then(function(){return Ma(W,qw(W.a,tt))})},t.Xc=function(s){if(!ba())return We(new I("operation-not-supported-in-this-environment"));var l=this,p=Ew(s.providerId),N=_a(),W=null;(!ph()||aw())&&Ne(this).options.authDomain&&s.isOAuthProvider&&(W=Rh(Ne(this).options.authDomain,Ne(this).options.apiKey,Ne(this).name,"signInViaPopup",s,null,N,Ht.SDK_VERSION||null,null,null,this.T(),this.R));var tt=YI(W,p&&p.va,p&&p.ua);return p=Kx(this).then(function(rt){return UP(rt,tt,"signInViaPopup",s,N,!!W,l.T())}).then(function(){return new he(function(rt,lt){l.na("signInViaPopup",null,new I("cancelled-popup-request"),l.g),l.f=rt,l.C=lt,l.g=N,l.c=VP(l.b,l,"signInViaPopup",tt,N)})}).then(function(rt){return tt&&xa(tt),rt?ao(rt):null}).o(function(rt){throw tt&&xa(tt),rt}),nn(this,p)},t.Yc=function(s){if(!ba())return We(new I("operation-not-supported-in-this-environment"));var l=this,p=Kx(this).then(function(){return Y5(l.i)}).then(function(){return zP(l.b,"signInViaRedirect",s,void 0,l.T())});return nn(this,p)};function mR(s){if(!ba())return We(new I("operation-not-supported-in-this-environment"));var l=Kx(s).then(function(){return s.b.ra()}).then(function(p){return p?ao(p):null});return nn(s,l)}t.ra=function(){var s=this;return mR(this).then(function(l){return s.b&&yv(s.b.b),l}).o(function(l){throw s.b&&yv(s.b.b),l})},t.dd=function(s){if(!s)return We(new I("null-user"));if(this.S!=s.tenantId)return We(new I("tenant-id-mismatch"));var l=this,p={};p.apiKey=Ne(this).options.apiKey,p.authDomain=Ne(this).options.authDomain,p.appName=Ne(this).name;var N=H5(s,p,l.D,l.Ga());return nn(this,this.h.then(function(){if(Ne(l).options.apiKey!=s.l)return N.reload()}).then(function(){return ie(l)&&s.uid==ie(l).uid?(bv(ie(l),s),l.da(s)):(pl(l,N),Fh(N),l.da(N))}).then(function(){Bh(l)}))};function Z5(s,l){var p={};return p.apiKey=Ne(s).options.apiKey,p.authDomain=Ne(s).options.authDomain,p.appName=Ne(s).name,s.R&&(p.emulatorConfig=s.R),s.$.then(function(){return W5(p,l,s.D,s.Ga())}).then(function(N){return ie(s)&&N.uid==ie(s).uid?(bv(ie(s),N),s.da(N)):(pl(s,N),Fh(N),s.da(N))}).then(function(){Bh(s)})}function pl(s,l){ie(s)&&(U5(ie(s),s.Ba),Xr(ie(s),"tokenChanged",s.qa),Xr(ie(s),"userDeleted",s.za),Xr(ie(s),"userInvalidated",s.Aa),Fx(ie(s))),l&&(l.W.push(s.Ba),pi(l,"tokenChanged",s.qa),pi(l,"userDeleted",s.za),pi(l,"userInvalidated",s.Aa),0<s.u&&eR(l)),$t(s,"currentUser",l),l&&(l.xa(s.la()),Mx(l,s),Lh(l,s.J),Dx(l,s),Ox(l,s.R),Nx(l,s))}t.Bb=function(){var s=this,l=this.h.then(function(){return s.b&&yv(s.b.b),ie(s)?(pl(s,null),fR(s.i).then(function(){Bh(s)})):Yt()});return nn(this,l)};function tH(s){var l=K5(s.D,Ne(s).options.authDomain).then(function(p){return(s.m=p)&&(p.ha=s.D),cR(s.D)});return nn(s,l)}function eH(s){var l=Ne(s).options.authDomain,p=tH(s).then(function(){return dR(s.i,l,s.R)}).then(function(N){return N?(N.ha=s.D,s.m&&(s.m.ga||null)==(N.ga||null)?N:N.reload().then(function(){return hR(s.i,N).then(function(){return N})}).o(function(W){return W.code=="auth/network-request-failed"?N:fR(s.i)})):null}).then(function(N){pl(s,N||null)});return nn(s,p)}function nH(s){return s.$.then(function(){return mR(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var l=s.i;l.b.addListener(co("local"),l.a,s.ja)}})}t.Zc=function(){var s=this;return dR(this.i,Ne(this).options.authDomain).then(function(l){if(!s.l){var p;if(p=ie(s)&&l){p=ie(s).uid;var N=l.uid;p=p==null||p===""||N===void 0||N===null||N===""?!1:p==N}if(p)return bv(ie(s),l),ie(s).I();(ie(s)||l)&&(pl(s,l),l&&(Fh(l),l.ha=s.D),s.b&&gv(s.b,s),Bh(s))}})},t.da=function(s){return hR(this.i,s)},t.mc=function(){Bh(this),this.da(ie(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Ma(s,l){var p=null,N=null;return nn(s,l.then(function(W){return p=Pw(W),N=bA(W),Z5(s,W)},function(W){var tt=null;throw W&&W.code==="auth/multi-factor-auth-required"&&(tt=qP(W.w(),s,z(s.kc,s))),tt||W}).then(function(){return ao({user:ie(s),credential:p,additionalUserInfo:N,operationType:"signIn"})}))}t.kc=function(s){var l=this;return this.h.then(function(){return Ma(l,Yt(s))})},t.zc=function(s){var l=this;this.addAuthTokenListener(function(){s.next(ie(l))})},t.Ac=function(s){var l=this;rH(this,function(){s.next(ie(l))})},t.Ic=function(s,l,p){var N=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(ie(N)):typeof s.next=="function"&&s.next(ie(N))}),this.Pa(s,l,p)},t.Hc=function(s,l,p){var N=this;return this.ba&&Promise.resolve().then(function(){N.W=N.getUid(),typeof s=="function"?s(ie(N)):typeof s.next=="function"&&s.next(ie(N))}),this.ib(s,l,p)},t.nc=function(s){var l=this,p=this.h.then(function(){return ie(l)?ie(l).I(s).then(function(N){return{accessToken:N}}):null});return nn(this,p)},t.Tc=function(s){var l=this;return this.h.then(function(){return Ma(l,fe(l.a,FW,{token:s}))}).then(function(p){var N=p.user;return gs(N,"isAnonymous",!1),l.da(N),p})},t.Uc=function(s,l){var p=this;return this.h.then(function(){return Ma(p,fe(p.a,sP,{email:s,password:l}))})},t.dc=function(s,l){var p=this;return this.h.then(function(){return Ma(p,fe(p.a,pW,{email:s,password:l}))})},t.ab=function(s){var l=this;return this.h.then(function(){return Ma(l,s.ka(l.a))})},t.Sc=function(s){return hw("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(s)},t.Ab=function(){var s=this;return this.h.then(function(){var l=ie(s);if(l&&l.isAnonymous){var p=ao({providerId:null,isNewUser:!1});return ao({user:l,credential:null,additionalUserInfo:p,operationType:"signIn"})}return Ma(s,s.a.Ab()).then(function(N){var W=N.user;return gs(W,"isAnonymous",!0),s.da(W),N})})};function Ne(s){return s.app}function ie(s){return s.currentUser}t.getUid=function(){return ie(this)&&ie(this).uid||null};function Sv(s){return ie(s)&&ie(s)._lat||null}function Bh(s){if(s.ba){for(var l=0;l<s.s.length;l++)s.s[l]&&s.s[l](Sv(s));if(s.W!==s.getUid()&&s.N.length)for(s.W=s.getUid(),l=0;l<s.N.length;l++)s.N[l]&&s.N[l](Sv(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&ie(this)&&eR(ie(this))},t.Pc=function(s){var l=this;U(this.s,function(p){p==s&&l.u--}),0>this.u&&(this.u=0),this.u==0&&ie(this)&&Fx(ie(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var l=this;this.s.push(s),nn(this,this.h.then(function(){l.l||nt(l.s,s)&&s(Sv(l))}))},t.removeAuthTokenListener=function(s){st(this.s,function(l){return l==s})};function rH(s,l){s.N.push(l),nn(s,s.h.then(function(){!s.l&&nt(s.N,l)&&s.W!==s.getUid()&&(s.W=s.getUid(),l(Sv(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.P.length;s++)this.P[s].cancel("app-deleted");return this.P=[],this.i&&(s=this.i,s.b.removeListener(co("local"),s.a,this.ja)),this.b&&(wx(this.b,this),yv(this.b.b)),Promise.resolve()};function nn(s,l){return s.P.push(l),l.oa(function(){at(s.P,l)}),l}t.hc=function(s){return nn(this,oW(this.a,s))},t.Bc=function(s){return!!Aw(s)},t.xb=function(s,l){var p=this;return nn(this,Yt().then(function(){var N=new Vp(l);if(!N.c)throw new I("argument-error",_w+" must be true when sending sign in link to email");return $p(N)}).then(function(N){return p.a.xb(s,N)}).then(function(){}))},t.jd=function(s){return this.Sa(s).then(function(l){return l.data.email})},t.ob=function(s,l){return nn(this,this.a.ob(s,l).then(function(){}))},t.Sa=function(s){return nn(this,this.a.Sa(s).then(function(l){return new g$(l)}))},t.kb=function(s){return nn(this,this.a.kb(s).then(function(){}))},t.wb=function(s,l){var p=this;return nn(this,Yt().then(function(){return typeof l>"u"||Wt(l)?{}:$p(new Vp(l))}).then(function(N){return p.a.wb(s,N)}).then(function(){}))},t.Wc=function(s,l){return nn(this,Ex(this,s,l,z(this.ab,this)))},t.Vc=function(s,l){var p=this;return nn(this,Yt().then(function(){var N=l||dh(),W=MA(s,N);if(N=Aw(N),!N)throw new I("argument-error","Invalid email link!");if(N.tenantId!==p.T())throw new I("tenant-id-mismatch");return p.ab(W)}))};function Uh(){}Uh.prototype.render=function(){},Uh.prototype.reset=function(){},Uh.prototype.getResponse=function(){},Uh.prototype.execute=function(){};function vl(){this.a={},this.b=1e12}var Xx=null;vl.prototype.render=function(s,l){return this.a[this.b.toString()]=new Ev(s,l),this.b++},vl.prototype.reset=function(s){var l=Yx(this,s);s=yR(s),l&&s&&(l.delete(),delete this.a[s])},vl.prototype.getResponse=function(s){return(s=Yx(this,s))?s.getResponse():null},vl.prototype.execute=function(s){(s=Yx(this,s))&&s.execute()};function Yx(s,l){return(l=yR(l))&&s.a[l]||null}function yR(s){return(s=typeof s>"u"?1e12:s)?s.toString():null}function Ev(s,l){this.g=!1,this.c=l,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=sh(s);var p=this;this.i=function(){p.execute()},this.h?this.execute():pi(this.f,"click",this.i)}Ev.prototype.getResponse=function(){return qx(this),this.b},Ev.prototype.execute=function(){qx(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=c$();var l=s.c.callback,p=s.c["expired-callback"];if(l)try{l(s.b)}catch{}s.a=setTimeout(function(){if(s.a=null,s.b=null,p)try{p()}catch{}s.h&&s.execute()},6e4)},500))},Ev.prototype.delete=function(){qx(this),this.g=!0,clearTimeout(this.a),this.a=null,Xr(this.f,"click",this.i)};function qx(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function Qx(){}$t(Qx,"FACTOR_ID","phone");function Jx(){}Jx.prototype.g=function(){return Xx||(Xx=new vl),Yt(Xx)},Jx.prototype.c=function(){};var Zx=null;function tb(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var iH=new me(Be,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),oH=new ds(3e4,6e4);tb.prototype.g=function(s){var l=this;return new he(function(p,N){var W=setTimeout(function(){N(new I("network-request-failed"))},oH.get());if(!c.grecaptcha||s!==l.f&&!l.b){c[l.a]=function(){if(c.grecaptcha){l.f=s;var rt=c.grecaptcha.render;c.grecaptcha.render=function(lt,Et){return lt=rt(lt,Et),l.b++,lt},clearTimeout(W),p(c.grecaptcha)}else clearTimeout(W),N(new I("internal-error"));delete c[l.a]};var tt=D0(iH,{onload:l.a,hl:s||""});Yt($w(tt)).o(function(){clearTimeout(W),N(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(W),p(c.grecaptcha)})},tb.prototype.c=function(){this.b--};var eb=null;function nb(s,l,p,N,W,tt,rt){if($t(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=l,this.g=null,rt?(Zx||(Zx=new Jx),rt=Zx):(eb||(eb=new tb),rt=eb),this.m=rt,this.a=p||{theme:"light",type:"image"},this.h=[],this.a[bR])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[sH]==="invisible",!c.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!sh(l)||!this.i&&sh(l).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ji(s,tt||null,W||null),this.u=N||function(){return null};var lt=this;this.l=[];var Et=this.a[wR];this.a[wR]=function(Zt){if(_R(lt,Zt),typeof Et=="function")Et(Zt);else if(typeof Et=="string"){var Ae=He(Et,c);typeof Ae=="function"&&Ae(Zt)}};var Pt=this.a[xR];this.a[xR]=function(){if(_R(lt,null),typeof Pt=="function")Pt();else if(typeof Pt=="string"){var Zt=He(Pt,c);typeof Zt=="function"&&Zt()}}}var wR="callback",xR="expired-callback",bR="sitekey",sH="size";function _R(s,l){for(var p=0;p<s.l.length;p++)try{s.l[p](l)}catch{}}function aH(s,l){st(s.l,function(p){return p==l})}function rb(s,l){return s.h.push(l),l.oa(function(){at(s.h,l)}),l}t=nb.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=rb(this,Yt().then(function(){if(Up()&&!Li())return Bp();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(l){return s.g=l,fe(s.s,IW,{})}).then(function(l){s.a[bR]=l.recaptchaSiteKey}).o(function(l){throw s.f=null,l}))},t.render=function(){Tv(this);var s=this;return rb(this,this.Ia().then(function(){if(s.c===null){var l=s.v;if(!s.i){var p=sh(l);l=MV("DIV"),p.appendChild(l)}s.c=s.g.render(l,s.a)}return s.c}))},t.verify=function(){Tv(this);var s=this;return rb(this,this.render().then(function(l){return new he(function(p){var N=s.g.getResponse(l);if(N)p(N);else{var W=function(tt){tt&&(aH(s,W),p(tt))};s.l.push(W),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){Tv(this),this.c!==null&&this.g.reset(this.c)};function Tv(s){if(s.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Tv(this),this.J=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=sh(this.v);for(var l;l=s.firstChild;)s.removeChild(l)}};function ib(s,l,p){var N=!1;try{this.b=p||Ht.app()}catch{throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)p=this.b.options.apiKey;else throw new I("invalid-api-key");var W=this,tt=null;try{tt=this.b.auth().Ga()}catch{}try{N=this.b.auth().settings.appVerificationDisabledForTesting}catch{}tt=Ht.SDK_VERSION?nl(Ht.SDK_VERSION,tt):null,nb.call(this,p,s,l,function(){try{var rt=W.b.auth().la()}catch{rt=null}return rt},tt,d(w),N)}D(ib,nb);function SR(s,l,p,N){t:{p=Array.prototype.slice.call(p);for(var W=0,tt=!1,rt=0;rt<l.length;rt++)if(l[rt].optional)tt=!0;else{if(tt)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");W++}if(tt=l.length,p.length<W||tt<p.length)N="Expected "+(W==tt?W==1?"1 argument":W+" arguments":W+"-"+tt+" arguments")+" but got "+p.length+".";else{for(W=0;W<p.length;W++)if(tt=l[W].optional&&p[W]===void 0,!l[W].M(p[W])&&!tt){if(l=l[W],0>W||W>=ER.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");p=ER[W],N=(N?"":p+" argument ")+(l.name?'"'+l.name+'" ':"")+"must be "+l.K+".";break t}N=null}}if(N)throw new I("argument-error",s+" failed: "+N)}var ER="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Vt(s,l){return{name:s||"",K:"a valid string",optional:!!l,M:function(p){return typeof p=="string"}}}function ob(s,l){return{name:s||"",K:"a boolean",optional:!!l,M:function(p){return typeof p=="boolean"}}}function hn(s,l){return{name:s||"",K:"a valid object",optional:!!l,M:R}}function gl(s,l){return{name:s||"",K:"a function",optional:!!l,M:function(p){return typeof p=="function"}}}function ho(s,l){return{name:s||"",K:"null",optional:!!l,M:function(p){return p===null}}}function uH(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function lH(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof Ui)}}}function cH(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof Ht.app.App)}}}function ms(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(l){if(!l)return!1;var p=!s||l.providerId===s;return!(!l.ka||!p)}}}function TR(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.tb:!1}}}function ml(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function sb(s,l){return R(s)&&typeof s.type=="string"&&s.type===l&&typeof s.Ha=="function"}function kR(s){return R(s)&&typeof s.uid=="string"}function kv(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function an(s,l,p,N){return{name:p||"",K:s.K+" or "+l.K,optional:!!N,M:function(W){return s.M(W)||l.M(W)}}}function qe(s,l){for(var p in l){var N=l[p].name;s[N]=IR(N,s[p],l[p].j)}}function CR(s,l){for(var p in l){var N=l[p].name;N!==p&&Object.defineProperty(s,N,{get:$(function(W){return this[W]},p),set:$(function(W,tt,rt,lt){SR(W,[rt],[lt],!0),this[tt]=lt},N,p,l[p].lb),enumerable:!0})}}function un(s,l,p,N){s[l]=IR(l,p,N)}function IR(s,l,p){function N(){var rt=Array.prototype.slice.call(arguments);return SR(W,p,rt),l.apply(this,rt)}if(!p)return l;var W=hH(s),tt;for(tt in l)N[tt]=l[tt];for(tt in l.prototype)N.prototype[tt]=l.prototype[tt];return N}function hH(s){return s=s.split("."),s[s.length-1]}qe(Ui.prototype,{kb:{name:"applyActionCode",j:[Vt("code")]},Sa:{name:"checkActionCode",j:[Vt("code")]},ob:{name:"confirmPasswordReset",j:[Vt("code"),Vt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Vt("email"),Vt("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Vt("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Vt("emailLink")]},Hc:{name:"onAuthStateChanged",j:[an(hn(),gl(),"nextOrObserver"),gl("opt_error",!0),gl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[an(hn(),gl(),"nextOrObserver"),gl("opt_error",!0),gl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Vt("email"),an(hn("opt_actionCodeSettings",!0),ho(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Vt("email"),hn("actionCodeSettings")]},yb:{name:"setPersistence",j:[Vt("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ms()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ms()]},Tc:{name:"signInWithCustomToken",j:[Vt("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Vt("email"),Vt("password")]},Vc:{name:"signInWithEmailLink",j:[Vt("email"),Vt("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Vt("phoneNumber"),kv()]},Xc:{name:"signInWithPopup",j:[ml()]},Yc:{name:"signInWithRedirect",j:[ml()]},dd:{name:"updateCurrentUser",j:[an(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(l){return!!(l&&l instanceof qr)}}}(),ho(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Vt(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Vt("url"),hn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Vt("code")]}}),CR(Ui.prototype,{lc:{name:"languageCode",lb:an(Vt(),ho(),"languageCode")},ti:{name:"tenantId",lb:an(Vt(),ho(),"tenantId")}}),Ui.Persistence=ll,Ui.Persistence.LOCAL="local",Ui.Persistence.SESSION="session",Ui.Persistence.NONE="none",qe(qr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[ob("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[ob("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ms()]},rb:{name:"linkWithCredential",j:[ms()]},Dc:{name:"linkWithPhoneNumber",j:[Vt("phoneNumber"),kv()]},Ec:{name:"linkWithPopup",j:[ml()]},Fc:{name:"linkWithRedirect",j:[ml()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ms()]},ub:{name:"reauthenticateWithCredential",j:[ms()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Vt("phoneNumber"),kv()]},Nc:{name:"reauthenticateWithPopup",j:[ml()]},Oc:{name:"reauthenticateWithRedirect",j:[ml()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[an(hn("opt_actionCodeSettings",!0),ho(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Vt(null,!0)]},cd:{name:"unlink",j:[Vt("provider")]},Cb:{name:"updateEmail",j:[Vt("email")]},Db:{name:"updatePassword",j:[Vt("password")]},ed:{name:"updatePhoneNumber",j:[ms("phone")]},Eb:{name:"updateProfile",j:[hn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Vt("email"),an(hn("opt_actionCodeSettings",!0),ho(null,!0),"opt_actionCodeSettings",!0)]}}),qe(vl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qe(Uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qe(he.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),CR(KP.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:ob("appVerificationDisabledForTesting")}}),qe(Sx.prototype,{confirm:{name:"confirm",j:[Vt("verificationCode")]}}),un(ol,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var l,p=[N$,D$,L$,M$],N=0;N<p.length;N++)if(l=p[N](s))return l;return null},[an(Vt(),hn(),"json")]),un(gi,"credential",function(s,l){return new ps(s,l)},[Vt("email"),Vt("password")]),qe(ps.prototype,{w:{name:"toJSON",j:[Vt(null,!0)]}}),qe(Ta.prototype,{Ca:{name:"addScope",j:[Vt("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(Ta,"credential",AA,[an(Vt(),hn(),"token")]),un(gi,"credentialWithLink",MA,[Vt("email"),Vt("emailLink")]),qe(ka.prototype,{Ca:{name:"addScope",j:[Vt("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(ka,"credential",PA,[an(Vt(),hn(),"token")]),qe(Ca.prototype,{Ca:{name:"addScope",j:[Vt("scope")]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(Ca,"credential",RA,[an(Vt(),an(hn(),ho()),"idToken"),an(Vt(),ho(),"accessToken",!0)]),qe(al.prototype,{Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),un(al,"credential",OA,[an(Vt(),hn(),"token"),Vt("secret",!0)]),qe(Yr.prototype,{Ca:{name:"addScope",j:[Vt("scope")]},credential:{name:"credential",j:[an(Vt(),an(hn(),ho()),"optionsOrIdToken"),an(Vt(),ho(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[hn("customOAuthParameters")]}}),qe(Oo.prototype,{w:{name:"toJSON",j:[Vt(null,!0)]}}),qe(Sa.prototype,{w:{name:"toJSON",j:[Vt(null,!0)]}}),un(Mo,"credential",NA,[Vt("verificationId"),Vt("verificationCode")]),qe(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[an(Vt(),function(s,l){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!l,M:function(p){return p?p.session&&p.phoneNumber?sb(p.session,xh)&&typeof p.phoneNumber=="string":p.session&&p.multiFactorHint?sb(p.session,Xp)&&kR(p.multiFactorHint):p.session&&p.multiFactorUid?sb(p.session,Xp)&&typeof p.multiFactorUid=="string":p.phoneNumber?typeof p.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),kv()]}}),qe(vs.prototype,{w:{name:"toJSON",j:[Vt(null,!0)]}}),qe(I.prototype,{toJSON:{name:"toJSON",j:[Vt(null,!0)]}}),qe(_h.prototype,{toJSON:{name:"toJSON",j:[Vt(null,!0)]}}),qe(Mw.prototype,{toJSON:{name:"toJSON",j:[Vt(null,!0)]}}),qe(kx.prototype,{toJSON:{name:"toJSON",j:[Vt(null,!0)]}}),qe(Tx.prototype,{Rc:{name:"resolveSignIn",j:[TR()]}}),qe(Ix.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[TR(),Vt("displayName",!0)]},bd:{name:"unenroll",j:[an({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:kR},Vt(),"multiFactorInfoIdentifier")]}}),qe(ib.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),un(bw,"parseLink",hA,[Vt("link")]),un(Qx,"assertion",function(s){return new JP(s)},[ms("phone")]),function(){if(typeof Ht<"u"&&Ht.INTERNAL&&Ht.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:xw,VERIFY_AND_CHANGE_EMAIL:yh,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ui,AuthCredential:ol,Error:I};un(s,"EmailAuthProvider",gi,[]),un(s,"FacebookAuthProvider",Ta,[]),un(s,"GithubAuthProvider",ka,[]),un(s,"GoogleAuthProvider",Ca,[]),un(s,"TwitterAuthProvider",al,[]),un(s,"OAuthProvider",Yr,[Vt("providerId")]),un(s,"SAMLAuthProvider",IA,[Vt("providerId")]),un(s,"PhoneAuthProvider",Mo,[lH()]),un(s,"RecaptchaVerifier",ib,[an(Vt(),uH(),"recaptchaContainer"),hn("recaptchaParameters",!0),cH()]),un(s,"ActionCodeURL",bw,[]),un(s,"PhoneMultiFactorGenerator",Qx,[]),Ht.INTERNAL.registerComponent({name:"auth",instanceFactory:function(l){return l=l.getProvider("app").getImmediate(),new Ui(l)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(l){l.getProvider("auth-internal").initialize()}}),Ht.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(l){return l=l.getProvider("auth").getImmediate(),{getUid:z(l.getUid,l),getToken:z(l.nc,l),addAuthTokenListener:z(l.cc,l),removeAuthTokenListener:z(l.Pc,l)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ht.registerVersion("@firebase/auth","0.16.8"),Ht.INTERNAL.extendNamespace({User:qr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var Q9="@firebase/database",J9="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lj="";function Fj(t){Lj=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z9=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_n(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ad(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t7=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return ui(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jj=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Z9(e)}}catch{}return new t7},Ja=jj("localStorage"),eS=jj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql=new Lu("@firebase/database"),Bj=function(){var t=1;return function(){return t++}}(),Uj=function(t){var e=y9(t),n=new p9;n.update(e);var r=n.digest();return Ay.encodeByteArray(r)},Qd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Qd.apply(null,i):typeof i=="object"?n+=_n(i):n+=i,n+=" "}return n},uu=null,AM=!0,zj=function(t,e){Nt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ql.logLevel=ce.VERBOSE,uu=Ql.log.bind(Ql),e&&eS.set("logging_enabled",!0)):typeof t=="function"?uu=t:(uu=null,eS.remove("logging_enabled"))},On=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(AM===!0&&(AM=!1,uu===null&&eS.get("logging_enabled")===!0&&zj(!0)),uu){var n=Qd.apply(null,t);uu(n)}},Jd=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];On.apply(void 0,se([t],Gn(e)))}},nS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Qd.apply(void 0,se([],Gn(t)));Ql.error(n)},To=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Qd.apply(void 0,se([],Gn(t)));throw Ql.error(n),new Error(n)},Yn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Qd.apply(void 0,se([],Gn(t)));Ql.warn(n)},e7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ry=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},n7=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ts="[MIN_NAME]",ko="[MAX_NAME]",Fu=function(t,e){if(t===e)return 0;if(t===ts||e===ko)return-1;if(e===ts||t===ko)return 1;var n=om(t),r=om(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},r7=function(t,e){return t===e?0:t<e?-1:1},Qh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_n(e))},RT=function(t){if(typeof t!="object"||t===null)return _n(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=_n(e[i]),r+=":",r+=RT(t[e[i]]);return r+="}",r},Vj=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function kn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var $j=function(t){Nt(!Ry(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,u,c;t===0?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);h.push(i?1:0),h.reverse();var f=h.join(""),v="";for(c=0;c<64;c+=8){var g=parseInt(f.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},i7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},o7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function s7(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var a7=new RegExp("^-?(0*)\\d{1,10}$"),Wj=-2147483648,OT=2147483647,om=function(t){if(a7.test(t)){var e=Number(t);if(e>=Wj&&e<=OT)return e}return null},$c=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Yn("Exception was thrown by user callback.",n),e},Math.floor(0))}},u7=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l7=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){Yn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c7=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(On("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yn(e)},t}(),If=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MT="5",Hj="v",Gj="s",Kj="r",Xj="f",Yj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qj="ls",h7="p",rS="ac",Qj="websocket",Jj="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NT=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=!1),a===void 0&&(a=""),u===void 0&&(u=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ja.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ja.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function f7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zj(t,e,n){Nt(typeof e=="string","typeof type must == string"),Nt(typeof n=="object","typeof params must == object");var r;if(e===Qj)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Jj)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);f7(t)&&(n.ns=t.namespace);var i=[];return kn(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d7=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),ui(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return kj(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s1={},a1={};function DT(t){var e=t.toString();return s1[e]||(s1[e]=new d7),s1[e]}function p7(t,e){var n=t.toString();return a1[n]||(a1[n]=e()),a1[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v7=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var u=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(f){u[f]&&$c(function(){r.onMessage_(u[f])})},h=0;h<u.length;++h)c(h);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PM="start",g7="close",m7="pLPCommand",y7="pRTLPCB",tB="id",eB="pw",nB="ser",w7="cb",x7="seg",b7="ts",_7="d",S7="dframe",rB=1870,iB=30,E7=rB-iB,T7=25e3,k7=3e4,LT=function(){function t(e,n,r,i,o,a,u){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jd(e),this.stats_=DT(n),this.urlFn=function(h){return c.appCheckToken&&(h[rS]=c.appCheckToken),Zj(n,Jj,h)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new v7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(k7)),n7(function(){if(!r.isClosed_){r.scriptTagHolder=new C7(function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Gn(a,5),h=c[0],f=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===PM)r.id=f,r.password=v;else if(h===g7)f?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(f,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=Gn(a,2),h=c[0],f=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,f)},function(){r.onClosed_()},r.urlFn);var i={};i[PM]="t",i[nB]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[w7]=r.scriptTagHolder.uniqueCallbackIdentifier),i[Hj]=MT,r.transportSessionId&&(i[Gj]=r.transportSessionId),r.lastSessionId&&(i[qj]=r.lastSessionId),r.applicationId&&(i[h7]=r.applicationId),r.appCheckToken&&(i[rS]=r.appCheckToken),typeof location<"u"&&location.hostname&&Yj.test(location.hostname)&&(i[Kj]=Xj);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!i7()&&!o7()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=_n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=Tj(n),i=Vj(r,E7),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[S7]="t",r[tB]=e,r[eB]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=_n(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),C7=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Bj(),window[m7+this.uniqueCallbackIdentifier]=e,window[y7+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){On("frame writing exception"),c.stack&&On(c.stack),On(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||On("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[tB]=this.myID,e[eB]=this.myPW,e[nB]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+iB+r.length<=rB){var a=this.pendingSegs.shift();r=r+"&"+x7+i+"="+a.seg+"&"+b7+i+"="+a.ts+"&"+_7+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(T7)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){On("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I7=16384,A7=45e3,sm=null;typeof MozWebSocket<"u"?sm=MozWebSocket:typeof WebSocket<"u"&&(sm=WebSocket);var Wa=function(){function t(e,n,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jd(this.connId),this.stats_=DT(n),this.connURL=t.connectionURL_(n,a,u,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[Hj]=MT,typeof location<"u"&&location.hostname&&Yj.test(location.hostname)&&(o[Kj]=Xj),n&&(o[Gj]=n),r&&(o[qj]=r),i&&(o[rS]=i),Zj(e,Qj,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ja.set("previous_websocket_failure",!0);try{var i,o,a,u;if(!Aj()){var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new sm(this.connURL,[],o)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var f=h.message||h.data;f&&r.log_(f),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sm!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Ja.isInMemoryStorage||Ja.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Ja.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=ad(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Nt(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=_n(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=Vj(n,I7);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(A7))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P7=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[LT,Wa]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Wa&&Wa.isAvailable(),o=i&&!Wa.previouslyFailed();if(e.webSocketOnly&&(i||Yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Wa];else{var a=this.transports_=[];try{for(var u=Fn(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R7=6e4,O7=5e3,M7=10*1024,N7=100*1024,u1="t",RM="d",D7="s",OM="r",L7="e",MM="o",NM="a",DM="n",LM="p",F7="h",oB=function(){function t(e,n,r,i,o,a,u,c,h,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jd("c:"+this.id+":"),this.transportManager_=new P7(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Cf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>N7?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>M7?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(u1 in e){var n=e[u1];n===NM?this.upgradeIfSecondaryHealthy_():n===OM?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===MM&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Qh("t",e),r=Qh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:LM,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:NM,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DM,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Qh("t",e),r=Qh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Qh(u1,e);if(RM in e){var r=e[RM];if(n===F7)this.onHandshake_(r);else if(n===DM){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===D7?this.onConnectionShutdown_(r):n===OM?this.onReset_(r):n===L7?nS("Server Error: "+r):n===MM?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nS("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),MT!==r&&Yn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Cf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(R7))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(O7))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:LM,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ja.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sB=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aB=function(){function t(e){this.allowedEvents_=e,this.listeners_={},Nt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=se([],Gn(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){Nt(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FM=function(t){jt(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!TT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return Nt(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(aB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jM=32,BM=768,Ce=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function Se(){return new Ce("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ta(t){return t.pieces_.length-t.pieceNum_}function De(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function FT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function j7(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ud(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function uB(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function Ye(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ce(n,0)}function ue(t){return t.pieceNum_>=t.pieces_.length}function Tr(t,e){var n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return Tr(De(t),De(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function B7(t,e){for(var n=ud(t,0),r=ud(e,0),i=0;i<n.length&&i<r.length;i++){var o=Fu(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function jT(t,e){if(ta(t)!==ta(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bi(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ta(t)>ta(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var U7=function(){function t(e,n){this.errorPrefix_=n,this.parts_=ud(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Py(this.parts_[r]);lB(this)}return t}();function z7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Py(e),lB(t)}function V7(t){var e=t.parts_.pop();t.byteLength_-=Py(e),t.parts_.length>0&&(t.byteLength_-=1)}function lB(t){if(t.byteLength_>BM)throw new Error(t.errorPrefix_+"has a key path longer than "+BM+" bytes ("+t.byteLength_+").");if(t.parts_.length>jM)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jM+") or object contains a cycle "+za(t))}function za(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $7=function(t){jt(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return Nt(n==="visible","Unknown event type: "+n),[this.visible_]},e}(aB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jh=1e3,W7=60*5*1e3,H7=3*1e3,UM=30*1e3,G7=1.3,K7=3e4,X7="server_kill",zM=3,lu=function(t){jt(e,t);function e(n,r,i,o,a,u,c,h){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=o,f.onServerInfoUpdate_=a,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=h,f.id=e.nextPersistentConnectionId_++,f.log_=Jd("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Jh,f.maxReconnectDelay_=W7,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,h&&!Aj())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $7.getInstance().on("visible",f.onVisible_,f),n.host.indexOf("fblocal")===-1&&FM.getInstance().on("online",f.onOnline_,f),f}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(_n(a)),Nt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new Nn,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var u=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[u];c===void 0||a!==c||(delete r.outstandingGets_[u],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},H7),this.connected_&&this.sendGet_(u),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,u=n._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),Nt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Nt(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(u).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var u={p:o},c="q";n.tag&&(u.q=i._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(c,u,function(h){var f=h.d,v=h.s;e.warnOnListenWarnings_(f,i);var g=r.listens.get(o)&&r.listens.get(o).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(v,f))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&ui(n,"w")){var i=_u(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Yn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||f9(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=UM)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=h9(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var u=a.s,c=a.d||"error";n.authToken_===r&&(u==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(u,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Nt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(u){o&&setTimeout(function(){o(u.s,u.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var u={p:r,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:n,request:u,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(u){r.log_(i+" response",u),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(u.s,u.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var u=o.d;r.log_("reportStats","Error sending stats: "+u)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+_n(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):nS("Unrecognized action received from server: "+_n(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;Nt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>K7&&(this.reconnectDelay_=Jh),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*G7)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c,h,f,v,g,x,m,E,R=this;return dt(this,function(C){switch(C.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,h=function(){c?c.close():(u=!0,i())},f=function(_){Nt(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)},this.realtime_={close:h,sendRequest:f},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=Gn.apply(void 0,[C.sent(),2]),x=g[0],m=g[1],u?On("getToken() completed but was canceled"):(On("getToken() completed. Creating connection."),this.authToken_=x&&x.accessToken,this.appCheckToken_=m&&m.token,c=new oB(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(_){Yn(_+" ("+R.repoInfo_.toString()+")"),R.interrupt(X7)},a)),[3,4];case 3:return E=C.sent(),this.log_("Failed to get token: "+E),u||(this.repoInfo_.nodeAdmin&&Yn(E),h()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){On("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){On("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Z_(this.interruptReasons_)&&(this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return RT(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new Ce(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){On("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zM&&(this.reconnectDelay_=UM,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){On("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zM&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=Fn(this.listens.values()),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var h=(i=void 0,Fn(c.values())),f=h.next();!f.done;f=h.next()){var v=f.value;this.sendListen_(v)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var x=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(x.action,x.pathString,x.data,x.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+Lj.replace(/\./g,"-")]=1,TT()?n["framework.cordova"]=1:Ij()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=FM.getInstance().currentlyOnline();return Z_(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(sB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oy=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new pe(ts,e),i=new pe(ts,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return pe.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gv,cB=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Gv},set:function(n){Gv=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Fu(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw zc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return pe.MIN},e.prototype.maxPost=function(){return new pe(ko,Gv)},e.prototype.makePost=function(n,r){return Nt(typeof n=="string","KeyIndex indexValue must always be a string."),new pe(n,Gv)},e.prototype.toString=function(){return".key"},e}(Oy),xo=new cB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kv=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Ki=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??Vo.EMPTY_NODE,this.right=o??Vo.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vo.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Vo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Y7=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Ki(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vo=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ki.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ki.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new Kv(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new Kv(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new Kv(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new Kv(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new Y7,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t,e){return Fu(t.name,e.name)}function BT(t,e){return Fu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iS;function Q7(t){iS=t}var hB=function(t){return typeof t=="number"?"number:"+$j(t):"string:"+t},fB=function(t){if(t.isLeafNode()){var e=t.val();Nt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ui(e,".sv"),"Priority must be a string or number.")}else Nt(t===iS||t.isEmpty(),"priority of unexpected type.");Nt(t===iS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VM,fc=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Nt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fB(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return VM},set:function(e){VM=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return ue(e)?this:ae(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Nt(r!==".priority"||ta(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+hB(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=$j(this.value_):e+=this.value_,this.lazyHash_=Uj(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Nt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Nt(i>=0,"Unknown leaf type: "+n),Nt(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dB,pB;function J7(t){dB=t}function Z7(t){pB=t}var tQ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Fu(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return pe.MIN},e.prototype.maxPost=function(){return new pe(ko,new fc("[PRIORITY-POST]",pB))},e.prototype.makePost=function(n,r){var i=dB(n);return new pe(r,new fc("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(Oy),je=new tQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eQ=Math.log(2),nQ=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/eQ,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),am=function(t,e,n,r){t.sort(e);var i=function(c,h){var f=h-c,v,g;if(f===0)return null;if(f===1)return v=t[c],g=n?n(v):v,new Ki(g,v.node,Ki.BLACK,null,null);var x=parseInt(f/2,10)+c,m=i(c,x),E=i(x+1,h);return v=t[x],g=n?n(v):v,new Ki(g,v.node,Ki.BLACK,m,E)},o=function(c){for(var h=null,f=null,v=t.length,g=function(C,_){var T=v-C,L=v;v-=C;var j=i(T+1,L),z=t[T],$=n?n(z):z;x(new Ki($,z.node,_,null,j))},x=function(C){h?(h.left=C,h=C):(f=C,h=C)},m=0;m<c.count;++m){var E=c.nextBitIsOne(),R=Math.pow(2,c.count-(m+1));E?g(R,Ki.BLACK):(g(R,Ki.BLACK),g(R,Ki.RED))}return f},a=new nQ(t.length),u=o(a);return new Vo(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l1,_l={},um=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return Nt(_l&&je,"ChildrenNode.ts has not been loaded"),l1=l1||new t({".priority":_l},{".priority":je}),l1},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=_u(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Vo?n:null},t.prototype.hasIndex=function(e){return ui(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){Nt(e!==xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(pe.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;i?u=am(r,e.getCompare()):u=_l;var c=e.toString(),h=qt({},this.indexSet_);h[c]=e;var f=qt({},this.indexes_);return f[c]=u,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=rm(this.indexes_,function(o,a){var u=_u(r.indexSet_,a);if(Nt(u,"Missing index implementation for "+a),o===_l)if(u.isDefinedOn(e.node)){for(var c=[],h=n.getIterator(pe.Wrap),f=h.getNext();f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),am(c,u.getCompare())}else return _l;else{var v=n.get(e.name),g=o;return v&&(g=g.remove(new pe(e.name,v))),g.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=rm(this.indexes_,function(i){if(i===_l)return i;var o=n.get(e.name);return o?i.remove(new pe(e.name,o)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zh,ne=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fB(this.priorityNode_),this.children_.isEmpty()&&Nt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Zh||(Zh=new t(new Vo(BT),null,um.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Zh},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Zh:n},t.prototype.getChild=function(e){var n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(De(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(Nt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new pe(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Zh:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=ae(e);if(r===null)return n;Nt(ae(e)!==".priority"||ta(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(De(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(je,function(c,h){n[c]=h.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+hB(this.getPriority().val())+":"),this.forEachChild(je,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Uj(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new pe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,pe.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,pe.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zd?-1:0},t.prototype.withIndex=function(e){if(e===xo||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===xo||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(je),i=n.getIterator(je),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===xo?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),rQ=function(t){jt(e,t);function e(){return t.call(this,new Vo(BT),ne.EMPTY_NODE,um.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return ne.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ne),Zd=new rQ;Object.defineProperties(pe,{MIN:{value:new pe(ts,ne.EMPTY_NODE)},MAX:{value:new pe(ko,Zd)}});cB.__EMPTY_NODE=ne.EMPTY_NODE;fc.__childrenNodeConstructor=ne;Q7(Zd);Z7(Zd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iQ=!0;function Je(t,e){if(e===void 0&&(e=null),t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Nt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new fc(n,Je(e))}if(!(t instanceof Array)&&iQ){var r=[],i=!1,o=t;if(kn(o,function(h,f){if(h.substring(0,1)!=="."){var v=Je(f);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new pe(h,v)))}}),r.length===0)return ne.EMPTY_NODE;var a=am(r,q7,function(h){return h.name},BT);if(i){var u=am(r,je.getCompare());return new ne(a,Je(e),new um({".priority":u},{".priority":je}))}else return new ne(a,Je(e),um.Default)}else{var c=ne.EMPTY_NODE;return kn(t,function(h,f){if(ui(t,h)&&h.substring(0,1)!=="."){var v=Je(f);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(Je(e))}}J7(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UT=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,Nt(!ue(n)&&ae(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Fu(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Je(n),o=ne.EMPTY_NODE.updateChild(this.indexPath_,i);return new pe(r,o)},e.prototype.maxPost=function(){var n=ne.EMPTY_NODE.updateChild(this.indexPath_,Zd);return new pe(ko,n)},e.prototype.toString=function(){return ud(this.indexPath_,0).join("/")},e}(Oy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oQ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Fu(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return pe.MIN},e.prototype.maxPost=function(){return pe.MAX},e.prototype.makePost=function(n,r){var i=Je(n);return new pe(r,i)},e.prototype.toString=function(){return".value"},e}(Oy),zT=new oQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oS="-",vB="z",gB=786,sQ=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=dc.charAt(n%64),n=Math.floor(n/64);Nt(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=dc.charAt(e[i]);return Nt(a.length===20,"nextPushId: Length should be 20."),a}}(),$M=function(t){if(t===""+OT)return oS;var e=om(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<gB)return n.push(oS),n.join("");for(var i=n.length-1;i>=0&&n[i]===vB;)i--;if(i===-1)return ko;var o=n[i],a=dc.charAt(dc.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},WM=function(t){if(t===""+Wj)return ts;var e=om(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===oS?n.length===1?""+OT:(delete n[n.length-1],n.join("")):(n[n.length-1]=dc.charAt(dc.indexOf(n[n.length-1])-1),n.join("")+vB.repeat(gB-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){return{type:"value",snapshotNode:t}}function pc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ld(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function aQ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VT=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){Nt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(ld(n,u)):Nt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(pc(n,r)):a.trackChildChange(cd(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(je,function(i,o){n.hasChild(i)||r.trackChildChange(ld(i,o))}),n.isLeafNode()||n.forEachChild(je,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(cd(i,o,a))}else r.trackChildChange(pc(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yB=function(){function t(e){this.indexedFilter_=new VT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new pe(n,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=ne.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(ne.EMPTY_NODE);var o=this;return n.forEachChild(je,function(a,u){o.matches(new pe(a,u))||(i=i.updateImmediateChild(a,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uQ=function(){function t(e){this.rangedFilter_=new yB(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new pe(n,r))||(r=ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ne.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var u=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:c=this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(u.name,u.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ne.EMPTY_NODE);var h=void 0,f=void 0,v=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(R,C){return g(C,R)}}else o=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,x=!1;o.hasNext();){var u=o.getNext();!x&&v(h,u)<=0&&(x=!0);var c=x&&a<this.limit_&&v(u,f)<=0;c?a++:i=i.updateImmediateChild(u.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var u=this.index_.getCompare();a=function(_,T){return u(T,_)}}else a=this.index_.getCompare();var c=e;Nt(c.numChildren()===this.limit_,"");var h=new pe(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),x=i.getChildAfterChild(this.index_,f,this.reverse_);x!=null&&(x.name===n||c.hasChild(x.name));)x=i.getChildAfterChild(this.index_,x,this.reverse_);var m=x==null?1:a(x,h),E=v&&!r.isEmpty()&&m>=0;if(E)return o!=null&&o.trackChildChange(cd(n,r,g)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(ld(n,g));var R=c.updateImmediateChild(n,ne.EMPTY_NODE),C=x!=null&&this.rangedFilter_.matches(x);return C?(o!=null&&o.trackChildChange(pc(x.name,x.node)),R.updateImmediateChild(x.name,x.node)):R}else return r.isEmpty()?e:v&&a(f,h)>=0?(o!=null&&(o.trackChildChange(ld(f.name,f.node)),o.trackChildChange(pc(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,ne.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wB=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return Nt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Nt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ts},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Nt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Nt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ko},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return Nt(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===je},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function lQ(t){return t.loadsAllData()?new VT(t.getIndex()):t.hasLimit()?new uQ(t):new yB(t)}function cQ(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function hQ(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function sS(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function fQ(t,e,n){var r;if(t.index_===xo)typeof e=="string"&&(e=$M(e)),r=sS(t,e,n);else{var i=void 0;n==null?i=ko:i=$M(n),r=sS(t,e,i)}return r.startAfterSet_=!0,r}function aS(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function dQ(t,e,n){var r,i;return t.index_===xo?(typeof e=="string"&&(e=WM(e)),i=aS(t,e,n)):(n==null?r=ts:r=WM(n),i=aS(t,e,r)),i.endBeforeSet_=!0,i}function My(t,e){var n=t.copy();return n.index_=e,n}function HM(t){var e={};if(t.isDefault())return e;var n;return t.index_===je?n="$priority":t.index_===zT?n="$value":t.index_===xo?n="$key":(Nt(t.index_ instanceof UT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_n(n),t.startSet_&&(e.startAt=_n(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+_n(t.indexStartName_))),t.endSet_&&(e.endAt=_n(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+_n(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function GM(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pQ=function(t){jt(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Jd("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(Nt(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);var c=e.getListenId_(n,i),h={};this.listens_[c]=h;var f=HM(n._queryParams);this.restRequest_(u+".json",f,function(v,g){var x=g;if(v===404&&(x=null,v=null),v===null&&a.onDataUpdate_(u,x,!1,i),_u(a.listens_,c)===h){var m;v?v===401?m="permission_denied":m="rest_error:"+v:m="ok",o(m,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=HM(n._queryParams),o=n._path.toString(),a=new Nn;return this.restRequest_(o+".json",i,function(u,c){var h=c;u===404&&(h=null,u=null),u===null?(r.onDataUpdate_(o,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var u=Gn(a,2),c=u[0],h=u[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var f=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+d9(r);o.log_("Sending REST request for "+f);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){o.log_("REST Response for "+f+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=ad(v.responseText)}catch{Yn("Failed to parse JSON response for "+f+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&Yn("Got unsuccessful REST response for "+f+" Status: "+v.status),i(v.status);i=null}},v.open("GET",f,!0),v.send()})},e}(sB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vQ=function(){function t(){this.rootNode_=ne.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){return{value:null,children:new Map}}function Wc(t,e,n){if(ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=ae(e);t.children.has(r)||t.children.set(r,lm());var i=t.children.get(r);e=De(e),Wc(i,e,n)}}function uS(t,e){if(ue(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(je,function(o,a){Wc(t,new Ce(o),a)}),uS(t,e)}else if(t.children.size>0){var r=ae(e);if(e=De(e),t.children.has(r)){var i=uS(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function lS(t,e,n){t.value!==null?n(e,t.value):gQ(t,function(r,i){var o=new Ce(e.toString()+"/"+r);lS(i,o,n)})}function gQ(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xB=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=qt({},e);return this.last_&&kn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KM=10*1e3,mQ=30*1e3,yQ=5*60*1e3,wQ=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xB(e);var r=KM+(mQ-KM)*Math.random();Cf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;kn(n,function(o,a){a>0&&ui(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),Cf(this.reportStats_.bind(this),Math.floor(Math.random()*2*yQ))},t}();function xQ(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function $T(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function WT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function HT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bQ=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=$T()}return t.prototype.operationForChild=function(e){if(ue(this.path)){if(this.affectedTree.value!=null)return Nt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ce(e));return new t(Se(),n,this.revert)}else return Nt(ae(this.path)===e,"operationForChild called for unrelated child."),new t(De(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bB=function(){function t(e,n){this.source=e,this.path=n,this.type=qi.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return ue(this.path)?new t(this.source,Se()):new t(this.source,De(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ny=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}return t.prototype.operationForChild=function(e){return ue(this.path)?new t(this.source,Se(),this.snap.getImmediateChild(e)):new t(this.source,De(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GT=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}return t.prototype.operationForChild=function(e){if(ue(this.path)){var n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new Ny(this.source,Se(),n.value):new t(this.source,Se(),n)}else return Nt(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,De(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ea=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;var n=ae(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Q=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function SQ(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(aQ(a.childName,a.snapshotNode))}),tf(t,i,"child_removed",e,r,n),tf(t,i,"child_added",e,r,n),tf(t,i,"child_moved",o,r,n),tf(t,i,"child_changed",e,r,n),tf(t,i,"value",e,r,n),i}function tf(t,e,n,r,i,o){var a=r.filter(function(u){return u.type===n});a.sort(function(u,c){return TQ(t,u,c)}),a.forEach(function(u){var c=EQ(t,u,o);i.forEach(function(h){h.respondsTo(u.type)&&e.push(h.createEvent(c,t.query_))})})}function EQ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function TQ(t,e,n){if(e.childName==null||n.childName==null)throw zc("Should only compare child_ events.");var r=new pe(e.childName,e.snapshotNode),i=new pe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e){return{eventCache:t,serverCache:e}}function Af(t,e,n,r){return Dy(new ea(e,n,r),t.serverCache)}function _B(t,e,n,r){return Dy(t.eventCache,new ea(e,n,r))}function cm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Su(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c1,kQ=function(){return c1||(c1=new Vo(r7)),c1},li=function(){function t(e,n){n===void 0&&(n=kQ()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return kn(e,function(r,i){n=n.set(new Ce(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(ue(e))return null;var r=ae(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(De(e),n);if(o!=null){var a=Ye(new Ce(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(ue(e))return this;var n=ae(e),r=this.children.get(n);return r!==null?r.subtree(De(e)):new t(null)},t.prototype.set=function(e,n){if(ue(e))return new t(n,this.children);var r=ae(e),i=this.children.get(r)||new t(null),o=i.set(De(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(ue(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ae(e),r=this.children.get(n);if(r){var i=r.remove(De(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(ue(e))return this.value;var n=ae(e),r=this.children.get(n);return r?r.get(De(e)):null},t.prototype.setTree=function(e,n){if(ue(e))return n;var r=ae(e),i=this.children.get(r)||new t(null),o=i.setTree(De(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(Se(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(Ye(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,Se(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(ue(e))return null;var o=ae(e),a=this.children.get(o);return a?a.findOnPath_(De(e),Ye(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,Se(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(ue(e))return this;this.value&&r(n,this.value);var i=ae(e),o=this.children.get(i);return o?o.foreachOnPath_(De(e),Ye(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(Se(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ye(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new li(null))},t}();function Pf(t,e,n){if(ue(e))return new Go(new li(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Tr(i,e);return o=o.updateChild(a,n),new Go(t.writeTree_.set(i,o))}else{var u=new li(n),c=t.writeTree_.setTree(e,u);return new Go(c)}}function cS(t,e,n){var r=t;return kn(n,function(i,o){r=Pf(r,Ye(e,i),o)}),r}function XM(t,e){if(ue(e))return Go.empty();var n=t.writeTree_.setTree(e,new li(null));return new Go(n)}function hS(t,e){return ju(t,e)!=null}function ju(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tr(n.path,e)):null}function YM(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,function(r,i){e.push(new pe(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new pe(r,i.value))}),e}function Gs(t,e){if(ue(e))return t;var n=ju(t,e);return n!=null?new Go(new li(n)):new Go(t.writeTree_.subtree(e))}function fS(t){return t.writeTree_.isEmpty()}function vc(t,e){return SB(Se(),t.writeTree_,e)}function SB(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(Nt(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=SB(Ye(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ye(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){return CB(e,t)}function CQ(t,e,n,r,i){Nt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Pf(t.visibleWrites,e,n)),t.lastWriteId=r}function IQ(t,e,n,r){Nt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=cS(t.visibleWrites,e,n),t.lastWriteId=r}function AQ(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function PQ(t,e){var n=t.allWrites.findIndex(function(h){return h.writeId===e});Nt(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&RQ(u,r.path)?i=!1:bi(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return OQ(t),!0;if(r.snap)t.visibleWrites=XM(t.visibleWrites,r.path);else{var c=r.children;kn(c,function(h){t.visibleWrites=XM(t.visibleWrites,Ye(r.path,h))})}return!0}else return!1}function RQ(t,e){if(t.snap)return bi(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&bi(Ye(t.path,n),e))return!0;return!1}function OQ(t){t.visibleWrites=EB(t.allWrites,MQ,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MQ(t){return t.visible}function EB(t,e,n){for(var r=Go.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)bi(n,a)?(u=Tr(n,a),r=Pf(r,u,o.snap)):bi(a,n)&&(u=Tr(a,n),r=Pf(r,Se(),o.snap.getChild(u)));else if(o.children){if(bi(n,a))u=Tr(n,a),r=cS(r,u,o.children);else if(bi(a,n))if(u=Tr(a,n),ue(u))r=cS(r,Se(),o.children);else{var c=_u(o.children,ae(u));if(c){var h=c.getChild(De(u));r=Pf(r,Se(),h)}}}else throw zc("WriteRecord should have .snap or .children")}}return r}function TB(t,e,n,r,i){if(!r&&!i){var o=ju(t.visibleWrites,e);if(o!=null)return o;var a=Gs(t.visibleWrites,e);if(fS(a))return n;if(n==null&&!hS(a,Se()))return null;var u=n||ne.EMPTY_NODE;return vc(a,u)}else{var c=Gs(t.visibleWrites,e);if(!i&&fS(c))return n;if(!i&&n==null&&!hS(c,Se()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(bi(g.path,e)||bi(e,g.path))},f=EB(t.allWrites,h,e),u=n||ne.EMPTY_NODE;return vc(f,u)}}function NQ(t,e,n){var r=ne.EMPTY_NODE,i=ju(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(je,function(u,c){r=r.updateImmediateChild(u,c)}),r;if(n){var o=Gs(t.visibleWrites,e);return n.forEachChild(je,function(u,c){var h=vc(Gs(o,new Ce(u)),c);r=r.updateImmediateChild(u,h)}),YM(o).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}else{var a=Gs(t.visibleWrites,e);return YM(a).forEach(function(u){r=r.updateImmediateChild(u.name,u.node)}),r}}function DQ(t,e,n,r,i){Nt(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Ye(e,n);if(hS(t.visibleWrites,o))return null;var a=Gs(t.visibleWrites,o);return fS(a)?i.getChild(n):vc(a,i.getChild(n))}function LQ(t,e,n,r){var i=Ye(e,n),o=ju(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=Gs(t.visibleWrites,i);return vc(a,r.getNode().getImmediateChild(n))}else return null}function FQ(t,e){return ju(t.visibleWrites,e)}function jQ(t,e,n,r,i,o,a){var u,c=Gs(t.visibleWrites,e),h=ju(c,Se());if(h!=null)u=h;else if(n!=null)u=vc(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){for(var f=[],v=a.getCompare(),g=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a),x=g.getNext();x&&f.length<i;)v(x,r)!==0&&f.push(x),x=g.getNext();return f}else return[]}function BQ(){return{visibleWrites:Go.empty(),allWrites:[],lastWriteId:-1}}function hm(t,e,n,r){return TB(t.writeTree,t.treePath,e,n,r)}function KT(t,e){return NQ(t.writeTree,t.treePath,e)}function qM(t,e,n,r){return DQ(t.writeTree,t.treePath,e,n,r)}function fm(t,e){return FQ(t.writeTree,Ye(t.treePath,e))}function UQ(t,e,n,r,i,o){return jQ(t.writeTree,t.treePath,e,n,r,i,o)}function XT(t,e,n){return LQ(t.writeTree,t.treePath,e,n)}function kB(t,e){return CB(Ye(t.treePath,e),t.writeTree)}function CB(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zQ=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;Nt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Nt(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,cd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ld(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,pc(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,cd(r,e.snapshotNode,i.oldSnap));else throw zc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VQ=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),IB=new VQ,YT=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ea(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XT(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Su(this.viewCache_),o=UQ(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t){return{filter:t}}function WQ(t,e){Nt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Nt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function HQ(t,e,n,r,i){var o=new zQ,a,u;if(n.type===qi.OVERWRITE){var c=n;c.source.fromUser?a=dS(t,e,c.path,c.snap,r,i,o):(Nt(c.source.fromServer,"Unknown source."),u=c.source.tagged||e.serverCache.isFiltered()&&!ue(c.path),a=dm(t,e,c.path,c.snap,r,i,u,o))}else if(n.type===qi.MERGE){var h=n;h.source.fromUser?a=KQ(t,e,h.path,h.children,r,i,o):(Nt(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),a=pS(t,e,h.path,h.children,r,i,u,o))}else if(n.type===qi.ACK_USER_WRITE){var f=n;f.revert?a=qQ(t,e,f.path,r,i,o):a=XQ(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===qi.LISTEN_COMPLETE)a=YQ(t,e,n.path,r,o);else throw zc("Unknown operation type: "+n.type);var v=o.getChanges();return GQ(e,a,v),{viewCache:a,changes:v}}function GQ(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=cm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mB(cm(e)))}}function AB(t,e,n,r,i,o){var a=e.eventCache;if(fm(r,n)!=null)return e;var u=void 0,c=void 0;if(ue(n))if(Nt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var h=Su(e),f=h instanceof ne?h:ne.EMPTY_NODE,v=KT(r,f);u=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{var g=hm(r,Su(e));u=t.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{var x=ae(n);if(x===".priority"){Nt(ta(n)===1,"Can't have a priority with additional path components");var m=a.getNode();c=e.serverCache.getNode();var E=qM(r,n,m,c);E!=null?u=t.filter.updatePriority(m,E):u=a.getNode()}else{var R=De(n),C=void 0;if(a.isCompleteForChild(x)){c=e.serverCache.getNode();var _=qM(r,n,a.getNode(),c);_!=null?C=a.getNode().getImmediateChild(x).updateChild(R,_):C=a.getNode().getImmediateChild(x)}else C=XT(r,x,e.serverCache);C!=null?u=t.filter.updateChild(a.getNode(),x,C,R,i,o):u=a.getNode()}}return Af(e,u,a.isFullyInitialized()||ue(n),t.filter.filtersNodes())}function dm(t,e,n,r,i,o,a,u){var c=e.serverCache,h,f=a?t.filter:t.filter.getIndexedFilter();if(ue(n))h=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=f.updateFullNode(c.getNode(),v,null)}else{var g=ae(n);if(!c.isCompleteForPath(n)&&ta(n)>1)return e;var x=De(n),m=c.getNode().getImmediateChild(g),E=m.updateChild(x,r);g===".priority"?h=f.updatePriority(c.getNode(),E):h=f.updateChild(c.getNode(),g,E,x,IB,null)}var R=_B(e,h,c.isFullyInitialized()||ue(n),f.filtersNodes()),C=new YT(i,R,o);return AB(t,R,n,i,C,u)}function dS(t,e,n,r,i,o,a){var u=e.eventCache,c,h,f=new YT(i,e,o);if(ue(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Af(e,h,!0,t.filter.filtersNodes());else{var v=ae(n);if(v===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),c=Af(e,h,u.isFullyInitialized(),u.isFiltered());else{var g=De(n),x=u.getNode().getImmediateChild(v),m=void 0;if(ue(g))m=r;else{var E=f.getCompleteChild(v);E!=null?FT(g)===".priority"&&E.getChild(uB(g)).isEmpty()?m=E:m=E.updateChild(g,r):m=ne.EMPTY_NODE}if(x.equals(m))c=e;else{var R=t.filter.updateChild(u.getNode(),v,m,g,f,a);c=Af(e,R,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function QM(t,e){return t.eventCache.isCompleteForChild(e)}function KQ(t,e,n,r,i,o,a){var u=e;return r.foreach(function(c,h){var f=Ye(n,c);QM(e,ae(f))&&(u=dS(t,u,f,h,i,o,a))}),r.foreach(function(c,h){var f=Ye(n,c);QM(e,ae(f))||(u=dS(t,u,f,h,i,o,a))}),u}function JM(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function pS(t,e,n,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,h;ue(n)?h=r:h=new li(null).setTree(n,r);var f=e.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(f.hasChild(v)){var x=e.serverCache.getNode().getImmediateChild(v),m=JM(t,x,g);c=dm(t,c,new Ce(v),m,i,o,a,u)}}),h.children.inorderTraversal(function(v,g){var x=!e.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!f.hasChild(v)&&!x){var m=e.serverCache.getNode().getImmediateChild(v),E=JM(t,m,g);c=dm(t,c,new Ce(v),E,i,o,a,u)}}),c}function XQ(t,e,n,r,i,o,a){if(fm(i,n)!=null)return e;var u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ue(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return dm(t,e,n,c.getNode().getChild(n),i,o,u,a);if(ue(n)){var h=new li(null);return c.getNode().forEachChild(xo,function(v,g){h=h.set(new Ce(v),g)}),pS(t,e,n,h,i,o,u,a)}else return e}else{var f=new li(null);return r.foreach(function(v,g){var x=Ye(n,v);c.isCompleteForPath(x)&&(f=f.set(v,c.getNode().getChild(x)))}),pS(t,e,n,f,i,o,u,a)}}function YQ(t,e,n,r,i){var o=e.serverCache,a=_B(e,o.getNode(),o.isFullyInitialized()||ue(n),o.isFiltered());return AB(t,a,n,r,IB,i)}function qQ(t,e,n,r,i,o){var a;if(fm(r,n)!=null)return e;var u=new YT(r,e,i),c=e.eventCache.getNode(),h=void 0;if(ue(n)||ae(n)===".priority"){var f=void 0;if(e.serverCache.isFullyInitialized())f=hm(r,Su(e));else{var v=e.serverCache.getNode();Nt(v instanceof ne,"serverChildren would be complete if leaf node"),f=KT(r,v)}f=f,h=t.filter.updateFullNode(c,f,o)}else{var g=ae(n),x=XT(r,g,e.serverCache);x==null&&e.serverCache.isCompleteForChild(g)&&(x=c.getImmediateChild(g)),x!=null?h=t.filter.updateChild(c,g,x,De(n),u,o):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(c,g,ne.EMPTY_NODE,De(n),u,o):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=hm(r,Su(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,o)))}return a=e.serverCache.isFullyInitialized()||fm(r,Se())!=null,Af(e,h,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QQ=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new VT(r.getIndex()),o=lQ(r);this.processor_=$Q(o);var a=n.serverCache,u=n.eventCache,c=i.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),h=o.updateFullNode(ne.EMPTY_NODE,u.getNode(),null),f=new ea(c,a.isFullyInitialized(),i.filtersNodes()),v=new ea(h,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Dy(v,f),this.eventGenerator_=new _Q(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function JQ(t){return t.viewCache_.serverCache.getNode()}function ZQ(t){return cm(t.viewCache_)}function tJ(t,e){var n=Su(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ue(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function ZM(t){return t.eventRegistrations_.length===0}function eJ(t,e){t.eventRegistrations_.push(e)}function tN(t,e,n){var r=[];if(n){Nt(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function eN(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(Nt(Su(t.viewCache_),"We should always have a full cache before handling merges"),Nt(cm(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=HQ(t.processor_,i,e,n,r);return WQ(t.processor_,o.viewCache),Nt(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,PB(t,o.changes,o.viewCache.eventCache.getNode(),null)}function nJ(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(je,function(o,a){r.push(pc(o,a))})}return n.isFullyInitialized()&&r.push(mB(n.getNode())),PB(t,r,n.getNode(),e)}function PB(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return SQ(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pm,RB=function(){function t(){this.views=new Map}return t}();function rJ(t){Nt(!pm,"__referenceConstructor has already been defined"),pm=t}function iJ(){return Nt(pm,"Reference.ts has not been loaded"),pm}function oJ(t){return t.views.size===0}function qT(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var u=t.views.get(a);return Nt(u!=null,"SyncTree gave us an op for an invalid query."),eN(u,e,n,r)}else{var c=[];try{for(var h=Fn(t.views.values()),f=h.next();!f.done;f=h.next()){var u=f.value;c=c.concat(eN(u,e,n,r))}}catch(v){i={error:v}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return c}}function OB(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var u=hm(n,i?r:null),c=!1;u?c=!0:r instanceof ne?(u=KT(n,r),c=!1):(u=ne.EMPTY_NODE,c=!1);var h=Dy(new ea(u,c,!1),new ea(r,i,!1));return new QQ(e,h)}return a}function sJ(t,e,n,r,i,o){var a=OB(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),eJ(a,n),nJ(a,n)}function aJ(t,e,n,r){var i,o,a=e._queryIdentifier,u=[],c=[],h=na(t);if(a==="default")try{for(var f=Fn(t.views.entries()),v=f.next();!v.done;v=f.next()){var g=Gn(v.value,2),x=g[0],m=g[1];c=c.concat(tN(m,n,r)),ZM(m)&&(t.views.delete(x),m.query._queryParams.loadsAllData()||u.push(m.query))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else{var m=t.views.get(a);m&&(c=c.concat(tN(m,n,r)),ZM(m)&&(t.views.delete(a),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!na(t)&&u.push(new(iJ())(e._repo,e._path)),{removed:u,events:c}}function MB(t){var e,n,r=[];try{for(var i=Fn(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ks(t,e){var n,r,i=null;try{for(var o=Fn(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||tJ(u,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function NB(t,e){var n=e._queryParams;if(n.loadsAllData())return Fy(t);var r=e._queryIdentifier;return t.views.get(r)}function DB(t,e){return NB(t,e)!=null}function na(t){return Fy(t)!=null}function Fy(t){var e,n;try{for(var r=Fn(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vm;function uJ(t){Nt(!vm,"__referenceConstructor has already been defined"),vm=t}function lJ(){return Nt(vm,"Reference.ts has not been loaded"),vm}var cJ=1,nN=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new li(null),this.pendingWriteTree_=BQ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function QT(t,e,n,r,i){return CQ(t.pendingWriteTree_,e,n,r,i),i?Hc(t,new Ny($T(),e,n)):[]}function hJ(t,e,n,r){IQ(t.pendingWriteTree_,e,n,r);var i=li.fromObject(n);return Hc(t,new GT($T(),e,i))}function Ls(t,e,n){n===void 0&&(n=!1);var r=AQ(t.pendingWriteTree_,e),i=PQ(t.pendingWriteTree_,e);if(i){var o=new li(null);return r.snap!=null?o=o.set(Se(),!0):kn(r.children,function(a){o=o.set(new Ce(a),!0)}),Hc(t,new bQ(r.path,o,n))}else return[]}function tp(t,e,n){return Hc(t,new Ny(WT(),e,n))}function fJ(t,e,n){var r=li.fromObject(n);return Hc(t,new GT(WT(),e,r))}function dJ(t,e){return Hc(t,new bB(WT(),e))}function pJ(t,e,n){var r=JT(t,n);if(r){var i=ZT(r),o=i.path,a=i.queryId,u=Tr(o,e),c=new bB(HT(a),u);return tk(t,o,c)}else return[]}function vS(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||DB(o,e))){var u=aJ(o,e,n,r);oJ(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=u.removed;a=u.events;var h=c.findIndex(function(_){return _._queryParams.loadsAllData()})!==-1,f=t.syncPointTree_.findOnPath(i,function(_,T){return na(T)});if(h&&!f){var v=t.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=yJ(v),x=0;x<g.length;++x){var m=g[x],E=m.query,R=jB(t,m);t.listenProvider_.startListening(Rf(E),gm(t,E),R.hashFn,R.onComplete)}}if(!f&&c.length>0&&!r)if(h){var C=null;t.listenProvider_.stopListening(Rf(e),C)}else c.forEach(function(_){var T=t.queryToTagMap.get(By(_));t.listenProvider_.stopListening(Rf(_),T)});wJ(t,c)}return a}function vJ(t,e,n,r){var i=JT(t,r);if(i!=null){var o=ZT(i),a=o.path,u=o.queryId,c=Tr(a,e),h=new Ny(HT(u),c,n);return tk(t,a,h)}else return[]}function gJ(t,e,n,r){var i=JT(t,r);if(i){var o=ZT(i),a=o.path,u=o.queryId,c=Tr(a,e),h=li.fromObject(n),f=new GT(HT(u),c,h);return tk(t,a,f)}else return[]}function rN(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(E,R){var C=Tr(E,r);i=i||Ks(R,C),o=o||na(R)});var a=t.syncPointTree_.get(r);a?(o=o||na(a),i=i||Ks(a,Se())):(a=new RB,t.syncPointTree_=t.syncPointTree_.set(r,a));var u;if(i!=null)u=!0;else{u=!1,i=ne.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(E,R){var C=Ks(R,Se());C&&(i=i.updateImmediateChild(E,C))})}var h=DB(a,e);if(!h&&!e._queryParams.loadsAllData()){var f=By(e);Nt(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");var v=xJ();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}var g=Ly(t.pendingWriteTree_,r),x=sJ(a,e,n,g,i,u);if(!h&&!o){var m=NB(a,e);x=x.concat(bJ(t,e,m))}return x}function jy(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,u){var c=Tr(a,e),h=Ks(u,c);if(h)return h});return TB(i,e,o,n,r)}function mJ(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(h,f){var v=Tr(h,n);r=r||Ks(f,v)});var i=t.syncPointTree_.get(n);i?r=r||Ks(i,Se()):(i=new RB,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new ea(r,!0,!1):null,u=Ly(t.pendingWriteTree_,e._path),c=OB(i,e,u,o?a.getNode():ne.EMPTY_NODE,o);return ZQ(c)}function Hc(t,e){return LB(e,t.syncPointTree_,null,Ly(t.pendingWriteTree_,Se()))}function LB(t,e,n,r){if(ue(t.path))return FB(t,e,n,r);var i=e.get(Se());n==null&&i!=null&&(n=Ks(i,Se()));var o=[],a=ae(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){var h=n?n.getImmediateChild(a):null,f=kB(r,a);o=o.concat(LB(u,c,h,f))}return i&&(o=o.concat(qT(i,t,r,n))),o}function FB(t,e,n,r){var i=e.get(Se());n==null&&i!=null&&(n=Ks(i,Se()));var o=[];return e.children.inorderTraversal(function(a,u){var c=n?n.getImmediateChild(a):null,h=kB(r,a),f=t.operationForChild(a);f&&(o=o.concat(FB(f,u,c,h)))}),i&&(o=o.concat(qT(i,t,r,n))),o}function jB(t,e){var n=e.query,r=gm(t,n);return{hashFn:function(){var i=JQ(e)||ne.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?pJ(t,n._path,r):dJ(t,n._path);var o=s7(i,n);return vS(t,n,null,o)}}}function gm(t,e){var n=By(e);return t.queryToTagMap.get(n)}function By(t){return t._path.toString()+"$"+t._queryIdentifier}function JT(t,e){return t.tagToQueryMap.get(e)}function ZT(t){var e=t.indexOf("$");return Nt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function tk(t,e,n){var r=t.syncPointTree_.get(e);Nt(r,"Missing sync point for query tag that we're tracking");var i=Ly(t.pendingWriteTree_,e);return qT(r,n,i,null)}function yJ(t){return t.fold(function(e,n,r){if(n&&na(n)){var i=Fy(n);return[i]}else{var o=[];return n&&(o=MB(n)),kn(r,function(a,u){o=o.concat(u)}),o}})}function Rf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lJ())(t._repo,t._path):t}function wJ(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=By(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function xJ(){return cJ++}function bJ(t,e,n){var r=e._path,i=gm(t,e),o=jB(t,n),a=t.listenProvider_.startListening(Rf(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)Nt(!na(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(v,g,x){if(!ue(v)&&g&&na(g))return[Fy(g).query];var m=[];return g&&(m=m.concat(MB(g).map(function(E){return E.query}))),kn(x,function(E,R){m=m.concat(R)}),m}),h=0;h<c.length;++h){var f=c[h];t.listenProvider_.stopListening(Rf(f),gm(t,f))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _J=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),SJ=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=Ye(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return jy(this.syncTree_,this.path_)},t}(),EJ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},iN=function(t,e,n){if(!t||typeof t!="object")return t;if(Nt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return TJ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kJ(t[".sv"],e);Nt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},TJ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Nt(!1,"Unexpected server value: "+t)}},kJ=function(t,e,n){t.hasOwnProperty("increment")||Nt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&Nt(!1,"Unexpected increment value: "+r);var i=e.node();if(Nt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},BB=function(t,e,n,r){return nk(e,new SJ(n,t),r)},ek=function(t,e,n){return nk(t,new _J(e),n)};function nk(t,e,n){var r=t.getPriority().val(),i=iN(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,u=iN(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new fc(u,Je(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new fc(i))),c.forEachChild(je,function(h,f){var v=nk(f,e.getImmediateChild(h),n);v!==f&&(o=o.updateImmediateChild(h,v))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function Uy(t,e){for(var n=e instanceof Ce?e:new Ce(e),r=t,i=ae(n);i!==null;){var o=_u(r.node.children,i)||{children:{},childCount:0};r=new rk(i,r,o),n=De(n),i=ae(n)}return r}function Bu(t){return t.node.value}function ik(t,e){t.node.value=e,gS(t)}function UB(t){return t.node.childCount>0}function CJ(t){return Bu(t)===void 0&&!UB(t)}function zy(t,e){kn(t.node.children,function(n,r){e(new rk(n,t,r))})}function zB(t,e,n,r){n&&!r&&e(t),zy(t,function(i){zB(i,e,!0,r)}),n&&r&&e(t)}function IJ(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ep(t){return new Ce(t.parent===null?t.name:ep(t.parent)+"/"+t.name)}function gS(t){t.parent!==null&&AJ(t.parent,t.name,t)}function AJ(t,e,n){var r=CJ(n),i=ui(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,gS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,gS(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PJ=/[\[\].#$\/\u0000-\u001F\u007F]/,RJ=/[\[\].#$\u0000-\u001F\u007F]/,h1=10*1024*1024,Vy=function(t){return typeof t=="string"&&t.length!==0&&!PJ.test(t)},VB=function(t){return typeof t=="string"&&t.length!==0&&!RJ.test(t)},OJ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),VB(t)},hd=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ry(t)||t&&typeof t=="object"&&ui(t,".sv")},Co=function(t,e,n,r){r&&e===void 0||np(Wr(t,"value"),e,n)},np=function(t,e,n){var r=n instanceof Ce?new U7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+za(r));if(typeof e=="function")throw new Error(t+"contains a function "+za(r)+" with contents = "+e.toString());if(Ry(e))throw new Error(t+"contains "+e.toString()+" "+za(r));if(typeof e=="string"&&e.length>h1/3&&Py(e)>h1)throw new Error(t+"contains a string greater than "+h1+" utf8 bytes "+za(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(kn(e,function(a,u){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Vy(a)))throw new Error(t+" contains an invalid key ("+a+") "+za(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);z7(r,a),np(t,u,r),V7(r)}),i&&o)throw new Error(t+' contains ".value" child '+za(r)+" in addition to actual children.")}},MJ=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=ud(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Vy(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(B7);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&bi(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},$B=function(t,e,n,r){if(!(r&&e===void 0)){var i=Wr(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];kn(e,function(a,u){var c=new Ce(a);if(np(i,u,Ye(n,c)),FT(c)===".priority"&&!hd(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),MJ(i,o)}},ok=function(t,e,n){if(!(n&&e===void 0)){if(Ry(e))throw new Error(Wr(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hd(e))throw new Error(Wr(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},NJ=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Wr(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},rp=function(t,e,n,r){if(!(r&&n===void 0)&&!Vy(n))throw new Error(Wr(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},fd=function(t,e,n,r){if(!(r&&n===void 0)&&!VB(n))throw new Error(Wr(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DJ=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fd(t,e,n,r)},_i=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},WB=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Vy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!OJ(n))throw new Error(Wr(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},LJ=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Wr(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FJ=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function $y(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!jT(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function sk(t,e,n){$y(t,n),HB(t,function(r){return jT(r,e)})}function Oi(t,e,n){$y(t,n),HB(t,function(r){return bi(r,e)||bi(e,r)})}function HB(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(jJ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jJ(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();uu&&On("event: "+n.toString()),$c(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GB="repo_interrupt",BJ=25,UJ=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lm(),this.transactionQueueTree_=new rk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function zJ(t,e,n){if(t.stats_=DT(t.repoInfo_),t.forceRestClient_||u7())t.server_=new pQ(t.repoInfo_,function(r,i,o,a){oN(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return sN(t,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_n(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new lu(t.repoInfo_,e,function(r,i,o,a){oN(t,r,i,o,a)},function(r){sN(t,r)},function(r){$J(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=p7(t.repoInfo_,function(){return new wQ(t.stats_,t.server_)}),t.infoData_=new vQ,t.infoSyncTree_=new nN({startListening:function(r,i,o,a){var u=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=tp(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),u},stopListening:function(){}}),ak(t,"connected",!1),t.serverSyncTree_=new nN({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(u,c){var h=a(u,c);Oi(t.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function KB(t){var e=t.infoData_.getNode(new Ce(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function ip(t){return EJ({timestamp:KB(t)})}function oN(t,e,n,r,i){t.dataUpdateCount++;var o=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=rm(n,function(g){return Je(g)});a=gJ(t.serverSyncTree_,o,u,i)}else{var c=Je(n);a=vJ(t.serverSyncTree_,o,c,i)}else if(r){var h=rm(n,function(g){return Je(g)});a=fJ(t.serverSyncTree_,o,h)}else{var f=Je(n);a=tp(t.serverSyncTree_,o,f)}var v=o;a.length>0&&(v=gc(t,o)),Oi(t.eventQueue_,v,a)}function VJ(t,e){t.interceptServerDataCallback_=e}function sN(t,e){ak(t,"connected",e),e===!1&&GJ(t)}function $J(t,e){kn(e,function(n,r){ak(t,n,r)})}function ak(t,e,n){var r=new Ce("/.info/"+e),i=Je(n);t.infoData_.updateSnapshot(r,i);var o=tp(t.infoSyncTree_,r,i);Oi(t.eventQueue_,r,o)}function Wy(t){return t.nextWriteId_++}function WJ(t,e){var n=mJ(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=Je(r).withIndex(e._queryParams.getIndex()),o=tp(t.serverSyncTree_,e._path,i);return sk(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return Gc(t,"get for query "+_n(e)+" failed: "+r),Promise.reject(new Error(r))})}function uk(t,e,n,r,i){Gc(t,"set",{path:e.toString(),value:n,priority:r});var o=ip(t),a=Je(n,r),u=jy(t.serverSyncTree_,e),c=ek(a,u,o),h=Wy(t),f=QT(t.serverSyncTree_,e,c,h,!0);$y(t.eventQueue_,f),t.server_.put(e.toString(),a.val(!0),function(g,x){var m=g==="ok";m||Yn("set at "+e+" failed: "+g);var E=Ls(t.serverSyncTree_,h,!m);Oi(t.eventQueue_,e,E),ra(t,i,g,x)});var v=ck(t,e);gc(t,v),Oi(t.eventQueue_,v,[])}function HJ(t,e,n,r){Gc(t,"update",{path:e.toString(),value:n});var i=!0,o=ip(t),a={};if(kn(n,function(h,f){i=!1,a[h]=BB(Ye(e,h),Je(f),t.serverSyncTree_,o)}),i)On("update() called with empty data.  Don't do anything."),ra(t,r,"ok",void 0);else{var u=Wy(t),c=hJ(t.serverSyncTree_,e,a,u);$y(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(h,f){var v=h==="ok";v||Yn("update at "+e+" failed: "+h);var g=Ls(t.serverSyncTree_,u,!v),x=g.length>0?gc(t,e):e;Oi(t.eventQueue_,x,g),ra(t,r,h,f)}),kn(n,function(h){var f=ck(t,Ye(e,h));gc(t,f)}),Oi(t.eventQueue_,e,[])}}function GJ(t){Gc(t,"onDisconnectEvents");var e=ip(t),n=lm();lS(t.onDisconnect_,Se(),function(i,o){var a=BB(i,o,t.serverSyncTree_,e);Wc(n,i,a)});var r=[];lS(n,Se(),function(i,o){r=r.concat(tp(t.serverSyncTree_,i,o));var a=ck(t,i);gc(t,a)}),t.onDisconnect_=lm(),Oi(t.eventQueue_,Se(),r)}function KJ(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&uS(t.onDisconnect_,e),ra(t,n,r,i)})}function aN(t,e,n,r){var i=Je(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&Wc(t.onDisconnect_,e,i),ra(t,r,o,a)})}function XJ(t,e,n,r,i){var o=Je(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,u){a==="ok"&&Wc(t.onDisconnect_,e,o),ra(t,i,a,u)})}function YJ(t,e,n,r){if(Z_(n)){On("onDisconnect().update() called with empty data.  Don't do anything."),ra(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&kn(n,function(a,u){var c=Je(u);Wc(t.onDisconnect_,Ye(e,a),c)}),ra(t,r,i,o)})}function qJ(t,e,n){var r;ae(e._path)===".info"?r=rN(t.infoSyncTree_,e,n):r=rN(t.serverSyncTree_,e,n),sk(t.eventQueue_,e._path,r)}function mS(t,e,n){var r;ae(e._path)===".info"?r=vS(t.infoSyncTree_,e,n):r=vS(t.serverSyncTree_,e,n),sk(t.eventQueue_,e._path,r)}function XB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(GB)}function QJ(t){t.persistentConnection_&&t.persistentConnection_.resume(GB)}function JJ(t,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(t.statsListener_||(t.statsListener_=new xB(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);kn(n,function(i,o){for(var a=i,u=i.length;u<r+2;u++)a+=" ";console.log(a+o)})}}function ZJ(t,e){t.stats_.incrementCounter(e),xQ(t.statsReporter_,e)}function Gc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),On.apply(void 0,se([r],Gn(e)))}function ra(t,e,n,r){e&&$c(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function tZ(t,e,n,r,i,o){Gc(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:Bj(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=lk(t,e,void 0);a.currentInputSnapshot=u;var c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{np("transaction failed: Data returned ",c,a.path),a.status=0;var h=Uy(t.transactionQueueTree_,e),f=Bu(h)||[];f.push(a),ik(h,f);var v=void 0;if(typeof c=="object"&&c!==null&&ui(c,".priority"))v=_u(c,".priority"),Nt(hd(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=jy(t.serverSyncTree_,e)||ne.EMPTY_NODE;v=g.getPriority().val()}var x=ip(t),m=Je(c,v),E=ek(m,u,x);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=E,a.currentWriteId=Wy(t);var R=QT(t.serverSyncTree_,e,E,a.currentWriteId,a.applyLocally);Oi(t.eventQueue_,e,R),Hy(t,t.transactionQueueTree_)}}function lk(t,e,n){return jy(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function Hy(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||Gy(t,e),Bu(e)){var n=qB(t,e);Nt(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&eZ(t,ep(e),n)}else UB(e)&&zy(e,function(i){Hy(t,i)})}function eZ(t,e,n){for(var r=n.map(function(g){return g.currentWriteId}),i=lk(t,e,r),o=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];Nt(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Tr(e,c.path);o=o.updateChild(h,c.currentOutputSnapshotRaw)}var f=o.val(!0),v=e;t.server_.put(v.toString(),f,function(g){Gc(t,"transaction put response",{path:v.toString(),status:g});var x=[];if(g==="ok"){for(var m=[],E=function(C){n[C].status=2,x=x.concat(Ls(t.serverSyncTree_,n[C].currentWriteId)),n[C].onComplete&&m.push(function(){return n[C].onComplete(null,!0,n[C].currentOutputSnapshotResolved)}),n[C].unwatcher()},R=0;R<n.length;R++)E(R);Gy(t,Uy(t.transactionQueueTree_,e)),Hy(t,t.transactionQueueTree_),Oi(t.eventQueue_,e,x);for(var R=0;R<m.length;R++)$c(m[R])}else{if(g==="datastale")for(var R=0;R<n.length;R++)n[R].status===3?n[R].status=4:n[R].status=0;else{Yn("transaction at "+v.toString()+" failed: "+g);for(var R=0;R<n.length;R++)n[R].status=4,n[R].abortReason=g}gc(t,e)}},a)}function gc(t,e){var n=YB(t,e),r=ep(n),i=qB(t,n);return nZ(t,i,r),r}function nZ(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(h){return h.status===0}),a=o.map(function(h){return h.currentWriteId}),u=function(h){var f=e[h],v=Tr(n,f.path),g=!1,x;if(Nt(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,x=f.abortReason,i=i.concat(Ls(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=BJ)g=!0,x="maxretry",i=i.concat(Ls(t.serverSyncTree_,f.currentWriteId,!0));else{var m=lk(t,f.path,a);f.currentInputSnapshot=m;var E=e[h].update(m.val());if(E!==void 0){np("transaction failed: Data returned ",E,f.path);var R=Je(E),C=typeof E=="object"&&E!=null&&ui(E,".priority");C||(R=R.updatePriority(m.getPriority()));var _=f.currentWriteId,T=ip(t),L=ek(R,m,T);f.currentOutputSnapshotRaw=R,f.currentOutputSnapshotResolved=L,f.currentWriteId=Wy(t),a.splice(a.indexOf(_),1),i=i.concat(QT(t.serverSyncTree_,f.path,L,f.currentWriteId,f.applyLocally)),i=i.concat(Ls(t.serverSyncTree_,_,!0))}else g=!0,x="nodata",i=i.concat(Ls(t.serverSyncTree_,f.currentWriteId,!0))}Oi(t.eventQueue_,n,i),i=[],g&&(e[h].status=2,function(j){setTimeout(j,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(x==="nodata"?r.push(function(){return e[h].onComplete(null,!1,e[h].currentInputSnapshot)}):r.push(function(){return e[h].onComplete(new Error(x),!1,null)})))},c=0;c<e.length;c++)u(c);Gy(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)$c(r[c]);Hy(t,t.transactionQueueTree_)}}function YB(t,e){var n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&Bu(r)===void 0;)r=Uy(r,n),e=De(e),n=ae(e);return r}function qB(t,e){var n=[];return QB(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function QB(t,e,n){var r=Bu(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);zy(e,function(o){QB(t,o,n)})}function Gy(t,e){var n=Bu(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ik(e,n.length>0?n:void 0)}zy(e,function(o){Gy(t,o)})}function ck(t,e){var n=ep(YB(t,e)),r=Uy(t.transactionQueueTree_,e);return IJ(r,function(i){f1(t,i)}),f1(t,r),zB(r,function(i){f1(t,i)}),n}function f1(t,e){var n=Bu(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Nt(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Nt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ls(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ik(e,void 0):n.length=o+1,Oi(t.eventQueue_,ep(e),i);for(var a=0;a<r.length;a++)$c(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function iZ(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Fn(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var u=a.split("=");u.length===2?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Yn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var yS=function(t,e){var n=oZ(t),r=n.namespace;n.domain==="firebase.com"&&To(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&To("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||e7();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new NT(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Ce(n.pathString)}},oZ=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));var f=t.indexOf("/");f===-1&&(f=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(f,v)),f<v&&(i=rZ(t.substring(f,v)));var g=iZ(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;var x=e.slice(0,h);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{var m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in g&&(o=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JB=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+_n(this.snapshot.exportVal())},t}(),ZB=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t3=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return Nt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sZ=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new Nn;return KJ(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){_i("OnDisconnect.remove",this._path);var e=new Nn;return aN(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){_i("OnDisconnect.set",this._path),Co("OnDisconnect.set",e,this._path,!1);var n=new Nn;return aN(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){_i("OnDisconnect.setWithPriority",this._path),Co("OnDisconnect.setWithPriority",e,this._path,!1),ok("OnDisconnect.setWithPriority",n,!1);var r=new Nn;return XJ(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){_i("OnDisconnect.update",this._path),$B("OnDisconnect.update",e,this._path,!1);var n=new Nn;return YJ(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return ue(this._path)?null:FT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=GM(this._queryParams),n=RT(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return GM(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=oe(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=jT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+j7(this._path)},t}();function Ky(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function la(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xo){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==ts)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==ko)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===je){if(e!=null&&!hd(e)||n!=null&&!hd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Nt(t.getIndex()instanceof UT||t.getIndex()===zT,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xy(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ao=function(t){jt(e,t);function e(n,r){return t.call(this,n,r,new wB,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=uB(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Ni),Yy=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Ce(e),r=Eu(this.ref,e);return new t(this._node.getChild(n),r,je)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,Eu(n.ref,i),je))})},t.prototype.hasChild=function(e){var n=new Ce(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function e3(t,e){return t=oe(t),t._checkNotDeleted("ref"),e!==void 0?Eu(t._root,e):t._root}function uN(t,e){t=oe(t),t._checkNotDeleted("refFromURL");var n=yS(e,t._repo.repoInfo_.nodeAdmin);WB("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&To("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),e3(t,n.path.toString())}function Eu(t,e){return t=oe(t),ae(t._path)===null?DJ("child","path",e,!1):fd("child","path",e,!1),new Ao(t._repo,Ye(t._path,e))}function aZ(t,e){t=oe(t),_i("push",t._path),Co("push",e,t._path,!0);var n=KB(t._repo),r=sQ(n),i=Eu(t,r),o=Eu(t,r),a;return e!=null?a=hk(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function uZ(t){return _i("remove",t._path),hk(t,null)}function hk(t,e){t=oe(t),_i("set",t._path),Co("set",e,t._path,!1);var n=new Nn;return uk(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function lZ(t,e){t=oe(t),_i("setPriority",t._path),ok("setPriority",e,!1);var n=new Nn;return uk(t._repo,Ye(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function cZ(t,e,n){if(_i("setWithPriority",t._path),Co("setWithPriority",e,t._path,!1),ok("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Nn;return uk(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function hZ(t,e){$B("update",e,t._path,!1);var n=new Nn;return HJ(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function fZ(t){return t=oe(t),WJ(t._repo,t).then(function(e){return new Yy(e,new Ao(t._repo,t._path),t._queryParams.getIndex())})}var n3=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new JB("value",this,new Yy(e.snapshotNode,new Ao(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new ZB(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),r3=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new ZB(this,e,n):null},t.prototype.createEvent=function(e,n){Nt(e.childName!=null,"Child events should have a childName.");var r=Eu(new Ao(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new JB(e.type,this,new Yy(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function op(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,u=function(f,v){mS(t._repo,t,h),a(f,v)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new t3(n,o||void 0),h=e==="value"?new n3(c):new r3(e,c);return qJ(t._repo,t,h),function(){return mS(t._repo,t,h)}}function wS(t,e,n,r){return op(t,"value",e,n,r)}function lN(t,e,n,r){return op(t,"child_added",e,n,r)}function cN(t,e,n,r){return op(t,"child_changed",e,n,r)}function hN(t,e,n,r){return op(t,"child_moved",e,n,r)}function fN(t,e,n,r){return op(t,"child_removed",e,n,r)}function dN(t,e,n){var r=null,i=n?new t3(n):null;e==="value"?r=new n3(i):e&&(r=new r3(e,i)),mS(t._repo,t,r)}var io=function(){function t(){}return t}(),i3=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("endAt",this._value,n._path,!0);var r=aS(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function dZ(t,e){return rp("endAt","key",e,!0),new i3(t,e)}var pZ=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("endBefore",this._value,n._path,!1);var r=dQ(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function vZ(t,e){return rp("endBefore","key",e,!0),new pZ(t,e)}var o3=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("startAt",this._value,n._path,!0);var r=sS(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function gZ(t,e){return t===void 0&&(t=null),rp("startAt","key",e,!0),new o3(t,e)}var mZ=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Co("startAfter",this._value,n._path,!1);var r=fQ(n._queryParams,this._value,this._key);if(Xy(r),la(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ni(n._repo,n._path,r,n._orderByCalled)},e}(io);function yZ(t,e){return rp("startAfter","key",e,!0),new mZ(t,e)}var wZ=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(n._repo,n._path,cQ(n._queryParams,this._limit),n._orderByCalled)},e}(io);function xZ(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wZ(t)}var bZ=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(n._repo,n._path,hQ(n._queryParams,this._limit),n._orderByCalled)},e}(io);function _Z(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bZ(t)}var SZ=function(t){jt(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){Ky(n,"orderByChild");var r=new Ce(this._path);if(ue(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new UT(r),o=My(n._queryParams,i);return la(o),new Ni(n._repo,n._path,o,!0)},e}(io);function EZ(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return fd("orderByChild","path",t,!1),new SZ(t)}var TZ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ky(n,"orderByKey");var r=My(n._queryParams,xo);return la(r),new Ni(n._repo,n._path,r,!0)},e}(io);function kZ(){return new TZ}var CZ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ky(n,"orderByPriority");var r=My(n._queryParams,je);return la(r),new Ni(n._repo,n._path,r,!0)},e}(io);function IZ(){return new CZ}var AZ=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ky(n,"orderByValue");var r=My(n._queryParams,zT);return la(r),new Ni(n._repo,n._path,r,!0)},e}(io);function PZ(){return new AZ}var RZ=function(t){jt(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Co("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new i3(this._value,this._key)._apply(new o3(this._value,this._key)._apply(n))},e}(io);function OZ(t,e){return rp("equalTo","key",e,!0),new RZ(t,e)}function Vi(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=oe(t);try{for(var a=Fn(r),u=a.next();!u.done;u=a.next()){var c=u.value;o=c._apply(o)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}rJ(Ao);uJ(Ao);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MZ="FIREBASE_DATABASE_EMULATOR_HOST",xS={},s3=!1;function NZ(t,e,n,r){t.repoInfo_=new NT(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function a3(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||To("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),On("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=yS(o,i),u=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[MZ]),h?(c=!0,o="http://"+h+"?ns="+u.namespace,a=yS(o,i),u=a.repoInfo):c=!a.repoInfo.secure;var f=i&&c?new If(If.OWNER):new c7(t.name,t.options,e);WB("Invalid Firebase Database URL",a),ue(a.path)||To("Database URL must point to the root of a Firebase Database (not including a child path).");var v=LZ(u,t,f,new l7(t.name,n));return new jZ(v,t)}function DZ(t,e){var n=xS[e];(!n||n[t.key]!==t)&&To("Database "+e+"("+t.repoInfo_+") has already been deleted."),XB(t),delete n[t.key]}function LZ(t,e,n,r){var i=xS[e.name];i||(i={},xS[e.name]=i);var o=i[t.toURLString()];return o&&To("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new UJ(t,s3,n,r),i[t.toURLString()]=o,o}function FZ(t){s3=t}var jZ=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(zJ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ao(this._repo,Se())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(DZ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&To("Cannot call "+e+" on a deleted database.")},t}();function BZ(t,e,n,r){r===void 0&&(r={}),t=oe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&To("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&To('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new If(If.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:ET(r.mockUserToken,t.app.options.projectId);o=new If(a)}NZ(i,e,n,o)}function UZ(t){t=oe(t),t._checkNotDeleted("goOffline"),XB(t._repo)}function zZ(t){t=oe(t),t._checkNotDeleted("goOnline"),QJ(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VZ={".sv":"timestamp"};function $Z(){return VZ}function WZ(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HZ=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function GZ(t,e,n){var r;if(t=oe(t),_i("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new Nn,a=function(c,h,f){var v=null;c?o.reject(c):(v=new Yy(f,new Ao(t._repo,t._path),je),o.resolve(new HZ(h,v)))},u=wS(t,function(){});return tZ(t._repo,t._path,e,a,u,i),o.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KZ=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){Qt("OnDisconnect.cancel",0,1,arguments.length),Rn("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){Qt("OnDisconnect.remove",0,1,arguments.length),Rn("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){Qt("OnDisconnect.set",1,2,arguments.length),Rn("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){Qt("OnDisconnect.setWithPriority",2,3,arguments.length),Rn("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(Qt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Yn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rn("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XZ=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return Qt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Of=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return Qt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Qt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Qt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Qt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Qt("DataSnapshot.child",0,1,arguments.length),e=String(e),fd("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return Qt("DataSnapshot.hasChild",1,1,arguments.length),fd("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return Qt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Qt("DataSnapshot.forEach",1,1,arguments.length),Rn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Qt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Qt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Qt("DataSnapshot.ref",0,0,arguments.length),new Za(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),u3=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;Qt("Query.on",2,4,arguments.length),Rn("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(f,v){n.call(u.context,new Of(o.database,f),v)};c.userCallback=n,c.context=u.context;var h=(a=u.cancel)===null||a===void 0?void 0:a.bind(u.context);switch(e){case"value":return wS(this._delegate,c,h),n;case"child_added":return lN(this._delegate,c,h),n;case"child_removed":return fN(this._delegate,c,h),n;case"child_changed":return cN(this._delegate,c,h),n;case"child_moved":return hN(this._delegate,c,h),n;default:throw new Error(Wr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(Qt("Query.off",0,3,arguments.length),NJ("Query.off",e,!0),Rn("Query.off","callback",n,!0),CM("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,dN(this._delegate,e,i)}else dN(this._delegate,e)},t.prototype.get=function(){var e=this;return fZ(this._delegate).then(function(n){return new Of(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;Qt("Query.once",1,4,arguments.length),Rn("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new Nn,c=function(f,v){var g=new Of(o.database,f);n&&n.call(a.context,g,v),u.resolve(g)};c.userCallback=n,c.context=a.context;var h=function(f){a.cancel&&a.cancel.call(a.context,f),u.reject(f)};switch(e){case"value":wS(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":lN(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":fN(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":cN(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":hN(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Wr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Qt("Query.limitToFirst",1,1,arguments.length),new t(this.database,Vi(this._delegate,xZ(e)))},t.prototype.limitToLast=function(e){return Qt("Query.limitToLast",1,1,arguments.length),new t(this.database,Vi(this._delegate,_Z(e)))},t.prototype.orderByChild=function(e){return Qt("Query.orderByChild",1,1,arguments.length),new t(this.database,Vi(this._delegate,EZ(e)))},t.prototype.orderByKey=function(){return Qt("Query.orderByKey",0,0,arguments.length),new t(this.database,Vi(this._delegate,kZ()))},t.prototype.orderByPriority=function(){return Qt("Query.orderByPriority",0,0,arguments.length),new t(this.database,Vi(this._delegate,IZ()))},t.prototype.orderByValue=function(){return Qt("Query.orderByValue",0,0,arguments.length),new t(this.database,Vi(this._delegate,PZ()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),Qt("Query.startAt",0,2,arguments.length),new t(this.database,Vi(this._delegate,gZ(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),Qt("Query.startAfter",0,2,arguments.length),new t(this.database,Vi(this._delegate,yZ(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),Qt("Query.endAt",0,2,arguments.length),new t(this.database,Vi(this._delegate,dZ(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),Qt("Query.endBefore",0,2,arguments.length),new t(this.database,Vi(this._delegate,vZ(e,n)))},t.prototype.equalTo=function(e,n){return Qt("Query.equalTo",1,2,arguments.length),new t(this.database,Vi(this._delegate,OZ(e,n)))},t.prototype.toString=function(){return Qt("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Qt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Qt("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Rn(e,"cancel",i.cancel,!0),i.context=r,CM(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Wr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new Za(this.database,new Ao(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Za=function(t){jt(e,t);function e(n,r){var i=t.call(this,n,new Ni(r._repo,r._path,new wB,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return Qt("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return Qt("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Eu(this._delegate,n))},e.prototype.getParent=function(){Qt("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return Qt("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){Qt("Reference.set",1,2,arguments.length),Rn("Reference.set","onComplete",r,!0);var i=hk(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(Qt("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,Yn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_i("Reference.update",this._delegate._path),Rn("Reference.update","onComplete",r,!0);var a=hZ(this._delegate,n);return r&&a.then(function(){return r(null)},function(u){return r(u)}),a},e.prototype.setWithPriority=function(n,r,i){Qt("Reference.setWithPriority",2,3,arguments.length),Rn("Reference.setWithPriority","onComplete",i,!0);var o=cZ(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){Qt("Reference.remove",0,1,arguments.length),Rn("Reference.remove","onComplete",n,!0);var r=uZ(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;Qt("Reference.transaction",1,3,arguments.length),Rn("Reference.transaction","transactionUpdate",n,!1),Rn("Reference.transaction","onComplete",r,!0),LJ("Reference.transaction","applyLocally",i,!0);var a=GZ(this._delegate,n,{applyLocally:i}).then(function(u){return new XZ(u.committed,new Of(o.database,u.snapshot))});return r&&a.then(function(u){return r(null,u.committed,u.snapshot)},function(u){return r(u,!1,null)}),a},e.prototype.setPriority=function(n,r){Qt("Reference.setPriority",1,2,arguments.length),Rn("Reference.setPriority","onComplete",r,!0);var i=lZ(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;Qt("Reference.push",0,2,arguments.length),Rn("Reference.push","onComplete",r,!0);var o=aZ(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var u=new e(this.database,o);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u},e.prototype.onDisconnect=function(){return _i("Reference.onDisconnect",this._delegate._path),new KZ(new sZ(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(u3);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mm=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),BZ(this._delegate,e,n,r)},t.prototype.ref=function(e){if(Qt("database.ref",0,1,arguments.length),e instanceof Za){var n=uN(this._delegate,e.toString());return new Za(this,n)}else{var n=e3(this._delegate,e);return new Za(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";Qt(n,1,1,arguments.length);var r=uN(this._delegate,e);return new Za(this,r)},t.prototype.goOffline=function(){return Qt("database.goOffline",0,0,arguments.length),UZ(this._delegate)},t.prototype.goOnline=function(){return Qt("database.goOnline",0,0,arguments.length),zZ(this._delegate)},t.ServerValue={TIMESTAMP:$Z(),increment:function(e){return WZ(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YZ=function(){Wa.forceDisallow(),LT.forceAllow()},qZ=function(){LT.forceDisallow()},QZ=function(){return Wa.isAvailable()},JZ=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},ZZ=function(t,e){JJ(t._delegate._repo,e)},ttt=function(t,e){ZJ(t._delegate._repo,e)},ett=function(t){return t._delegate._repo.dataUpdateCount},ntt=function(t,e){return VJ(t._delegate._repo,e)};function rtt(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=a===void 0?!1:a;Fj(r);var c=new Rj("auth-internal",new Oj("database-standalone"));return c.setComponent(new dr("auth-internal",function(){return i},"PRIVATE")),{instance:new mm(a3(e,c,void 0,n,u),e),namespace:o}}var itt=Object.freeze({__proto__:null,forceLongPolling:YZ,forceWebSockets:qZ,isWebSocketsAvailable:QZ,setSecurityDebugCallback:JZ,stats:ZZ,statsIncrementCounter:ttt,dataUpdateCount:ett,interceptServerData:ntt,initStandalone:rtt});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ott=lu;lu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};lu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var stt=oB,att=function(t){var e=lu.prototype.put;return lu.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){lu.prototype.put=e}},utt=NT,ltt=function(t){return t._delegate._queryIdentifier},ctt=function(t){FZ(t)},htt=Object.freeze({__proto__:null,DataConnection:ott,RealTimeConnection:stt,hijackHash:att,ConnectionTarget:utt,queryIdentifier:ltt,forceRestClient:ctt});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ftt=mm.ServerValue;function dtt(t){Fj(t.SDK_VERSION),t.INTERNAL.registerComponent(new dr("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new mm(a3(i,o,a,r),i)},"PUBLIC").setServiceProps({Reference:Za,Query:u3,Database:mm,DataSnapshot:Of,enableLogging:zj,INTERNAL:itt,ServerValue:ftt,TEST_ACCESS:htt}).setMultipleInstances(!0)),t.registerVersion(Q9,J9)}dtt(Ht);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bS=function(t,e){return bS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},bS(t,e)};function ptt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function l3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vtt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zt,fk=fk||{},ee=vtt||self;function ym(){}function _S(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gtt(t){return Object.prototype.hasOwnProperty.call(t,d1)&&t[d1]||(t[d1]=++mtt)}var d1="closure_uid_"+(1e9*Math.random()>>>0),mtt=0;function ytt(t,e,n){return t.call.apply(t.bind,arguments)}function wtt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function qn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qn=ytt:qn=wtt,qn.apply(null,arguments)}function Xv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function tr(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function ca(){this.s=this.s,this.o=this.o}var xtt=0;ca.prototype.s=!1;ca.prototype.na=function(){!this.s&&(this.s=!0,this.M(),xtt!=0)&&gtt(this)};ca.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var c3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},h3=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function btt(t){t:{for(var e=det,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function pN(t){return Array.prototype.concat.apply([],arguments)}function dk(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function wm(t){return/^[\s\xa0]*$/.test(t)}var vN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Sr(t,e){return t.indexOf(e)!=-1}function p1(t,e){return t<e?-1:t>e?1:0}var Er;t:{var gN=ee.navigator;if(gN){var mN=gN.userAgent;if(mN){Er=mN;break t}}Er=""}function pk(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function f3(t){var e={};for(var n in t)e[n]=t[n];return e}var yN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d3(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<yN.length;o++)n=yN[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vk(t){return vk[" "](t),t}vk[" "]=ym;function _tt(t){var e=Ttt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Stt=Sr(Er,"Opera"),mc=Sr(Er,"Trident")||Sr(Er,"MSIE"),p3=Sr(Er,"Edge"),SS=p3||mc,v3=Sr(Er,"Gecko")&&!(Sr(Er.toLowerCase(),"webkit")&&!Sr(Er,"Edge"))&&!(Sr(Er,"Trident")||Sr(Er,"MSIE"))&&!Sr(Er,"Edge"),Ett=Sr(Er.toLowerCase(),"webkit")&&!Sr(Er,"Edge");function g3(){var t=ee.document;return t?t.documentMode:void 0}var xm;t:{var v1="",g1=function(){var t=Er;if(v3)return/rv:([^\);]+)(\)|;)/.exec(t);if(p3)return/Edge\/([\d\.]+)/.exec(t);if(mc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Ett)return/WebKit\/(\S+)/.exec(t);if(Stt)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(g1&&(v1=g1?g1[1]:""),mc){var m1=g3();if(m1!=null&&m1>parseFloat(v1)){xm=String(m1);break t}}xm=v1}var Ttt={};function ktt(){return _tt(function(){for(var t=0,e=vN(String(xm)).split("."),n=vN("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o[0].length==0&&a[0].length==0)break;t=p1(o[1].length==0?0:parseInt(o[1],10),a[1].length==0?0:parseInt(a[1],10))||p1(o[2].length==0,a[2].length==0)||p1(o[2],a[2]),o=o[3],a=a[3]}while(t==0)}return 0<=t})}var ES;if(ee.document&&mc){var wN=g3();ES=wN||parseInt(xm,10)||void 0}else ES=void 0;var Ctt=ES,Itt=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",ym,e),ee.removeEventListener("test",ym,e)}catch{}return t}();function lr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lr.prototype.h=function(){this.defaultPrevented=!0};function dd(t,e){if(lr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v3){t:{try{vk(e.nodeName);var i=!0;break t}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Att[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dd.Z.h.call(this)}}tr(dd,lr);var Att={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ap="closure_listenable_"+(1e6*Math.random()|0),Ptt=0;function Rtt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ptt,this.ca=this.fa=!1}function qy(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Qy(t){this.src=t,this.g={},this.h=0}Qy.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=kS(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new Rtt(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function TS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=c3(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(qy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var gk="closure_lm_"+(1e6*Math.random()|0),y1={};function m3(t,e,n,r,i){if(r&&r.once)return w3(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)m3(t,e[o],n,r,i);return null}return n=wk(n),t&&t[ap]?t.N(e,n,sp(r)?!!r.capture:!!r,i):y3(t,e,n,!1,r,i)}function y3(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=sp(i)?!!i.capture:!!i,u=yk(t);if(u||(t[gk]=u=new Qy(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=Ott(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Itt||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(b3(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ott(){function t(n){return e.call(t.src,t.listener,n)}var e=Mtt;return t}function w3(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)w3(t,e[o],n,r,i);return null}return n=wk(n),t&&t[ap]?t.O(e,n,sp(r)?!!r.capture:!!r,i):y3(t,e,n,!0,r,i)}function x3(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)x3(t,e[o],n,r,i);else r=sp(r)?!!r.capture:!!r,n=wk(n),t&&t[ap]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=kS(o,n,r,i),-1<n&&(qy(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=yk(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kS(e,n,r,i)),(n=-1<t?e[t]:null)&&mk(n))}function mk(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[ap])TS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(b3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yk(e))?(TS(n,t),n.h==0&&(n.src=null,e[gk]=null)):qy(t)}}}function b3(t){return t in y1?y1[t]:y1[t]="on"+t}function Mtt(t,e){if(t.ca)t=!0;else{e=new dd(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&mk(t),t=n.call(r,e)}return t}function yk(t){return t=t[gk],t instanceof Qy?t:null}var w1="__closure_events_fn_"+(1e9*Math.random()>>>0);function wk(t){return typeof t=="function"?t:(t[w1]||(t[w1]=function(e){return t.handleEvent(e)}),t[w1])}function jn(){ca.call(this),this.i=new Qy(this),this.P=this,this.I=null}tr(jn,ca);jn.prototype[ap]=!0;jn.prototype.removeEventListener=function(t,e,n,r){x3(this,t,e,n,r)};function Qn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new lr(e,t);else if(e instanceof lr)e.target=e.target||t;else{var i=e;e=new lr(r,t),d3(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Yv(a,r,!0,e)&&i}if(a=e.g=t,i=Yv(a,r,!0,e)&&i,i=Yv(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=Yv(a,r,!1,e)&&i}jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qy(n[r]);delete t.g[e],t.h--}}this.I=null};jn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};jn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Yv(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,c=a.ia||a.src;a.fa&&TS(t.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var xk=ee.JSON.stringify;function Ntt(){var t=S3,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Dtt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=_3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),_3=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new Ltt},function(t){return t.reset()}),Ltt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ftt(t){ee.setTimeout(function(){throw t},0)}function bk(t,e){CS||jtt(),IS||(CS(),IS=!0),S3.add(t,e)}var CS;function jtt(){var t=ee.Promise.resolve(void 0);CS=function(){t.then(Btt)}}var IS=!1,S3=new Dtt;function Btt(){for(var t;t=Ntt();){try{t.h.call(t.g)}catch(n){Ftt(n)}var e=_3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}IS=!1}function Jy(t,e){jn.call(this),this.h=t||1,this.g=e||ee,this.j=qn(this.kb,this),this.l=Date.now()}tr(Jy,jn);zt=Jy.prototype;zt.da=!1;zt.S=null;zt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qn(this,"tick"),this.da&&(_k(this),this.start()))}};zt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _k(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}zt.M=function(){Jy.Z.M.call(this),_k(this),delete this.g};function Sk(t,e,n){if(typeof t=="function")n&&(t=qn(t,n));else if(t&&typeof t.handleEvent=="function")t=qn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function E3(t){t.g=Sk(function(){t.g=null,t.i&&(t.i=!1,E3(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var Utt=function(t){ptt(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:E3(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ca);function pd(t){ca.call(this),this.h=t,this.g={}}tr(pd,ca);var xN=[];function T3(t,e,n,r){Array.isArray(n)||(n&&(xN[0]=n.toString()),n=xN);for(var i=0;i<n.length;i++){var o=m3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function k3(t){pk(t.g,function(e,n){this.g.hasOwnProperty(n)&&mk(e)},t),t.g={}}pd.prototype.M=function(){pd.Z.M.call(this),k3(this)};pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zy(){this.g=!0}Zy.prototype.Aa=function(){this.g=!1};function ztt(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var h=u[c].split("=");if(1<h.length){var f=h[0];h=h[1];var v=f.split("_");a=2<=v.length&&v[1]=="type"?a+(f+"="+h+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function Vtt(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function $l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Wtt(t,n)+(r?" "+r:"")})}function $tt(t,e){t.info(function(){return"TIMEOUT: "+e})}Zy.prototype.info=function(){};function Wtt(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return xk(n)}catch{return e}}var Uu={},bN=null;function t0(){return bN=bN||new jn}Uu.Ma="serverreachability";function C3(t){lr.call(this,Uu.Ma,t)}tr(C3,lr);function vd(t){var e=t0();Qn(e,new C3(e))}Uu.STAT_EVENT="statevent";function I3(t,e){lr.call(this,Uu.STAT_EVENT,t),this.stat=e}tr(I3,lr);function kr(t){var e=t0();Qn(e,new I3(e,t))}Uu.Na="timingevent";function A3(t,e){lr.call(this,Uu.Na,t),this.size=e}tr(A3,lr);function up(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var e0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},P3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ek(){}Ek.prototype.h=null;function _N(t){return t.h||(t.h=t.i())}function R3(){}var lp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Tk(){lr.call(this,"d")}tr(Tk,lr);function kk(){lr.call(this,"c")}tr(kk,lr);var AS;function n0(){}tr(n0,Ek);n0.prototype.g=function(){return new XMLHttpRequest};n0.prototype.i=function(){return{}};AS=new n0;function cp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new pd(this),this.P=Htt,t=SS?125:void 0,this.W=new Jy(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new O3}function O3(){this.i=null,this.g="",this.h=!1}var Htt=45e3,PS={},bm={};zt=cp.prototype;zt.setTimeout=function(t){this.P=t};function RS(t,e,n){t.K=1,t.v=i0(es(e)),t.s=n,t.U=!0,M3(t,null)}function M3(t,e){t.F=Date.now(),hp(t),t.A=es(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),U3(n.h,"t",r),t.C=0,n=t.l.H,t.h=new O3,t.g=sU(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Utt(qn(t.Ia,t,t.g),t.O)),T3(t.V,t.g,"readystatechange",t.gb),e=t.H?f3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),vd(),ztt(t.j,t.u,t.A,t.m,t.X,t.s)}zt.gb=function(t){t=t.target;var e=this.L;e&&$o(t)==3?e.l():this.Ia(t)};zt.Ia=function(t){try{if(t==this.g)t:{var e=$o(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||SS||this.g&&(this.h.h||this.g.ga()||kN(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?vd(3):vd(2)),r0(this);var i=this.g.ba();this.N=i;e:if(N3(this)){var o=kN(this.g);t="";var a=o.length,u=$o(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tu(this),Mf(this);var c="";break e}this.h.i=new ee.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,Vtt(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wm(h)){var v=h;break e}}v=null}if(i=v)$l(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,OS(this,i);else{this.i=!1,this.o=3,kr(12),tu(this),Mf(this);break t}}this.U?(D3(this,e,c),SS&&this.i&&e==3&&(T3(this.V,this.W,"tick",this.fb),this.W.start())):($l(this.j,this.m,c,null),OS(this,c)),e==4&&tu(this),this.i&&!this.I&&(e==4?nU(this.l,this):(this.i=!1,hp(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),tu(this),Mf(this)}}}catch{}finally{}};function N3(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function D3(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=Gtt(t,n),i==bm){e==4&&(t.o=4,kr(14),r=!1),$l(t.j,t.m,null,"[Incomplete Response]");break}else if(i==PS){t.o=4,kr(15),$l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else $l(t.j,t.m,i,null),OS(t,i);N3(t)&&i!=bm&&i!=PS&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,kr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dk(e),e.L=!0,kr(11))):($l(t.j,t.m,n,"[Invalid Chunked Response]"),tu(t),Mf(t))}zt.fb=function(){if(this.g){var t=$o(this.g),e=this.g.ga();this.C<e.length&&(r0(this),D3(this,t,e),this.i&&t!=4&&hp(this))}};function Gtt(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?bm:(n=Number(e.substring(n,r)),isNaN(n)?PS:(r+=1,r+n>e.length?bm:(e=e.substr(r,n),t.C=r+n,e)))}zt.cancel=function(){this.I=!0,tu(this)};function hp(t){t.Y=Date.now()+t.P,L3(t,t.P)}function L3(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=up(qn(t.eb,t),e)}function r0(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}zt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?($tt(this.j,this.A),this.K!=2&&(vd(),kr(17)),tu(this),this.o=2,Mf(this)):L3(this,this.Y-t)};function Mf(t){t.l.G==0||t.I||nU(t.l,t)}function tu(t){r0(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,_k(t.W),k3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function OS(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||MS(n.i,t))){if(n.I=t.N,!t.J&&MS(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Tm(n),a0(n);else break t;Nk(n),kr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=up(qn(n.ab,n),6e3));if(1>=$3(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else eu(n,11)}else if((t.J||n.g==t)&&Tm(n),!wm(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var a=o[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var c=o[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=t.g;if(h){var f=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var v=r.i;!v.g&&(Sr(f,"spdy")||Sr(f,"quic")||Sr(f,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Ak(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Xe(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var x=t;if(r.oa=oU(r,r.H?r.la:null,r.W),x.J){W3(r.i,x);var m=x,E=r.K;E&&m.setTimeout(E),m.B&&(r0(m),hp(m)),r.g=x}else tU(r);0<n.l.length&&u0(n)}else o[0]!="stop"&&o[0]!="close"||eu(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?eu(n,7):Mk(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}vd(4)}catch{}}function Ktt(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(_S(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Ck(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_S(t)||typeof t=="string")h3(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(_S(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Ktt(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Kc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Kc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}zt=Kc.prototype;zt.R=function(){Ik(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};zt.T=function(){return Ik(this),this.g.concat()};function Ik(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Tu(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Tu(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}zt.get=function(t,e){return Tu(this.h,t)?this.h[t]:e};zt.set=function(t,e){Tu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};zt.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function Tu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var F3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xtt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ku(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ku){this.g=e!==void 0?e:t.g,_m(this,t.j),this.s=t.s,Sm(this,t.i),Em(this,t.m),this.l=t.l,e=t.h;var n=new gd;n.i=e.i,e.g&&(n.g=new Kc(e.g),n.h=e.h),SN(this,n),this.o=t.o}else t&&(n=String(t).match(F3))?(this.g=!!e,_m(this,n[1]||"",!0),this.s=Nf(n[2]||""),Sm(this,n[3]||"",!0),Em(this,n[4]),this.l=Nf(n[5]||"",!0),SN(this,n[6]||"",!0),this.o=Nf(n[7]||"")):(this.g=!!e,this.h=new gd(null,this.g))}ku.prototype.toString=function(){var t=[],e=this.j;e&&t.push(df(e,EN,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(df(e,EN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(df(n,n.charAt(0)=="/"?Ztt:Jtt,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",df(n,eet)),t.join("")};function es(t){return new ku(t)}function _m(t,e,n){t.j=n?Nf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sm(t,e,n){t.i=n?Nf(e,!0):e}function Em(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function SN(t,e,n){e instanceof gd?(t.h=e,net(t.h,t.g)):(n||(e=df(e,tet)),t.h=new gd(e,t.g))}function Xe(t,e,n){t.h.set(e,n)}function i0(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ytt(t){return t instanceof ku?es(t):new ku(t,void 0)}function qtt(t,e,n,r){var i=new ku(null,void 0);return t&&_m(i,t),e&&Sm(i,e),n&&Em(i,n),r&&(i.l=r),i}function Nf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function df(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Qtt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qtt(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var EN=/[#\/\?@]/g,Jtt=/[#\?:]/g,Ztt=/[#\?]/g,tet=/[#\?@]/g,eet=/#/g;function gd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ha(t){t.g||(t.g=new Kc,t.h=0,t.i&&Xtt(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}zt=gd.prototype;zt.add=function(t,e){ha(this),this.i=null,t=Xc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function j3(t,e){ha(t),e=Xc(t,e),Tu(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Tu(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ik(t)))}function B3(t,e){return ha(t),e=Xc(t,e),Tu(t.g.h,e)}zt.forEach=function(t,e){ha(this),this.g.forEach(function(n,r){h3(n,function(i){t.call(e,i,r,this)},this)},this)};zt.T=function(){ha(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};zt.R=function(t){ha(this);var e=[];if(typeof t=="string")B3(this,t)&&(e=pN(e,this.g.get(Xc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=pN(e,t[n])}return e};zt.set=function(t,e){return ha(this),this.i=null,t=Xc(this,t),B3(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};zt.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function U3(t,e,n){j3(t,e),0<n.length&&(t.i=null,t.g.set(Xc(t,e),dk(n)),t.h+=n.length)}zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};function Xc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function net(t,e){e&&!t.j&&(ha(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(j3(this,r),U3(this,i,n))},t)),t.j=e}var ret=function(){function t(e,n){this.h=e,this.g=n}return t}();function z3(t){this.l=t||iet,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iet=10;function V3(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $3(t){return t.h?1:t.g?t.g.size:0}function MS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ak(t,e){t.g?t.g.add(e):t.h=e}function W3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}z3.prototype.cancel=function(){var t,e;if(this.i=H3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=l3(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function H3(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=l3(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return dk(t.i)}function Pk(){}Pk.prototype.stringify=function(t){return ee.JSON.stringify(t,void 0)};Pk.prototype.parse=function(t){return ee.JSON.parse(t,void 0)};function oet(){this.g=new Pk}function set(t,e,n){var r=n||"";try{Ck(t,function(i,o){var a=i;sp(i)&&(a=xk(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aet(t,e){var n=new Zy;if(ee.Image){var r=new Image;r.onload=Xv(qv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xv(qv,n,r,"TestLoadImage: error",!1,e),r.onabort=Xv(qv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xv(qv,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function qv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fp(t){this.l=t.$b||null,this.j=t.ib||!1}tr(fp,Ek);fp.prototype.g=function(){return new o0(this.l,this.j)};fp.prototype.i=function(t){return function(){return t}}({});function o0(t,e){jn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Rk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tr(o0,jn);var Rk=0;zt=o0.prototype;zt.open=function(t,e){if(this.readyState!=Rk)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,md(this)};zt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dp(this)),this.readyState=Rk};zt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G3(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function G3(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}zt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dp(this):md(this),this.readyState==3&&G3(this)}};zt.Ua=function(t){this.g&&(this.response=this.responseText=t,dp(this))};zt.Ta=function(t){this.g&&(this.response=t,dp(this))};zt.ha=function(){this.g&&dp(this)};function dp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,md(t)}zt.setRequestHeader=function(t,e){this.v.append(t,e)};zt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};zt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function md(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(o0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var uet=ee.JSON.parse;function gn(t){jn.call(this),this.headers=new Kc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=K3,this.K=this.L=!1}tr(gn,jn);var K3="",cet=/^https?$/i,het=["POST","PUT"];zt=gn.prototype;zt.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():AS.g(),this.C=this.u?_N(this.u):_N(AS),this.g.onreadystatechange=qn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){TN(this,o);return}t=n||"";var i=new Kc(this.headers);r&&Ck(r,function(o,a){i.set(a,o)}),r=btt(i.T()),n=ee.FormData&&t instanceof ee.FormData,!(0<=c3(het,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{q3(this),0<this.B&&((this.K=fet(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qn(this.pa,this)):this.A=Sk(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){TN(this,o)}};function fet(t){return mc&&ktt()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function det(t){return t.toLowerCase()=="content-type"}zt.pa=function(){typeof fk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))};function TN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,X3(t),s0(t)}function X3(t){t.D||(t.D=!0,Qn(t,"complete"),Qn(t,"error"))}zt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qn(this,"complete"),Qn(this,"abort"),s0(this))};zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),s0(this,!0)),gn.Z.M.call(this)};zt.Fa=function(){this.s||(this.F||this.v||this.l?Y3(this):this.cb())};zt.cb=function(){Y3(this)};function Y3(t){if(t.h&&typeof fk<"u"&&(!t.C[1]||$o(t)!=4||t.ba()!=2)){if(t.v&&$o(t)==4)Sk(t.Fa,0,t);else if(Qn(t,"readystatechange"),$o(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.H).match(F3)[1]||null;if(!o&&ee.self&&ee.self.location){var a=ee.self.location.protocol;o=a.substr(0,a.length-1)}i=!cet.test(o?o.toLowerCase():"")}r=i}if(r)Qn(t,"complete"),Qn(t,"success");else{t.m=6;try{var u=2<$o(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.ba()+"]",X3(t)}}finally{s0(t)}}}}function s0(t,e){if(t.g){q3(t);var n=t.g,r=t.C[0]?ym:null;t.g=null,t.C=null,e||Qn(t,"ready");try{n.onreadystatechange=r}catch{}}}function q3(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function $o(t){return t.g?t.g.readyState:0}zt.ba=function(){try{return 2<$o(this)?this.g.status:-1}catch{return-1}};zt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};zt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),uet(e)}};function kN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case K3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}zt.Da=function(){return this.m};zt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function pet(t){var e="";return pk(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ok(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=pet(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xe(t,e,n))}function ef(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Q3(t){this.za=0,this.l=[],this.h=new Zy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ef("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ef("baseRetryDelayMs",5e3,t),this.$a=ef("retryDelaySeedMs",1e4,t),this.Ya=ef("forwardChannelMaxRetries",2,t),this.ra=ef("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new z3(t&&t.concurrentRequestLimit),this.Ca=new oet,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}zt=Q3.prototype;zt.ma=8;zt.G=1;function Mk(t){if(J3(t),t.G==3){var e=t.V++,n=es(t.F);Xe(n,"SID",t.J),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),pp(t,n),e=new cp(t,t.h,e,void 0),e.K=2,e.v=i0(es(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(e.v.toString(),"")),!n&&ee.Image&&(new Image().src=e.v,n=!0),n||(e.g=sU(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hp(e)}iU(t)}zt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function a0(t){t.g&&(Dk(t),t.g.cancel(),t.g=null)}function J3(t){a0(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Tm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function x1(t,e){t.l.push(new ret(t.Za++,e)),t.G==3&&u0(t)}function u0(t){V3(t.i)||t.m||(t.m=!0,bk(t.Ha,t),t.C=0)}function vet(t,e){return $3(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=up(qn(t.Ha,t,e),rU(t,t.C)),t.C++,!0)}zt.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new cp(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=f3(n),d3(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){e:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break e}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break t}if(r===4096||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Z3(this,e,r),i=es(this.F),Xe(i,"RID",t),Xe(i,"CVER",22),this.D&&Xe(i,"X-HTTP-Session-Id",this.D),pp(this,i),this.o&&n&&Ok(i,this.o,n),Ak(this.i,e),this.Ra&&Xe(i,"TYPE","init"),this.ja?(Xe(i,"$req",r),Xe(i,"SID","null"),e.$=!0,RS(e,i,null)):RS(e,i,r),this.G=2}}else this.G==3&&(t?CN(this,t):this.l.length==0||V3(this.i)||CN(this))};function CN(t,e){var n;e?n=e.m:n=t.V++;var r=es(t.F);Xe(r,"SID",t.J),Xe(r,"RID",n),Xe(r,"AID",t.U),pp(t,r),t.o&&t.s&&Ok(r,t.o,t.s),n=new cp(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Z3(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ak(t.i,n),RS(n,r,e)}function pp(t,e){t.j&&Ck({},function(n,r){Xe(e,r,n)})}function Z3(t,e,n){n=Math.min(t.l.length,n);var r=t.j?qn(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var h=i[c].h,f=i[c].g;if(h-=o,0>h)o=Math.max(0,i[c].h-100),u=!1;else try{set(f,a,"req"+h+"_")}catch{r&&r(f)}}if(u){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function tU(t){t.g||t.u||(t.Y=1,bk(t.Ga,t),t.A=0)}function Nk(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=up(qn(t.Ga,t),rU(t,t.A)),t.A++,!0)}zt.Ga=function(){if(this.u=null,eU(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=up(qn(this.bb,this),t)}};zt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kr(10),a0(this),eU(this))};function Dk(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function eU(t){t.g=new cp(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=es(t.oa);Xe(e,"RID","rpc"),Xe(e,"SID",t.J),Xe(e,"CI",t.N?"0":"1"),Xe(e,"AID",t.U),pp(t,e),Xe(e,"TYPE","xmlhttp"),t.o&&t.s&&Ok(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=i0(es(e)),n.s=null,n.U=!0,M3(n,t)}zt.ab=function(){this.v!=null&&(this.v=null,a0(this),Nk(this),kr(19))};function Tm(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function nU(t,e){var n=null;if(t.g==e){Tm(t),Dk(t),t.g=null;var r=2}else if(MS(t.i,e))n=e.D,W3(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=t0(),Qn(r,new A3(r,n)),u0(t)}else tU(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&vet(t,e)||r==2&&Nk(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:eu(t,5);break;case 4:eu(t,10);break;case 3:eu(t,6);break;default:eu(t,2)}}}function rU(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function eu(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=qn(t.jb,t);n||(n=new ku("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||_m(n,"https"),i0(n)),aet(n.toString(),r)}else kr(2);t.G=0,t.j&&t.j.va(e),iU(t),J3(t)}zt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),kr(2)):(this.h.info("Failed to ping google.com"),kr(1))};function iU(t){t.G=0,t.I=-1,t.j&&((H3(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,dk(t.l),t.l.length=0),t.j.ua())}function oU(t,e,n){var r=Ytt(n);if(r.i!="")e&&Sm(r,e+"."+r.i),Em(r,r.m);else{var i=ee.location;r=qtt(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&pk(t.aa,function(o,a){Xe(r,a,o)}),e=t.D,n=t.sa,e&&n&&Xe(r,e,n),Xe(r,"VER",t.ma),pp(t,r),r}function sU(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new gn(new fp({ib:!0})):new gn(t.qa),e.L=t.H,e}function aU(){}zt=aU.prototype;zt.xa=function(){};zt.wa=function(){};zt.va=function(){};zt.ua=function(){};zt.Oa=function(){};function km(){if(mc&&!(10<=Number(Ctt)))throw Error("Environmental error: no available transport.")}km.prototype.g=function(t,e){return new ci(t,e)};function ci(t,e){jn.call(this),this.g=new Q3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!wm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wm(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Yc(this)}tr(ci,jn);ci.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),bk(qn(t.hb,t,e))),kr(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=oU(t,null,t.W),u0(t)};ci.prototype.close=function(){Mk(this.g)};ci.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,x1(this.g,e)}else this.v?(e={},e.__data__=xk(t),x1(this.g,e)):x1(this.g,t)};ci.prototype.M=function(){this.g.j=null,delete this.j,Mk(this.g),delete this.g,ci.Z.M.call(this)};function uU(t){Tk.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tr(uU,Tk);function lU(){kk.call(this),this.status=1}tr(lU,kk);function Yc(t){this.g=t}tr(Yc,aU);Yc.prototype.xa=function(){Qn(this.g,"a")};Yc.prototype.wa=function(t){Qn(this.g,new uU(t))};Yc.prototype.va=function(t){Qn(this.g,new lU)};Yc.prototype.ua=function(){Qn(this.g,"b")};km.prototype.createWebChannel=km.prototype.g;ci.prototype.send=ci.prototype.u;ci.prototype.open=ci.prototype.m;ci.prototype.close=ci.prototype.close;e0.NO_ERROR=0;e0.TIMEOUT=8;e0.HTTP_ERROR=6;P3.COMPLETE="complete";R3.EventType=lp;lp.OPEN="a";lp.CLOSE="b";lp.ERROR="c";lp.MESSAGE="d";jn.prototype.listen=jn.prototype.N;gn.prototype.listenOnce=gn.prototype.O;gn.prototype.getLastError=gn.prototype.La;gn.prototype.getLastErrorCode=gn.prototype.Da;gn.prototype.getStatus=gn.prototype.ba;gn.prototype.getResponseJson=gn.prototype.Qa;gn.prototype.getResponseText=gn.prototype.ga;gn.prototype.send=gn.prototype.ea;var get=function(){return new km},met=function(){return t0()},b1=e0,yet=P3,wet=Uu,IN={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xet=fp,Qv=R3,bet=gn;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();ri.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rt=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return jt(e,t),e}(Error),Zi=new Lu("@firebase/firestore");function NS(){return Zi.logLevel}function Dt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=ce.DEBUG){var r=e.map(Lk);Zi.debug.apply(Zi,se(["Firestore (8.10.1): "+t],r))}}function vn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=ce.ERROR){var r=e.map(Lk);Zi.error.apply(Zi,se(["Firestore (8.10.1): "+t],r))}}function yd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zi.logLevel<=ce.WARN){var r=e.map(Lk);Zi.warn.apply(Zi,se(["Firestore (8.10.1): "+t],r))}}function Lk(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw vn(e),new Error(e)}function Jt(t,e){t||Gt()}function Ft(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _et(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cU=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=_et(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function de(t,e){return t<e?-1:t>e?1:0}function yc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function hU(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),le=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Hr(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fU(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dU=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&Gt(),r===void 0?r=e.length-n:r>e.length-n&&Gt(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Ee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(dU),Eet=/^[_a-zA-Z][_a-zA-Z0-9]*$/,no=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return Eet.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new Rt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Rt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(i+=c,o++):(a(),o++)}if(a(),u)throw new Rt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(dU),wc=function(){function t(e){this.fields=e,e.sort(no.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return yc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Ir=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return de(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Ir.EMPTY_BYTE_STRING=new Ir("");var Tet=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(Jt(!!t),typeof t=="string"){var e=0,n=Tet.exec(t);if(Jt(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xc(t){return typeof t=="string"?Ir.fromBase64String(t):Ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pU(t){var e=t.mapValue.fields.__previous_value__;return Fk(e)?pU(e):e}function wd(t){var e=ia(t.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){return t==null}function Cm(t){return t===0&&1/t==-1/0}function vU(t){return typeof t=="number"&&Number.isInteger(t)&&!Cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Ee.fromString(e))},t.fromName=function(e){return new t(Ee.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Ee.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Ee.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Ee(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fk(t)?4:10:Gt()}function Io(t,e){var n=Cu(t);if(n!==Cu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wd(t).isEqual(wd(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=ia(r.timestampValue),a=ia(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return xc(r.bytesValue).isEqual(xc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dn(r.geoPointValue.latitude)===dn(i.geoPointValue.latitude)&&dn(r.geoPointValue.longitude)===dn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dn(r.integerValue)===dn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=dn(r.doubleValue),a=dn(i.doubleValue);return o===a?Cm(o)===Cm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(AN(o)!==AN(a))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Io(o[u],a[u])))return!1;return!0}(t,e);default:return Gt()}}function xd(t,e){return(t.values||[]).find(function(n){return Io(n,e)})!==void 0}function bc(t,e){var n=Cu(t),r=Cu(e);if(n!==r)return de(n,r);switch(n){case 0:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=dn(i.integerValue||i.doubleValue),u=dn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return PN(t.timestampValue,e.timestampValue);case 4:return PN(wd(t),wd(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(i,o){var a=xc(i),u=xc(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),u=o.split("/"),c=0;c<a.length&&c<u.length;c++){var h=de(a[c],u[c]);if(h!==0)return h}return de(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=de(dn(i.latitude),dn(o.latitude));return a!==0?a:de(dn(i.longitude),dn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],u=o.values||[],c=0;c<a.length&&c<u.length;++c){var h=bc(a[c],u[c]);if(h)return h}return de(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(var f=0;f<u.length&&f<h.length;++f){var v=de(u[f],h[f]);if(v!==0)return v;var g=bc(a[u[f]],c[h[f]]);if(g!==0)return g}return de(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Gt()}}function PN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);var n=ia(t),r=ia(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function jk(t){return DS(t)}function DS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=ia(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Xt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,u=r.values||[];a<u.length;a++)o?o=!1:i+=",",i+=DS(u[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,u=Object.keys(r.fields||{}).sort();a<u.length;a++){var c=u[a];o?o=!1:i+=",",i+=c+":"+DS(r.fields[c])}return i+"}"}(t.mapValue):Gt();var e,n}function Im(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function LS(t){return!!t&&"integerValue"in t}function Bk(t){return!!t&&"arrayValue"in t}function RN(t){return!!t&&"nullValue"in t}function ON(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _g(t){return!!t&&"mapValue"in t}function Df(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return zu(t.mapValue.fields,function(i,o){return e.mapValue.fields[i]=Df(o)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Df(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!_g(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Df(n)},t.prototype.setAll=function(e){var n=this,r=no.emptyPath(),i={},o=[];e.forEach(function(u,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,o),i={},o=[],r=c.popLast()}u?i[c.lastSegment()]=Df(u):o.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,o)},t.prototype.delete=function(e){var n=this.field(e.popLast());_g(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Io(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];_g(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){zu(n,function(u,c){return e[u]=c});for(var i=0,o=r;i<o.length;i++){var a=o[i];delete e[a]}},t.prototype.clone=function(){return new t(Df(this.value))},t}();function gU(t){var e=[];return zu(t.fields,function(n,r){var i=new no([n]);if(_g(r)){var o=gU(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,u=o;a<u.length;a++){var c=u[a];e.push(i.child(c))}}else e.push(i)}),new wc(e)}var Zn=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,le.min(),ei.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ei.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ei.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ket=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new ket(t,e,n,r,i,o,a)}function vp(t){var e=Ft(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+jk(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Pm(e.startAt)),e.endAt&&(n+="|ub:",n+=Pm(e.endAt)),e.h=n}return e.h}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Net(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Io(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DN(t.startAt,e.startAt)&&DN(t.endAt,e.endAt)}function Am(t){return Xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ii=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return jt(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Cet(n,r,i):r==="array-contains"?new Pet(n,i):r==="in"?new Ret(n,i):r==="not-in"?new Oet(n,i):r==="array-contains-any"?new Met(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new Iet(n,i):new Aet(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(bc(r,this.value)):r!==null&&Cu(this.value)===Cu(r)&&this.m(bc(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Gt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Cet=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=Xt.fromName(i.referenceValue),o}return jt(e,t),e.prototype.matches=function(n){var r=Xt.comparator(n.key,this.key);return this.m(r)},e}(ii),Iet=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=mU("in",r),i}return jt(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(ii),Aet=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=mU("not-in",r),i}return jt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(ii);function mU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Xt.fromName(r.referenceValue)})}var Pet=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return jt(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return Bk(r)&&xd(r.arrayValue,this.value)},e}(ii),Ret=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return jt(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&xd(this.value.arrayValue,r)},e}(ii),Oet=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return jt(e,t),e.prototype.matches=function(n){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!xd(this.value.arrayValue,r)},e}(ii),Met=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return jt(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Bk(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return xd(r.value.arrayValue,o)})},e}(ii),bd=function(t,e){this.position=t,this.before=e};function Pm(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return jk(e)}).join(",")}var Jl=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function Net(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function NN(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Xt.comparator(Xt.fromName(a.referenceValue),n.key):bc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function DN(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Io(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as=function(t,e,n,r,i,o,a,u){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),u===void 0&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function yU(t,e,n,r,i,o,a,u){return new as(t,e,n,r,i,o,a,u)}function qc(t){return new as(t)}function Sg(t){return!Vu(t.limit)&&t.limitType==="F"}function Rm(t){return!Vu(t.limit)&&t.limitType==="L"}function Uk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zk(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Vk(t){return t.collectionGroup!==null}function _c(t){var e=Ft(t);if(e.p===null){e.p=[];var n=zk(e),r=Uk(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new Jl(n)),e.p.push(new Jl(no.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var u=a[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Jl(no.keyField(),c))}}}return e.p}function Mi(t){var e=Ft(t);if(!e.T)if(e.limitType==="F")e.T=MN(e.path,e.collectionGroup,_c(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_c(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new Jl(o.field,a))}var u=e.endAt?new bd(e.endAt.position,!e.endAt.before):null,c=e.startAt?new bd(e.startAt.position,!e.startAt.before):null;e.T=MN(e.path,e.collectionGroup,n,e.filters,e.limit,u,c)}return e.T}function wU(t,e,n){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gp(t,e){return l0(Mi(t),Mi(e))&&t.limitType===e.limitType}function xU(t){return vp(Mi(t))+"|lt:"+t.limitType}function FS(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+jk(i.value);var i}).join(", ")+"]"),Vu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Pm(e.startAt)),e.endAt&&(n+=", endAt: "+Pm(e.endAt)),"Target("+n+")"}(Mi(t))+"; limitType="+t.limitType+")"}function mp(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Xt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!NN(n.startAt,_c(n),r))&&(!n.endAt||!NN(n.endAt,_c(n),r))}(t,e)}function bU(t){return function(e,n){for(var r=!1,i=0,o=_c(t);i<o.length;i++){var a=o[i],u=Det(a,e,n);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function Det(t,e,n){var r=t.field.isKeyField()?Xt.comparator(e.key,n.key):function(i,o,a){var u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?bc(u,c):Gt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(e)?"-0":e}}function SU(t){return{integerValue:""+t}}function EU(t,e){return vU(e)?SU(e):_U(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c0=function(){this._=void 0};function Let(t,e,n){return t instanceof Sc?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Iu?kU(t,e):t instanceof Au?CU(t,e):function(r,i){var o=TU(r,i),a=LN(o)+LN(r.A);return LS(o)&&LS(r.A)?SU(a):_U(r.R,a)}(t,e)}function Fet(t,e,n){return t instanceof Iu?kU(t,e):t instanceof Au?CU(t,e):n}function TU(t,e){return t instanceof Ec?LS(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var Sc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e}(c0),Iu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return jt(e,t),e}(c0);function kU(t,e){for(var n=IU(e),r=function(a){n.some(function(u){return Io(u,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Au=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return jt(e,t),e}(c0);function CU(t,e){for(var n=IU(e),r=function(a){n=n.filter(function(u){return!Io(u,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ec=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return jt(e,t),e}(c0);function LN(t){return dn(t.integerValue||t.doubleValue)}function IU(t){return Bk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yp=function(t,e){this.field=t,this.transform=e},jet=function(t,e){this.version=t,this.transformResults=e},ur=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Eg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var h0=function(){};function Bet(t,e,n){t instanceof wp?function(r,i,o){var a=r.value.clone(),u=BN(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(r,i,o){if(Eg(r.precondition,i)){var a=BN(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(AU(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jS(t,e,n){t instanceof wp?function(r,i,o){if(Eg(r.precondition,i)){var a=r.value.clone(),u=UN(r.fieldTransforms,o,i);a.setAll(u),i.convertToFoundDocument(jN(i),a).setHasLocalMutations()}}(t,e,n):t instanceof fa?function(r,i,o){if(Eg(r.precondition,i)){var a=UN(r.fieldTransforms,o,i),u=i.data;u.setAll(AU(r)),u.setAll(a),i.convertToFoundDocument(jN(i),u).setHasLocalMutations()}}(t,e,n):function(r,i){Eg(r.precondition,i)&&i.convertToNoDocument(le.min())}(t,e)}function Uet(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),u=TU(o.transform,a||null);u!=null&&(n==null&&(n=ei.empty()),n.set(o.field,u))}return n||null}function FN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&yc(n,r,function(i,o){return function(a,u){return a.field.isEqual(u.field)&&function(c,h){return c instanceof Iu&&h instanceof Iu||c instanceof Au&&h instanceof Au?yc(c.elements,h.elements,Io):c instanceof Ec&&h instanceof Ec?Io(c.A,h.A):c instanceof Sc&&h instanceof Sc}(a.transform,u.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function jN(t){return t.isFoundDocument()?t.version:le.min()}var wp=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return jt(e,t),e}(h0),fa=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var u=this;return(u=t.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=a,u.type=1,u}return jt(e,t),e}(h0);function AU(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function BN(t,e,n){var r=new Map;Jt(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,Fet(a,u,n[i]))}return r}function UN(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],u=a.transform,c=n.data.field(a.field);r.set(a.field,Let(u,c,e))}return r}var fn,ye,xp=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return jt(e,t),e}(h0),$k=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return jt(e,t),e}(h0),zet=function(t){this.count=t};function PU(t){switch(t){case _t.OK:return Gt();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return Gt()}}function RU(t){if(t===void 0)return vn("GRPC error has no .code"),_t.UNKNOWN;switch(t){case fn.OK:return _t.OK;case fn.CANCELLED:return _t.CANCELLED;case fn.UNKNOWN:return _t.UNKNOWN;case fn.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case fn.INTERNAL:return _t.INTERNAL;case fn.UNAVAILABLE:return _t.UNAVAILABLE;case fn.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case fn.NOT_FOUND:return _t.NOT_FOUND;case fn.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case fn.ABORTED:return _t.ABORTED;case fn.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case fn.DATA_LOSS:return _t.DATA_LOSS;default:return Gt()}}(ye=fn||(fn={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr=function(){function t(e,n){this.comparator=e,this.root=n||Ps.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ps.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Jv(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Jv(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Jv(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Jv(this.root,e,this.comparator,!0)},t}(),Jv=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ps=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();var e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)},t}();Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Gt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Gt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Gt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Gt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Gt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Ps(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn=function(){function t(e){this.comparator=e,this.data=new vr(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new zN(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new zN(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),zN=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Vet=new vr(Xt.comparator);function Ci(){return Vet}var $et=new vr(Xt.comparator);function BS(){return $et}var Wet=new vr(Xt.comparator);function OU(){return Wet}var Het=new Tn(Xt.comparator);function Re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Het,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Get=new Tn(de);function f0(){return Get}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wk=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Hk.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(le.min(),r,f0(),Ci(),Re())},t}(),Hk=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ir.EMPTY_BYTE_STRING,n,Re(),Re(),Re())},t}(),Tg=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},MU=function(t,e){this.targetId=t,this.V=e},NU=function(t,e,n,r){n===void 0&&(n=Ir.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},VN=function(){function t(){this.S=0,this.D=WN(),this.C=Ir.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Re(),n=Re(),r=Re();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Gt()}}),new Hk(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=WN()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Ket=function(){function t(e){this.W=e,this.G=new Map,this.H=Ci(),this.J=$N(),this.Y=new Tn(de)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:Gt()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(Am(o))if(r===0){var a=new Xt(o.path);this.tt(n,a,Zn.newNoDocument(a,le.min()))}else Jt(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,u){var c=n.ot(u);if(c){if(a.current&&Am(c.target)){var h=new Xt(c.target.path);n.H.get(h)!==null||n.at(u,h)||n.tt(u,h,Zn.newNoDocument(h,e))}a.$&&(r.set(u,a.M()),a.L())}});var i=Re();this.J.forEach(function(a,u){var c=!0;u.forEachWhile(function(h){var f=n.ot(h);return!f||f.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new Wk(e,r,this.Y,this.H,i);return this.H=Ci(),this.J=$N(),this.Y=new Tn(de),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new VN,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Tn(de),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||Dt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new VN),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function $N(){return new vr(Xt.comparator)}function WN(){return new vr(Xt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xet={asc:"ASCENDING",desc:"DESCENDING"},Yet={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qet=function(t,e){this.databaseId=t,this.I=e};function _d(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function DU(t,e){return t.I?e.toBase64():e.toUint8Array()}function Qet(t,e){return _d(t,e.toTimestamp())}function Dn(t){return Jt(!!t),le.fromTimestamp(function(e){var n=ia(e);return new Hr(n.seconds,n.nanos)}(t))}function Gk(t,e){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function LU(t){var e=Ee.fromString(t);return Jt(WU(e)),e}function Sd(t,e){return Gk(t.databaseId,e.path)}function bo(t,e){var n=LU(e);if(n.get(1)!==t.databaseId.projectId)throw new Rt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Rt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xt(jU(n))}function US(t,e){return Gk(t.databaseId,e)}function FU(t){var e=LU(t);return e.length===4?Ee.emptyPath():jU(e)}function Ed(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jU(t){return Jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HN(t,e,n){return{name:Sd(t,e),fields:n.value.mapValue.fields}}function BU(t,e,n){var r=bo(t,e.name),i=Dn(e.updateTime),o=new ei({mapValue:{fields:e.fields}}),a=Zn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Om(t,e){var n;if(e instanceof wp)n={update:HN(t,e.key,e.value)};else if(e instanceof xp)n={delete:Sd(t,e.key)};else if(e instanceof fa)n={update:HN(t,e.key,e.data),updateMask:nnt(e.fieldMask)};else{if(!(e instanceof $k))return Gt();n={verify:Sd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Au)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ec)return{fieldPath:o.field.canonicalString(),increment:a.A};throw Gt()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Qet(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Gt()}(t,e.precondition)),n}function GN(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?ur.updateTime(Dn(h.updateTime)):h.exists!==void 0?ur.exists(h.exists):ur.none()}(e.currentDocument):ur.none(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(f,v){var g=null;if("setToServerValue"in v)Jt(v.setToServerValue==="REQUEST_TIME"),g=new Sc;else if("appendMissingElements"in v){var x=v.appendMissingElements.values||[];g=new Iu(x)}else if("removeAllFromArray"in v){var m=v.removeAllFromArray.values||[];g=new Au(m)}else"increment"in v?g=new Ec(f,v.increment):Gt();var E=no.fromServerFormat(v.fieldPath);return new yp(E,g)}(t,h)}):[];if(e.update){e.update.name;var i=bo(t,e.update.name),o=new ei({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var f=h.fieldPaths||[];return new wc(f.map(function(v){return no.fromServerFormat(v)}))}(e.updateMask);return new fa(i,o,a,n,r)}return new wp(i,o,n,r)}if(e.delete){var u=bo(t,e.delete);return new xp(u,n)}if(e.verify){var c=bo(t,e.verify);return new $k(c,n)}return Gt()}function UU(t,e){return{documents:[US(t,e.path)]}}function zU(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=US(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=US(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var c=u.map(function(h){return function(f){if(f.op==="=="){if(ON(f.value))return{unaryFilter:{field:Sl(f.field),op:"IS_NAN"}};if(RN(f.value))return{unaryFilter:{field:Sl(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(ON(f.value))return{unaryFilter:{field:Sl(f.field),op:"IS_NOT_NAN"}};if(RN(f.value))return{unaryFilter:{field:Sl(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(f.field),op:Zet(f.op),value:f.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(c){return function(h){return{field:Sl(h.field),direction:Jet(h.dir)}}(c)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(u,c){return u.I||Vu(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=KN(e.startAt)),e.endAt&&(n.structuredQuery.endAt=KN(e.endAt)),n}function VU(t){var e=FU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jt(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=$U(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(v){return function(g){return new Jl(Wl(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var c=null;n.limit&&(c=function(v){var g;return Vu(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=XN(n.startAt));var f=null;return n.endAt&&(f=XN(n.endAt)),yU(e,i,u,a,c,"F",h,f)}function $U(t){return t?t.unaryFilter!==void 0?[ent(t)]:t.fieldFilter!==void 0?[tnt(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return $U(e)}).reduce(function(e,n){return e.concat(n)}):Gt():[]}function KN(t){return{before:t.before,values:t.position}}function XN(t){var e=!!t.before,n=t.values||[];return new bd(n,e)}function Jet(t){return Xet[t]}function Zet(t){return Yet[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function Wl(t){return no.fromServerFormat(t.fieldPath)}function tnt(t){return ii.create(Wl(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Gt()}}(t.fieldFilter.op),t.fieldFilter.value)}function ent(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Wl(t.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Wl(t.unaryFilter.field);return ii.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wl(t.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wl(t.unaryFilter.field);return ii.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Gt()}}function nnt(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function WU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=YN(e)),e=rnt(t.get(n),e);return YN(e)}function rnt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function YN(t){return t+""}function Wo(t){var e=t.length;if(Jt(e>=2),e===2)return Jt(t.charAt(0)===""&&t.charAt(1)===""),Ee.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Gt(),t.charAt(a+1)){case"":var u=t.substring(o,a),c=void 0;i.length===0?c=u:(c=i+=u,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Gt()}o=a+2}return new Ee(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var int=function(t,e){this.seconds=t,this.nanoseconds=e},Jr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Jr.store="owner",Jr.key="owner";var Xs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Xs.store="mutationQueues",Xs.keyPath="userId";var ze=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];var ar=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,to(n)]},t.key=function(e,n,r){return[e,to(n),r]},t}();ar.store="documentMutations",ar.PLACEHOLDER=new ar;var ont=function(t,e){this.path=t,this.readTime=e},snt=function(t,e){this.path=t,this.version=e},on=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};on.store="remoteDocuments",on.readTimeIndex="readTimeIndex",on.readTimeIndexPath="readTime",on.collectionReadTimeIndex="collectionReadTimeIndex",on.collectionReadTimeIndexPath=["parentPath","readTime"];var mo=function(t){this.byteSize=t};mo.store="remoteDocumentGlobal",mo.key="remoteDocumentGlobalKey";var Br=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Br.store="targets",Br.keyPath="targetId",Br.queryTargetsIndexName="queryTargetsIndex",Br.queryTargetsKeyPath=["canonicalId","targetId"];var Kn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kn.store="targetDocuments",Kn.keyPath=["targetId","path"],Kn.documentTargetsIndex="documentTargetsIndex",Kn.documentTargetsKeyPath=["path","targetId"];var Zr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zr.key="targetGlobalKey",Zr.store="targetGlobal";var cu=function(t,e){this.collectionId=t,this.parent=e};cu.store="collectionParents",cu.keyPath=["collectionId","parent"];var Ko=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ko.store="clientMetadata",Ko.keyPath="clientId";var Tc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tc.store="bundles",Tc.keyPath="bundleId";var kc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};kc.store="namedQueries",kc.keyPath="name";var ant=se(se([],se(se([],se(se([],se(se([],[Xs.store,ze.store,ar.store,on.store,Br.store,Jr.store,Zr.store,Kn.store]),[Ko.store])),[mo.store])),[cu.store])),[Tc.store,kc.store]),HU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GU=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),pr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ot=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(u){++i,u.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(u){return u?t.resolve(u):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),KU=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new pr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Lf(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Kk(i.target.error);r.ft.reject(new Lf(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Lf(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new lnt(n)},t}(),Cc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(bu())===12.2&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return Dt("SimpleDb","Removing database:",e),Ha(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=bu(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Dt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(c){var h=c.target.result;o(h)},u.onblocked=function(){a(new Lf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new Rt(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Lf(e,h))},u.onupgradeneeded=function(c){Dt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,u.transaction,c.oldVersion,r.version).next(function(){Dt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return pt(this,void 0,void 0,function(){var o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:o=n==="readonly",a=0,u=function(){var v,g,x,m,E;return dt(this,function(R){switch(R.label){case 0:++a,R.label=1;case 1:return R.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=R.sent(),v=KU.open(c.db,e,o?"readonly":"readwrite",r),g=i(v).catch(function(C){return v.abort(C),Ot.reject(C)}).toPromise(),x={},g.catch(function(){}),[4,v.dt];case 3:return[2,(x.value=(R.sent(),g),x)];case 4:return m=R.sent(),E=m.name!=="FirebaseError"&&a<3,Dt("SimpleDb","Transaction failed with error:",m.message,"Retrying:",E),c.close(),E?[3,5]:[2,{value:Promise.reject(m)}];case 5:return[2]}})},c=this,f.label=1;case 1:return[5,u()];case 2:if(typeof(h=f.sent())=="object")return[2,h.value];f.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),unt=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Ha(this.Pt.delete())},t}(),Lf=function(t){function e(n,r){var i=this;return(i=t.call(this,_t.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return jt(e,t),e}(Rt);function $u(t){return t.name==="IndexedDbTransactionError"}var lnt=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(Dt("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ha(r)},t.prototype.add=function(e){return Dt("SimpleDb","ADD",this.store.name,e,e),Ha(this.store.add(e))},t.prototype.get=function(e){var n=this;return Ha(this.store.get(e)).next(function(r){return r===void 0&&(r=null),Dt("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return Dt("SimpleDb","DELETE",this.store.name,e),Ha(this.store.delete(e))},t.prototype.count=function(){return Dt("SimpleDb","COUNT",this.store.name),Ha(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.kt=function(e,n){Dt("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,a,u){return u.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new Ot(function(r,i){n.onerror=function(o){var a=Kk(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(u){u?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new Ot(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var u=a.target.result;if(u){var c=new unt(u),h=n(u.primaryKey,u.value,c);if(h instanceof Ot){var f=h.catch(function(v){return c.done(),Ot.reject(v)});r.push(f)}c.isDone?i():c.Dt===null?u.continue():u.continue(c.Dt)}else i()}}).next(function(){return Ot.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Ha(t){return new Ot(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=Kk(r.target.error);n(i)}})}var qN=!1;function Kk(t){var e=Cc._t(bu());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Rt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return qN||(qN=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QN=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return jt(e,t),e}(GU);function Kr(t,e){var n=Ft(t);return Cc.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xk=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&Bet(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&jS(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&jS(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(le.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Re())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,function(n,r){return FN(n,r)})&&yc(this.baseMutations,e.baseMutations,function(n,r){return FN(n,r)})},t}(),cnt=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){Jt(e.mutations.length===r.length);for(var i=OU(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),d0=function(){function t(e,n,r,i,o,a,u){o===void 0&&(o=le.min()),a===void 0&&(a=le.min()),u===void 0&&(u=Ir.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),XU=function(t){this.Lt=t};function zS(t,e){if(e.document)return BU(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xt.fromSegments(e.noDocument.path),r=Ac(e.noDocument.readTime),i=Zn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Xt.fromSegments(e.unknownDocument.path);return r=Ac(e.unknownDocument.version),Zn.newUnknownDocument(o,r)}return Gt()}function JN(t,e,n){var r=Yk(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(v,g){return{name:Sd(v,g.key),fields:g.data.value.mapValue.fields,updateTime:_d(v,g.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new on(null,null,o,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=Ic(e.version);return a=e.hasCommittedMutations,new on(null,new ont(u,c),null,a,r,i)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=Ic(e.version);return new on(new snt(h,f),null,null,!0,r,i)}return Gt()}function Yk(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function YU(t){var e=new Hr(t[0],t[1]);return le.fromTimestamp(e)}function Ic(t){var e=t.toTimestamp();return new int(e.seconds,e.nanoseconds)}function Ac(t){var e=new Hr(t.seconds,t.nanoseconds);return le.fromTimestamp(e)}function Il(t,e){for(var n=(e.baseMutations||[]).map(function(c){return GN(t.Lt,c)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(c){return GN(t.Lt,c)}),u=Hr.fromMillis(e.localWriteTimeMs);return new Xk(e.batchId,u,n,a)}function pf(t){var e,n,r=Ac(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Ac(t.lastLimboFreeSnapshotVersion):le.min();return t.query.documents!==void 0?(Jt((n=t.query).documents.length===1),e=Mi(qc(FU(n.documents[0])))):e=function(o){return Mi(VU(o))}(t.query),new d0(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ir.fromBase64String(t.resumeToken))}function qU(t,e){var n,r=Ic(e.snapshotVersion),i=Ic(e.lastLimboFreeSnapshotVersion);n=Am(e.target)?UU(t.Lt,e.target):zU(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Br(e.targetId,vp(e.target),r,o,e.sequenceNumber,i,n)}function qk(t){var e=VU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wU(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hnt=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return ZN(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Ac(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return ZN(e).put({bundleId:(r=n).id,createTime:Ic(Dn(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return tD(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:qk(i.bundledQuery),readTime:Ac(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return tD(e).put(function(r){return{name:r.name,readTime:Ic(Dn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function ZN(t){return Kr(t,Tc.store)}function tD(t){return Kr(t,kc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fnt=function(){function t(){this.Bt=new Qk}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),Ot.resolve()},t.prototype.getCollectionParents=function(e,n){return Ot.resolve(this.Bt.getEntries(n))},t}(),Qk=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Tn(Ee.comparator)).toArray()},t}(),dnt=function(){function t(){this.qt=new Qk}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:to(o)};return eD(e).put(a)}return Ot.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[hU(n),""],!1,!0);return eD(e).Nt(i).next(function(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c.collectionId!==n)break;r.push(Wo(c.parent))}return r})},t}();function eD(t){return Kr(t,cu.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vo=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t,e,n){var r=t.store(ze.store),i=t.store(ar.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:a},function(m,E,R){return u++,R.delete()});o.push(c.next(function(){Jt(u===1)}));for(var h=[],f=0,v=n.mutations;f<v.length;f++){var g=v[f],x=ar.key(e,g.key.path,n.batchId);o.push(i.delete(x)),h.push(g.key)}return Ot.waitFor(o).next(function(){return h})}function Mm(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Gt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);var pnt=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return Jt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bs(e).$t({index:ze.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=Al(e),u=bs(e);return u.add({}).next(function(c){Jt(typeof c=="number");for(var h=new Xk(c,n,r,i),f=function(C,_,T){var L=T.baseMutations.map(function(z){return Om(C.Lt,z)}),j=T.mutations.map(function(z){return Om(C.Lt,z)});return new ze(_,T.batchId,T.localWriteTime.toMillis(),L,j)}(o.R,o.userId,h),v=[],g=new Tn(function(C,_){return de(C.canonicalString(),_.canonicalString())}),x=0,m=i;x<m.length;x++){var E=m[x],R=ar.key(o.userId,E.key.path,c);g=g.add(E.key.path.popLast()),v.push(u.put(f)),v.push(a.put(R,ar.PLACEHOLDER))}return g.forEach(function(C){v.push(o.Ut.addToCollectionParentIndex(e,C))}),e.addOnCommittedListener(function(){o.Kt[c]=h.keys()}),Ot.waitFor(v).next(function(){return h})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return bs(e).get(n).next(function(i){return i?(Jt(i.userId===r.userId),Il(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?Ot.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return bs(e).$t({index:ze.userMutationsIndex,range:o},function(u,c,h){c.userId===r.userId&&(Jt(c.batchId>=i),a=Il(r.R,c)),h.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return bs(e).$t({index:ze.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bs(e).Nt(ze.userMutationsIndex,r).next(function(i){return i.map(function(o){return Il(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=ar.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return Al(e).$t({range:o},function(u,c,h){var f=u[0],v=u[1],g=u[2],x=Wo(v);if(f===r.userId&&n.path.isEqual(x))return bs(e).get(g).next(function(m){if(!m)throw Gt();Jt(m.userId===r.userId),a.push(Il(r.R,m))});h.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Tn(de),o=[];return n.forEach(function(a){var u=ar.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(u),h=Al(e).$t({range:c},function(f,v,g){var x=f[0],m=f[1],E=f[2],R=Wo(m);x===r.userId&&a.path.isEqual(R)?i=i.add(E):g.done()});o.push(h)}),Ot.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=ar.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),c=new Tn(de);return Al(e).$t({range:u},function(h,f,v){var g=h[0],x=h[1],m=h[2],E=Wo(x);g===r.userId&&i.isPrefixOf(E)?E.length===o&&(c=c.add(m)):v.done()}).next(function(){return r.Wt(e,c)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(bs(e).get(a).next(function(u){if(u===null)throw Gt();Jt(u.userId===r.userId),i.push(Il(r.R,u))}))}),Ot.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return QU(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),Ot.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return Ot.resolve();var i=IDBKeyRange.lowerBound(ar.prefixForUser(n.userId)),o=[];return Al(e).$t({range:i},function(a,u,c){if(a[0]===n.userId){var h=Wo(a[1]);o.push(h)}else c.done()}).next(function(){Jt(o.length===0)})})},t.prototype.containsKey=function(e,n){return JU(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return ZU(e).get(this.userId).next(function(r){return r||new Xs(n.userId,-1,"")})},t}();function JU(t,e,n){var r=ar.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Al(t).$t({range:o,Ft:!0},function(u,c,h){var f=u[0],v=u[1];u[2],f===e&&v===i&&(a=!0),h.done()}).next(function(){return a})}function bs(t){return Kr(t,ze.store)}function Al(t){return Kr(t,ar.store)}function ZU(t){return Kr(t,Xs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nm=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),vnt=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new Nm(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return le.fromTimestamp(new Hr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return El(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return Jt(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return El(e).$t(function(u,c){var h=pf(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(o++,a.push(i.removeTargetData(e,h)))}).next(function(){return Ot.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return El(e).$t(function(r,i){var o=pf(i);n(o)})},t.prototype.Xt=function(e){return rD(e).get(Zr.key).next(function(n){return Jt(n!==null),n})},t.prototype.Zt=function(e,n){return rD(e).put(Zr.key,n)},t.prototype.te=function(e,n){return El(e).put(qU(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=vp(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return El(e).$t({range:i,index:Br.queryTargetsIndexName},function(a,u,c){var h=pf(u);l0(n,h.target)&&(o=h,c.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=Rs(e);return n.forEach(function(u){var c=to(u.path);o.push(a.put(new Kn(r,c))),o.push(i.referenceDelegate.addReference(e,r,u))}),Ot.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=Rs(e);return Ot.forEach(n,function(a){var u=to(a.path);return Ot.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Rs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Rs(e),o=Re();return i.$t({range:r,Ft:!0},function(a,u,c){var h=Wo(a[1]),f=new Xt(h);o=o.add(f)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=to(n.path),i=IDBKeyRange.bound([r],[hU(r)],!1,!0),o=0;return Rs(e).$t({index:Kn.documentTargetsIndex,Ft:!0,range:i},function(a,u,c){var h=a[0];a[1],h!==0&&(o++,c.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return El(e).get(n).next(function(r){return r?pf(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return Kr(t,Br.store)}function rD(t){return Kr(t,Zr.store)}function Rs(t){return Kr(t,Kn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){if(t.code!==_t.FAILED_PRECONDITION||t.message!==HU)throw t;return Dt("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=de(n,i);return a===0?de(r,o):a}var gnt=function(){function t(e){this.ne=e,this.buffer=new Tn(iD),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();iD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),mnt=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;Dt("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return pt(n,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return $u(i=o.sent())?(Dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Wu(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return o.sent(),[2]}})})})},t}(),ynt=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return Ot.resolve(ri.o);var i=new gnt(n);return this.ae.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve(nD)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),nD):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,u,c,h,f=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(g){return g>f.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+g),i=f.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),f.nthSequenceNumber(e,i)}).next(function(g){return r=g,u=Date.now(),f.removeTargets(e,r,n)}).next(function(g){return o=g,c=Date.now(),f.removeOrphanedDocuments(e,r)}).next(function(g){return h=Date.now(),NS()<=ce.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(u-a)+`ms
	Removed `+o+" targets in "+(c-u)+`ms
	Removed `+g+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),Ot.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})})},t}(),wnt=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new ynt(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return Zv(e,r)},t.prototype.removeReference=function(e,n,r){return Zv(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return Zv(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return ZU(r).Ot(function(a){return JU(r,a,i).next(function(u){return u&&(o=!0),Ot.resolve(!u)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(u,c){if(c<=n){var h=r._e(e,u).next(function(f){if(!f)return a++,i.getEntry(e,u).next(function(){return i.removeEntry(u),Rs(e).delete([0,to(u.path)])})});o.push(h)}}).next(function(){return Ot.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return Zv(e,n)},t.prototype.we=function(e,n){var r,i=Rs(e),o=ri.o;return i.$t({index:Kn.documentTargetsIndex},function(a,u){var c=a[0];a[1];var h=u.path,f=u.sequenceNumber;c===0?(o!==ri.o&&n(new Xt(Wo(r)),o),o=f,r=h):o=ri.o}).next(function(){o!==ri.o&&n(new Xt(Wo(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Zv(t,e){return Rs(t).put(function(n,r){return new Kn(0,to(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qc=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];if(this.equalsFn(u,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){zu(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],u=a[0],c=a[1];e(u,c)}})},t.prototype.isEmpty=function(){return fU(this.inner)},t}(),t4=function(){function t(){this.changes=new Qc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:le.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Zn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?Ot.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),xnt=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Cs(e).put(tg(n),r)},t.prototype.removeEntry=function(e,n){var r=Cs(e),i=tg(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return Cs(e).get(tg(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return Cs(e).get(tg(n)).next(function(i){return{document:r.ye(n,i),size:Mm(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=Ci();return this.pe(e,n,function(o,a){var u=r.ye(o,a);i=i.insert(o,u)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=Ci(),o=new vr(Xt.comparator);return this.pe(e,n,function(a,u){var c=r.ye(a,u);i=i.insert(a,c),o=o.insert(a,Mm(u))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return Ot.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return Cs(e).$t({range:i},function(u,c,h){for(var f=Xt.fromSegments(u);a&&Xt.comparator(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=Ci(),a=n.path.length+1,u={};if(r.isEqual(le.min())){var c=n.path.toArray();u.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),f=Yk(r);u.range=IDBKeyRange.lowerBound([h,f],!0),u.index=on.collectionReadTimeIndex}return Cs(e).$t(u,function(v,g,x){if(v.length===a){var m=zS(i.R,g);n.path.isPrefixOf(m.key.path)?mp(n,m)&&(o=o.insert(m.key,m)):x.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new bnt(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return oD(e).get(mo.key).next(function(n){return Jt(!!n),n})},t.prototype.me=function(e,n){return oD(e).put(mo.key,n)},t.prototype.ye=function(e,n){if(n){var r=zS(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(le.min()))return r}return Zn.newInvalidDocument(e)},t}(),bnt=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Qc(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return jt(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new Tn(function(u,c){return de(u.canonicalString(),c.canonicalString())});return this.changes.forEach(function(u,c){var h=r.Ae.get(u);if(c.document.isValidDocument()){var f=JN(r.Ie.R,c.document,r.getReadTime(u));a=a.add(u.path.popLast());var v=Mm(f);o+=v-h,i.push(r.Ie.addEntry(n,u,f))}else if(o-=h,r.trackRemovals){var g=JN(r.Ie.R,Zn.newNoDocument(u,le.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,g))}else i.push(r.Ie.removeEntry(n,u))}),a.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),Ot.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(u,c){i.Ae.set(u,c)}),a})},e}(t4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){return Kr(t,mo.store)}function Cs(t){return Kr(t,on.store)}function tg(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _nt=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;Jt(r<i&&r>=0&&i<=11);var a=new KU("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Jr.store)}(e),function(c){c.createObjectStore(Xs.store,{keyPath:Xs.keyPath}),c.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0}),c.createObjectStore(ar.store)}(e),sD(e),function(c){c.createObjectStore(on.store)}(e));var u=Ot.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Kn.store),c.deleteObjectStore(Br.store),c.deleteObjectStore(Zr.store)}(e),sD(e)),u=u.next(function(){return function(c){var h=c.store(Zr.store),f=new Zr(0,0,le.min().toTimestamp(),0);return h.put(Zr.key,f)}(a)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(c,h){return h.store(ze.store).Nt().next(function(f){c.deleteObjectStore(ze.store),c.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0});var v=h.store(ze.store),g=f.map(function(x){return v.put(x)});return Ot.waitFor(g)})}(e,a)})),u=u.next(function(){(function(c){c.createObjectStore(Ko.store,{keyPath:Ko.keyPath})})(e)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(a)})),r<6&&i>=6&&(u=u.next(function(){return function(c){c.createObjectStore(mo.store)}(e),o.be(a)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(a)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(u=u.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var h=c.objectStore(on.store);h.createIndex(on.readTimeIndex,on.readTimeIndexPath,{unique:!1}),h.createIndex(on.collectionReadTimeIndex,on.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(a)})),r<11&&i>=11&&(u=u.next(function(){(function(c){c.createObjectStore(Tc.store,{keyPath:Tc.keyPath})})(e),function(c){c.createObjectStore(kc.store,{keyPath:kc.keyPath})}(e)})),u},t.prototype.be=function(e){var n=0;return e.store(on.store).$t(function(r,i){n+=Mm(i)}).next(function(){var r=new mo(n);return e.store(mo.store).put(mo.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(Xs.store),i=e.store(ze.store);return r.Nt().next(function(o){return Ot.forEach(o,function(a){var u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(ze.userMutationsIndex,u).next(function(c){return Ot.forEach(c,function(h){Jt(h.userId===a.userId);var f=Il(n.R,h);return QU(e,a.userId,f).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Kn.store),r=e.store(on.store);return e.store(Zr.store).get(Zr.key).next(function(i){var o=[];return r.$t(function(a,u){var c=new Ee(a),h=function(f){return[0,to(f)]}(c);o.push(n.get(h).next(function(f){return f?Ot.resolve():function(v){return n.put(new Kn(0,to(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return Ot.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(cu.store,{keyPath:cu.keyPath});var r=n.store(cu.store),i=new Qk,o=function(a){if(i.add(a)){var u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:to(c)})}};return n.store(on.store).$t({Ft:!0},function(a,u){var c=new Ee(a);return o(c.popLast())}).next(function(){return n.store(ar.store).$t({Ft:!0},function(a,u){a[0];var c=a[1];a[2];var h=Wo(c);return o(h.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Br.store);return r.$t(function(i,o){var a=pf(o),u=qU(n.R,a);return r.put(u)})},t}();function sD(t){t.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.documentTargetsIndex,Kn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Br.store,{keyPath:Br.keyPath}).createIndex(Br.queryTargetsIndexName,Br.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Zr.store)}var _1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Snt=function(){function t(e,n,r,i,o,a,u,c,h,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=h,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new Rt(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wnt(this,i),this.Le=n+"main",this.R=new XU(c),this.Be=new Cc(this.Le,11,new _nt(this.R)),this.qe=new vnt(this.referenceDelegate,this.R),this.Ut=new dnt,this.Ue=function(v,g){return new xnt(v,g)}(this.R,this.Ut),this.Ke=new hnt,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,f===!1&&vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Rt(_t.FAILED_PRECONDITION,_1);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new ri(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return pt(n,void 0,void 0,function(){return dt(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return pt(n,void 0,void 0,function(){return dt(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return pt(n,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return eg(n).put(new Ko(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if($u(n))return Dt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return Dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return nf(e).get(Jr.key).next(function(r){return Ot.resolve(n.tn(r))})},t.prototype.en=function(e){return eg(e).delete(this.clientId)},t.prototype.nn=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o=this;return dt(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var c=Kr(u,Ko.store);return c.Nt().next(function(h){var f=o.rn(h,18e5),v=h.filter(function(g){return f.indexOf(g)===-1});return Ot.forEach(v,function(g){return c.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?Ot.resolve(!0):nf(e).get(Jr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Rt(_t.FAILED_PRECONDITION,_1);return!1}}return!(!n.networkEnabled||!n.inForeground)||eg(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||u&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Dt("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return pt(this,void 0,void 0,function(){var e=this;return dt(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jr.store,Ko.store],function(r){var i=new QN(r,ri.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return eg(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return pnt.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Dt("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,ant,function(u){return o=new QN(u,i.Ne?i.Ne.next():ri.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw vn("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Rt(_t.FAILED_PRECONDITION,HU);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},t.prototype.dn=function(e){var n=this;return nf(e).get(Jr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Rt(_t.FAILED_PRECONDITION,_1)})},t.prototype.Ze=function(e){var n=new Jr(this.clientId,this.allowTabSynchronization,Date.now());return nf(e).put(Jr.key,n)},t.yt=function(){return Cc.yt()},t.prototype.Xe=function(e){var n=this,r=nf(e);return r.get(Jr.key).next(function(i){return n.tn(i)?(Dt("IndexedDbPersistence","Releasing primary lease."),r.delete(Jr.key)):Ot.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(vn("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),o9()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return Dt("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return vn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){vn("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function nf(t){return Kr(t,Jr.store)}function eg(t){return Kr(t,Ko.store)}function Jk(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ent=function(t,e){this.progress=t,this.wn=e},e4=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return Xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):Vk(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new Xt(n)).next(function(r){var i=BS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=BS();return this.Ut.getCollectionParents(e,o).next(function(u){return Ot.forEach(u,function(c){var h=function(f,v){return new as(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return i.An(e,h,r).next(function(f){f.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(u){return i=u,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(u){return o=u,a.Rn(e,o,i).next(function(c){i=c;for(var h=0,f=o;h<f.length;h++)for(var v=f[h],g=0,x=v.mutations;g<x.length;g++){var m=x[g],E=m.key,R=i.get(E);R==null&&(R=Zn.newInvalidDocument(E),i=i.insert(E,R)),jS(m,R,v.localWriteTime),R.isFoundDocument()||(i=i.remove(E))}})}).next(function(){return i.forEach(function(u,c){mp(n,c)||(i=i.remove(u))}),i})},t.prototype.Rn=function(e,n,r){for(var i=Re(),o=0,a=n;o<a.length;o++)for(var u=0,c=a[o].mutations;u<c.length;u++){var h=c[u];h instanceof fa&&r.get(h.key)===null&&(i=i.add(h.key))}var f=r;return this.Ue.getEntries(e,i).next(function(v){return v.forEach(function(g,x){x.isFoundDocument()&&(f=f.insert(g,x))}),f})},t}(),Tnt=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=Re(),i=Re(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),n4=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(le.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var u=o.Cn(n,a);return(Sg(n)||Rm(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(e,n):(NS()<=ce.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),FS(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(c){return u.forEach(function(h){c=c.insert(h.key,h)}),c}))})},t.prototype.Cn=function(e,n){var r=new Tn(bU(e));return n.forEach(function(i,o){mp(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return NS()<=ce.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",FS(n)),this.Sn.getDocumentsMatchingQuery(e,n,le.min())},t}(),knt=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new vr(de),this.Fn=new Qc(function(o){return vp(o)},l0),this.$n=le.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new e4(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e,n,r){return new knt(t,e,n,r)}function i4(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return n=Ft(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var c;return n._n.getAllMutationBatches(u).next(function(h){return c=h,r=n.persistence.getMutationQueue(e),i=new e4(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(h){for(var f=[],v=[],g=Re(),x=0,m=c;x<m.length;x++){var E=m[x];f.push(E.batchId);for(var R=0,C=E.mutations;R<C.length;R++){var _=C[R];g=g.add(_.key)}}for(var T=0,L=h;T<L.length;T++){var j=L[T];v.push(j.batchId);for(var z=0,$=j.mutations;z<$.length;z++){var D=$[z];g=g.add(D.key)}}return i.pn(u,g).next(function(P){return{Ln:P,removedBatchIds:f,addedBatchIds:v}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Cnt(t,e){var n=Ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){var f=c.batch,v=f.keys(),g=Ot.resolve();return v.forEach(function(x){g=g.next(function(){return h.getEntry(u,x)}).next(function(m){var E=c.docVersions.get(x);Jt(E!==null),m.version.compareTo(E)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&h.addEntry(m,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(u,f)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function o4(t){var e=Ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function Int(t,e){var n=Ft(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];e.targetChanges.forEach(function(f,v){var g=i.get(v);if(g){u.push(n.qe.removeMatchingKeys(o,f.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(o,f.addedDocuments,v)}));var x=f.resumeToken;if(x.approximateByteSize()>0){var m=g.withResumeToken(x,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(v,m),function(E,R,C){return Jt(R.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,m,f)&&u.push(n.qe.updateTargetData(o,m))}}});var c=Ci();if(e.documentUpdates.forEach(function(f,v){e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),u.push(s4(o,a,e.documentUpdates,r,void 0).next(function(f){c=f})),!r.isEqual(le.min())){var h=n.qe.getLastRemoteSnapshotVersion(o).next(function(f){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(h)}return Ot.waitFor(u).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.kn=i,o})}function s4(t,e,n,r,i){var o=Re();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var u=Ci();return n.forEach(function(c,h){var f=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(le.min())?(e.removeEntry(c,v),u=u.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h,v),u=u.insert(c,h)):Dt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),u})}function Ant(t,e){var n=Ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Pc(t,e){var n=Ft(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,Ot.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new d0(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Rc(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:r=Ft(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!$u(a=u.sent()))throw a;return Dt("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Dm(t,e,n){var r=Ft(t),i=le.min(),o=Re();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(u,c,h){var f=Ft(u),v=f.Fn.get(h);return v!==void 0?Ot.resolve(f.kn.get(v)):f.qe.getTargetData(c,h)}(r,a,Mi(e)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,u.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:le.min(),n?o:Re())}).next(function(u){return{documents:u,Bn:o}})})}function a4(t,e){var n=Ft(t),r=Ft(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function u4(t){var e=Ft(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=Ft(r),u=Ci(),c=Yk(o),h=Cs(i),f=IDBKeyRange.lowerBound(c,!0);return h.$t({index:on.readTimeIndex,range:f},function(v,g){var x=zS(a.R,g);u=u.insert(x.key,x),c=g.readTime}).next(function(){return{wn:u,readTime:YU(c)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function Pnt(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){return[2,(e=Ft(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Cs(i),a=le.min();return o.$t({index:on.readTimeIndex,reverse:!0},function(u,c,h){c.readTime&&(a=YU(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}function Rnt(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v,g,x;return dt(this,function(m){switch(m.label){case 0:for(i=Ft(t),o=Re(),a=Ci(),u=OU(),c=0,h=n;c<h.length;c++)f=h[c],v=e.qn(f.metadata.name),f.document&&(o=o.add(v)),a=a.insert(v,e.Un(f)),u=u.insert(v,e.Kn(f.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,Pc(i,function(E){return Mi(qc(Ee.fromString("__bundle__/docs/"+E)))}(r))];case 1:return x=m.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return s4(E,g,a,le.min(),u).next(function(R){return g.apply(E),R}).next(function(R){return i.qe.removeMatchingKeysForTargetId(E,x.targetId).next(function(){return i.qe.addMatchingKeys(E,o,x.targetId)}).next(function(){return i.Mn.En(E,R)}).next(function(){return R})})})]}})})}function Ont(t,e,n){return n===void 0&&(n=Re()),pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return[4,Pc(t,Mi(qk(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ft(t)).persistence.runTransaction("Save named query","readwrite",function(a){var u=Dn(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ke.saveNamedQuery(a,e);var c=r.withResumeToken(Ir.EMPTY_BYTE_STRING,u);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mnt=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return Ot.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dn(r.createTime)}),Ot.resolve()},t.prototype.getNamedQuery=function(e,n){return Ot.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:qk(r.bundledQuery),readTime:Dn(r.readTime)}}(n)),Ot.resolve()},t}(),Zk=function(){function t(){this.Wn=new Tn(An.Gn),this.zn=new Tn(An.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new An(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new An(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new Xt(new Ee([])),i=new An(r,e),o=new An(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),a.push(u.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new Xt(new Ee([])),r=new An(n,e),i=new An(n,e+1),o=Re();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new An(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),An=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return Xt.comparator(e.key,n.key)||de(e.ns,n.ns)},t.Hn=function(e,n){return de(e.ns,n.ns)||Xt.comparator(e.key,n.key)},t}(),Nnt=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Tn(An.Gn)}return t.prototype.checkEmpty=function(e){return Ot.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Xk(o,n,r,i);this._n.push(a);for(var u=0,c=i;u<c.length;u++){var h=c[u];this.rs=this.rs.add(new An(h.key,o)),this.Ut.addToCollectionParentIndex(e,h.key.path.popLast())}return Ot.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return Ot.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return Ot.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ot.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Ot.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new An(n,0),o=new An(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(u){var c=r.os(u.ns);a.push(c)}),Ot.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Tn(de);return n.forEach(function(o){var a=new An(o,0),u=new An(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,u],function(c){i=i.add(c.ns)})}),Ot.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;Xt.isDocumentKey(o)||(o=o.child(""));var a=new An(new Xt(o),0),u=new Tn(de);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.ns)),!0)},a),Ot.resolve(this.us(u))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;Jt(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return Ot.forEach(n.mutations,function(o){var a=new An(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new An(n,0),i=this.rs.firstAfterOrEqual(r);return Ot.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,Ot.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),Dnt=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new vr(Xt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return Ot.resolve(r?r.document.clone():Zn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=Ci();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():Zn.newInvalidDocument(o))}),Ot.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=Ci(),o=new Xt(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var u=a.getNext(),c=u.key,h=u.value,f=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||mp(n,f)&&(i=i.insert(f.key,f.clone()))}return Ot.resolve(i)},t.prototype.fs=function(e,n){return Ot.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new Lnt(this)},t.prototype.getSize=function(e){return Ot.resolve(this.size)},t}(),Lnt=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return jt(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),Ot.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(t4),Fnt=function(){function t(e){this.persistence=e,this.ds=new Qc(function(n){return vp(n)},l0),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ws=0,this._s=new Zk,this.targetCount=0,this.ys=Nm.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),Ot.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Ot.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Ot.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ot.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),Ot.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new Nm(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,Ot.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),Ot.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Ot.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(u,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(u),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),Ot.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return Ot.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return Ot.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),Ot.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),Ot.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),Ot.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return Ot.resolve(r)},t.prototype.containsKey=function(e,n){return Ot.resolve(this._s.containsKey(n))},t}(),jnt=function(){function t(e,n){var r=this;this.gs={},this.Ne=new ri(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Fnt(this),this.Ut=new fnt,this.Ue=function(i,o){return new Dnt(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new XU(n),this.Ke=new Mnt(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new Nnt(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;Dt("MemoryPersistence","Starting transaction:",e);var o=new Bnt(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return Ot.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),Bnt=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return jt(e,t),e}(GU),Unt=function(){function t(e){this.persistence=e,this.As=new Zk,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Gt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),Ot.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),Ot.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),Ot.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.vs,function(i){var o=Xt.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return Ot.or([function(){return Ot.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),Wn=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e){return"firestore_clients_"+t+"_"+e}function uD(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function S1(t,e){return"firestore_targets_"+t+"_"+e}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");var lD=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Rt(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(vn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),E1=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new Rt(i.error.code,i.error.message)),o?new t(e,i.state,r):(vn("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),cD=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=f0(),a=0;i&&a<r.activeTargetIds.length;++a)i=vU(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(vn("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),znt=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(vn("SharedClientState","Failed to parse online state: "+e),null)},t}(),VS=function(){function t(){this.activeTargetIds=f0()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),T1=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new vr(de),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=aD(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new VS),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,h,f,v,g=this;return dt(this,function(x){switch(x.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=x.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(aD(this.persistenceKey,i)))&&(a=cD.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(c=this.js(u))&&this.Ws(c),h=0,f=this.$s;h<f.length;h++)v=f[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(S1(this.persistenceKey,e));if(r){var i=E1.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(S1(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return Dt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){Dt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){Dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(Dt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return pt(n,void 0,void 0,function(){var i,o,a,u,c,h;return dt(this,function(f){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var g=ri.o;if(v!=null)try{var x=JSON.parse(v);Jt(typeof x=="number"),g=x}catch(m){vn("SharedClientState","Failed to read sequence number from WebStorage",m)}return g}(r.newValue))!==ri.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new lD(this.currentUser,e,n,r),o=uD(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=uD(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=S1(this.persistenceKey,e),o=new E1(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return cD.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return lD.Vs(new Wn(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return E1.Vs(i,n)},t.prototype.js=function(e){return znt.Vs(e)},t.prototype.ii=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Dt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(i),u=[],c=[];return a.forEach(function(h){o.has(h)||u.push(h)}),o.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(u,c).then(function(){r.Fs=i})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=f0();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),l4=function(){function t(){this.li=new VS,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new VS,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),Vnt=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),hD=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),$nt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wnt=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),Hnt=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return jt(e,t),e.prototype.Fi=function(n,r,i,o){return new Promise(function(a,u){var c=new bet;c.listenOnce(yet.COMPLETE,function(){try{switch(c.getLastErrorCode()){case b1.NO_ERROR:var f=c.getResponseJson();Dt("Connection","XHR received:",JSON.stringify(f)),a(f);break;case b1.TIMEOUT:Dt("Connection",'RPC "'+n+'" timed out'),u(new Rt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case b1.HTTP_ERROR:var v=c.getStatus();if(Dt("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var x=function(m){var E=m.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(E)>=0?E:_t.UNKNOWN}(g.status);u(new Rt(x,g.message))}else u(new Rt(_t.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Rt(_t.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{Dt("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(o);c.send(r,"POST",h,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=get(),a=met(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new xet({})),this.ki(u.initMessageHeaders,r),TT()||Ij()||n9()||r9()||i9()||kT()||(u.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");Dt("Connection","Creating WebChannel: "+c,u);var h=o.createWebChannel(c,u),f=!1,v=!1,g=new Wnt({Ei:function(m){v?Dt("Connection","Not sending because WebChannel is closed:",m):(f||(Dt("Connection","Opening WebChannel transport."),h.open(),f=!0),Dt("Connection","WebChannel sending:",m),h.send(m))},Ti:function(){return h.close()}}),x=function(m,E,R){m.listen(E,function(C){try{R(C)}catch(_){setTimeout(function(){throw _},0)}})};return x(h,Qv.EventType.OPEN,function(){v||Dt("Connection","WebChannel transport opened.")}),x(h,Qv.EventType.CLOSE,function(){v||(v=!0,Dt("Connection","WebChannel transport closed"),g.Vi())}),x(h,Qv.EventType.ERROR,function(m){v||(v=!0,yd("Connection","WebChannel transport errored:",m),g.Vi(new Rt(_t.UNAVAILABLE,"The operation could not be completed")))}),x(h,Qv.EventType.MESSAGE,function(m){var E;if(!v){var R=m.data[0];Jt(!!R);var C=R,_=C.error||((E=C[0])===null||E===void 0?void 0:E.error);if(_){Dt("Connection","WebChannel received error:",_);var T=_.status,L=function(z){var $=fn[z];if($!==void 0)return RU($)}(T),j=_.message;L===void 0&&(L=_t.INTERNAL,j="Unknown error status: "+T+" with message "+_.message),v=!0,g.Vi(new Rt(L,j)),h.close()}else Dt("Connection","WebChannel received:",R),g.Si(R)}}),x(a,wet.STAT_EVENT,function(m){m.stat===IN.PROXY?Dt("Connection","Detected buffering proxy"):m.stat===IN.NOPROXY&&Dt("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);Dt("RestConnection","Sending: ",o,r);var a={};return this.ki(a,i),this.Fi(e,o,a,r).then(function(u){return Dt("RestConnection","Received: ",u),u},function(u){throw yd("RestConnection",e+" failed with error: ",u,"url: ",o,"request:",r),u})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=$nt[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return typeof window<"u"?window:null}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){return new qet(t,!0)}var tC=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&Dt("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),h4=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new tC(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return pt(this,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===_t.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===_t.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new Rt(_t.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return pt(e,void 0,void 0,function(){return dt(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return Dt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Gnt=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,u}return jt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var u;if("targetChange"in a){a.targetChange;var c=function(R){return R==="NO_CHANGE"?0:R==="ADD"?1:R==="REMOVE"?2:R==="CURRENT"?3:R==="RESET"?4:Gt()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],f=function(R,C){return R.I?(Jt(C===void 0||typeof C=="string"),Ir.fromBase64String(C||"")):(Jt(C===void 0||C instanceof Uint8Array),Ir.fromUint8Array(C||new Uint8Array))}(o,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(R){var C=R.code===void 0?_t.UNKNOWN:RU(R.code);return new Rt(C,R.message||"")}(g);u=new NU(c,h,f,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=bo(o,c.document.name),f=Dn(c.document.updateTime);var g=new ei({mapValue:{fields:c.document.fields}}),x=(v=Zn.newFoundDocument(h,f,g),c.targetIds||[]),m=c.removedTargetIds||[];u=new Tg(x,m,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=bo(o,c.document),f=c.readTime?Dn(c.readTime):le.min(),g=Zn.newNoDocument(h,f),v=c.removedTargetIds||[],u=new Tg([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=bo(o,c.document),f=c.removedTargetIds||[],u=new Tg([],f,h,null);else{if(!("filter"in a))return Gt();a.filter;var E=a.filter;E.targetId,c=E.count||0,h=new zet(c),f=E.targetId,u=new MU(f,h)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return le.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?le.min():a.readTime?Dn(a.readTime):le.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=Ed(this.R),r.addTarget=function(o,a){var u,c=a.target;return(u=Am(c)?{documents:UU(o,c)}:{query:zU(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=DU(o,a.resumeToken):a.snapshotVersion.compareTo(le.min())>0&&(u.readTime=_d(o,a.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,a){var u=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gt()}}(0,a.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=Ed(this.R),r.removeTarget=n,this.cr(r)},e}(h4),Knt=function(t){function e(n,r,i,o,a){var u=this;return(u=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,u.gr=!1,u}return jt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Jt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(Jt(a!==void 0),o.map(function(u){return function(c,h){var f=c.updateTime?Dn(c.updateTime):Dn(h);return f.isEqual(le.min())&&(f=Dn(h)),new jet(f,c.transformResults||[])}(u,a)})):[]}(n.writeResults,n.commitTime),i=Dn(n.commitTime);return this.listener.Tr(i,r)}return Jt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Ed(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return Om(r.R,o)})};this.cr(i)},e}(h4),Xnt=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return jt(e,t),e.prototype.br=function(){if(this.Rr)throw new Rt(_t.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===_t.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Rt(_t.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===_t.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new Rt(_t.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Ynt=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(vn(n),this.Vr=!1):Dt("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),qnt=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return pt(o,void 0,void 0,function(){return dt(this,function(u){switch(u.label){case 0:return da(this)?(Dt("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return pt(this,void 0,void 0,function(){var h;return dt(this,function(f){switch(f.label){case 0:return(h=Ft(c)).Or.add(4),[4,Jc(h)];case 1:return f.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,_p(h)];case 2:return f.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new Ynt(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:if(!da(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Jc(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function p0(t,e){var n=Ft(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),rC(n)?nC(n):th(n).er()&&eC(n,e))}function Td(t,e){var n=Ft(t),r=th(n);n.$r.delete(e),r.er()&&f4(n,e),n.$r.size===0&&(r.er()?r.ir():da(n)&&n.Br.set("Unknown"))}function eC(t,e){t.qr.U(e.targetId),th(t).mr(e)}function f4(t,e){t.qr.U(e),th(t).yr(e)}function nC(t){t.qr=new Ket({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),th(t).start(),t.Br.Sr()}function rC(t){return da(t)&&!th(t).tr()&&t.$r.size>0}function da(t){return Ft(t).Or.size===0}function d4(t){t.qr=void 0}function Qnt(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){return t.$r.forEach(function(n,r){eC(t,n)}),[2]})})}function Jnt(t,e){return pt(this,void 0,void 0,function(){return dt(this,function(n){return d4(t),rC(t)?(t.Br.Nr(e),nC(t)):t.Br.set("Unknown"),[2]})})}function Znt(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o;return dt(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof NU&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(u,c){return pt(this,void 0,void 0,function(){var h,f,v,g;return dt(this,function(x){switch(x.label){case 0:h=c.cause,f=0,v=c.targetIds,x.label=1;case 1:return f<v.length?(g=v[f],u.$r.has(g)?[4,u.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:x.sent(),u.$r.delete(g),u.qr.removeTarget(g),x.label=3;case 3:x.label=4;case 4:return f++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Lm(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Tg?t.qr.X(e):e instanceof MU?t.qr.rt(e):t.qr.et(e),n.isEqual(le.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,o4(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(u,c){var h=u.qr.ut(c);return h.targetChanges.forEach(function(f,v){if(f.resumeToken.approximateByteSize()>0){var g=u.$r.get(v);g&&u.$r.set(v,g.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach(function(f){var v=u.$r.get(f);if(v){u.$r.set(f,v.withResumeToken(Ir.EMPTY_BYTE_STRING,v.snapshotVersion)),f4(u,f);var g=new d0(v.target,f,1,v.sequenceNumber);eC(u,g)}}),u.remoteSyncer.applyRemoteEvent(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Dt("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Lm(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Lm(t,e,n){return pt(this,void 0,void 0,function(){var r=this;return dt(this,function(i){switch(i.label){case 0:if(!$u(e))throw e;return t.Or.add(1),[4,Jc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return o4(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return pt(r,void 0,void 0,function(){return dt(this,function(o){switch(o.label){case 0:return Dt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.Or.delete(1),[4,_p(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function p4(t,e){return e().catch(function(n){return Lm(t,n,e)})}function Zc(t){return pt(this,void 0,void 0,function(){var e,n,r,i,o;return dt(this,function(a){switch(a.label){case 0:e=Ft(t),n=oa(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(u){return da(u)&&u.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ant(e.localStore,r)];case 3:return(i=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,c){u.Fr.push(c);var h=oa(u);h.er()&&h.pr&&h.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Lm(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return v4(e)&&g4(e),[2]}})})}function v4(t){return da(t)&&!oa(t).tr()&&t.Fr.length>0}function g4(t){oa(t).start()}function trt(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){return oa(t).Ar(),[2]})})}function ert(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){for(e=oa(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function nrt(t,e,n){return pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=cnt.from(r,e,n),[4,p4(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Zc(t)];case 2:return o.sent(),[2]}})})}function rrt(t,e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return e&&oa(t).pr?[4,function(r,i){return pt(this,void 0,void 0,function(){var o,a;return dt(this,function(u){switch(u.label){case 0:return PU(a=i.code)&&a!==_t.ABORTED?(o=r.Fr.shift(),oa(r).sr(),[4,p4(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,Zc(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return v4(t)&&g4(t),[2]}})})}function $S(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return n=Ft(t),e?(n.Or.delete(2),[4,_p(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Jc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function th(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=Ft(n);return o.br(),new Gnt(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:Qnt.bind(null,t),Ri:Jnt.bind(null,t),_r:Znt.bind(null,t)}),t.Mr.push(function(n){return pt(e,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),rC(t)?nC(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),d4(t),r.label=3;case 3:return[2]}})})})),t.Ur}function oa(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var o=Ft(n);return o.br(),new Knt(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:trt.bind(null,t),Ri:rrt.bind(null,t),Ir:ert.bind(null,t),Tr:nrt.bind(null,t)}),t.Mr.push(function(n){return pt(e,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,Zc(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(Dt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var irt=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function eh(t,e){if(vn("AsyncQueue",e+": "+t),$u(t))return new Rt(_t.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m4=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||Xt.comparator(n.key,r.key)}:function(n,r){return Xt.comparator(n.key,r.key)},this.keyedMap=BS(),this.sortedSet=new vr(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),fD=function(){function t(){this.Qr=new vr(Xt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):Gt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),Fm=function(){function t(e,n,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,m4.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),ort=function(){this.Wr=void 0,this.listeners=[]},srt=function(){this.queries=new Qc(function(t){return xU(t)},gp),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:if(n=Ft(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ort),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return u=h.sent(),c=eh(u,"Initialization of query '"+FS(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&sC(n),[2]}})})}function oC(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){return n=Ft(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function art(t,e){for(var n=Ft(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=a.query,c=n.queries.get(u);if(c){for(var h=0,f=c.listeners;h<f.length;h++)f[h].Hr(a)&&(r=!0);c.Wr=a}}r&&sC(n)}function urt(t,e,n){var r=Ft(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function sC(t){t.Gr.forEach(function(e){e.next()})}var aC=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new Fm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=Fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),lrt=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),dD=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return bo(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?BU(this.R,e.document,!1):Zn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return Dn(e)},t}(),crt=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=y4(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new dD(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var u=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var f=h[c],v=(n.get(f)||Re()).add(u);n.set(f,v)}}return n},t.prototype.complete=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return[4,Rnt(this.localStore,new dD(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,Ont(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ent(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w4=function(t){this.key=t},x4=function(t){this.key=t},b4=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Re(),this.mutatedKeys=Re(),this.lo=bU(e),this.fo=new m4(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new fD,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,u=o,c=!1,h=Sg(this.query)&&o.size===this.query.limit?o.last():null,f=Rm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(g,x){var m=o.get(g),E=mp(r.query,x)?x:null,R=!!m&&r.mutatedKeys.has(m.key),C=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),_=!1;m&&E?m.data.isEqual(E.data)?R!==C&&(i.track({type:3,doc:E}),_=!0):r.yo(m,E)||(i.track({type:2,doc:E}),_=!0,(h&&r.lo(E,h)>0||f&&r.lo(E,f)<0)&&(c=!0)):!m&&E?(i.track({type:0,doc:E}),_=!0):m&&!E&&(i.track({type:1,doc:m}),_=!0,(h||f)&&(c=!0)),_&&(E?(u=u.add(E),a=C?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),Sg(this.query)||Rm(this.query))for(;u.size>this.query.limit;){var v=Sg(this.query)?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:u,mo:i,Nn:c,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(f,v){return function(g,x){var m=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return m(g)-m(x)}(f.type,v.type)||i.lo(f.doc,v.doc)}),this.po(r);var u=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Fm(this.query,e.fo,o,a,e.mutatedKeys,c===0,h,!1),To:u}:{To:u}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fD,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Re(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new x4(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new w4(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Re();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return Fm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),hrt=function(t,e,n){this.query=t,this.targetId=e,this.view=n},frt=function(t){this.key=t,this.bo=!1},drt=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Qc(function(u){return xU(u)},gp),this.Vo=new Map,this.So=new Set,this.Do=new vr(Xt.comparator),this.Co=new Map,this.No=new Zk,this.xo={},this.ko=new Map,this.Fo=Nm.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function prt(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return n=fC(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Pc(n.localStore,Mi(e))];case 2:return a=c.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,uC(n,e,r,u==="current")];case 3:i=c.sent(),n.isPrimaryClient&&p0(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function uC(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:return t.Oo=function(v,g,x){return function(m,E,R,C){return pt(this,void 0,void 0,function(){var _,T,L;return dt(this,function(j){switch(j.label){case 0:return _=E.view._o(R),_.Nn?[4,Dm(m.localStore,E.query,!1).then(function(z){var $=z.documents;return E.view._o($,_)})]:[3,2];case 1:_=j.sent(),j.label=2;case 2:return T=C&&C.targetChanges.get(E.targetId),L=E.view.applyChanges(_,m.isPrimaryClient,T),[2,(WS(m,E.targetId,L.To),L.snapshot)]}})})}(t,v,g,x)},[4,Dm(t.localStore,e,!0)];case 1:return i=f.sent(),o=new b4(e,i.Bn),a=o._o(i.documents),u=Hk.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=o.applyChanges(a,t.isPrimaryClient,u),WS(t,n,c.To),h=new hrt(e,n,o),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function vrt(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return n=Ft(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!gp(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Rc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Td(n.remoteStore,r.targetId),Oc(n,r.targetId)}).catch(Wu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Oc(n,r.targetId),[4,Rc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function grt(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:r=dC(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(c,h){var f,v=Ft(c),g=Hr.now(),x=h.reduce(function(m,E){return m.add(E.key)},Re());return v.persistence.runTransaction("Locally write mutations","readwrite",function(m){return v.Mn.pn(m,x).next(function(E){f=E;for(var R=[],C=0,_=h;C<_.length;C++){var T=_[C],L=Uet(T,f.get(T.key));L!=null&&R.push(new fa(T.key,L,gU(L.value.mapValue),ur.exists(!0)))}return v._n.addMutationBatch(m,g,R,h)})}).then(function(m){return m.applyToLocalDocumentSet(f),{batchId:m.batchId,changes:f}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,f){var v=c.xo[c.currentUser.toKey()];v||(v=new vr(de)),v=v.insert(h,f),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,us(r,i.changes)];case 3:return u.sent(),[4,Zc(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=eh(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function _4(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:n=Ft(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Int(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var u=n.Co.get(a);u&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?Jt(u.bo):o.removedDocuments.size>0&&(Jt(u.bo),u.bo=!1))}),[4,us(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Wu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function pD(t,e,n){var r=Ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var u=a.view.zr(e);u.snapshot&&i.push(u.snapshot)}),function(o,a){var u=Ft(o);u.onlineState=a;var c=!1;u.queries.forEach(function(h,f){for(var v=0,g=f.listeners;v<g.length;v++)g[v].zr(a)&&(c=!0)}),c&&sC(u)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mrt(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return(r=Ft(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new vr(Xt.comparator)).insert(o,Zn.newNoDocument(o,le.min())),u=Re().add(o),c=new Wk(le.min(),new Map,new Tn(de),a,u),[4,_4(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),hC(r),[3,4];case 2:return[4,Rc(r.localStore,e,!1).then(function(){return Oc(r,e,n)}).catch(Wu)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function yrt(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:n=Ft(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Cnt(n.localStore,e)];case 2:return i=o.sent(),cC(n,r,null),lC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,us(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function wrt(t,e,n){return pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:r=Ft(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,u){var c=Ft(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var f;return c._n.lookupMutationBatch(h,u).next(function(v){return Jt(v!==null),f=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,f)})})}(r.localStore,e)];case 2:return i=o.sent(),cC(r,e,n),lC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,us(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function xrt(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:da((n=Ft(t)).remoteStore)||Dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(c){var h=Ft(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(f){return h._n.getHighestUnacknowledgedBatchId(f)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=eh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function lC(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function cC(t,e,n){var r=Ft(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Oc(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||S4(t,a)})}function S4(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Td(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),hC(t))}function WS(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof w4?(t.No.addReference(o.key,e),brt(t,o)):o instanceof x4?(Dt("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||S4(t,o.key)):Gt()}}function brt(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Dt("SyncEngine","New document in limbo: "+n),t.So.add(r),hC(t))}function hC(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Xt(Ee.fromString(e)),r=t.Fo.next();t.Co.set(r,new frt(n)),t.Do=t.Do.insert(n,r),p0(t.remoteStore,new d0(Mi(qc(n.path)),r,2,ri.o))}}function us(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return r=Ft(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,e,n).then(function(f){if(f){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,f.fromCache?"not-current":"current"),i.push(f);var v=Tnt.Pn(h.targetId,f);o.push(v)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(c,h){return pt(this,void 0,void 0,function(){var f,v,g,x,m,E,R,C,_;return dt(this,function(T){switch(T.label){case 0:f=Ft(c),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,f.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return Ot.forEach(h,function(j){return Ot.forEach(j.bn,function(z){return f.persistence.referenceDelegate.addReference(L,j.targetId,z)}).next(function(){return Ot.forEach(j.vn,function(z){return f.persistence.referenceDelegate.removeReference(L,j.targetId,z)})})})})];case 2:return T.sent(),[3,4];case 3:if(!$u(v=T.sent()))throw v;return Dt("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,x=h;g<x.length;g++)m=x[g],E=m.targetId,m.fromCache||(R=f.kn.get(E),C=R.snapshotVersion,_=R.withLastLimboFreeSnapshotVersion(C),f.kn=f.kn.insert(E,_));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function _rt(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return(n=Ft(t)).currentUser.isEqual(e)?[3,3]:(Dt("SyncEngine","User change. New user:",e.toKey()),[4,i4(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.ko.forEach(function(u){u.forEach(function(c){c.reject(new Rt(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,us(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Srt(t,e){var n=Ft(t),r=n.Co.get(e);if(r&&r.bo)return Re().add(r.key);var i=Re(),o=n.Vo.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var c=u[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function Ert(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,Dm((n=Ft(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&WS(n,e.targetId,i.To),i)]}})})}function Trt(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){return[2,u4((e=Ft(t)).localStore).then(function(r){return us(e,r)})]})})}function krt(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o;return dt(this,function(a){switch(a.label){case 0:return[4,function(u,c){var h=Ft(u),f=Ft(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return f.jt(v,c).next(function(g){return g?h.Mn.pn(v,g):Ot.resolve(null)})})}((i=Ft(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Zc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(cC(i,e,r||null),lC(i,e),function(u,c){Ft(Ft(u)._n).Gt(c)}(i.localStore,e)):Gt(),a.label=4;case 4:return[4,us(i,o)];case 5:return a.sent(),[3,7];case 6:Dt("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Crt(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:return fC(n=Ft(t)),dC(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,vD(n,r.toArray())]);case 1:return i=f.sent(),n.$o=!0,[4,$S(n.remoteStore,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)u=a[o],p0(n.remoteStore,u);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):h=h.then(function(){return Oc(n,g),Rc(n.localStore,g,!0)}),Td(n.remoteStore,g)}),[4,h]);case 4:return f.sent(),[4,vD(n,c)];case 5:return f.sent(),function(v){var g=Ft(v);g.Co.forEach(function(x,m){Td(g.remoteStore,m)}),g.No.ts(),g.Co=new Map,g.Do=new vr(Xt.comparator)}(n),n.$o=!1,[4,$S(n.remoteStore,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}})})}function vD(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h,f,v,g,x,m,E,R;return dt(this,function(C){switch(C.label){case 0:r=Ft(t),i=[],o=[],a=0,u=e,C.label=1;case 1:return a<u.length?(c=u[a],h=void 0,(f=r.Vo.get(c))&&f.length!==0?[4,Pc(r.localStore,Mi(f[0]))]:[3,7]):[3,13];case 2:h=C.sent(),v=0,g=f,C.label=3;case 3:return v<g.length?(x=g[v],m=r.Po.get(x),[4,Ert(r,m)]):[3,6];case 4:(E=C.sent()).snapshot&&o.push(E.snapshot),C.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,a4(r.localStore,c)];case 8:return R=C.sent(),[4,Pc(r.localStore,R)];case 9:return h=C.sent(),[4,uC(r,E4(R),c,!1)];case 10:C.sent(),C.label=11;case 11:i.push(h),C.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function E4(t){return yU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Irt(t){var e=Ft(t);return Ft(Ft(e.localStore).persistence).fn()}function Art(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a;return dt(this,function(u){switch(u.label){case 0:return(i=Ft(t)).$o?(Dt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,u4(i.localStore)];case 3:return o=u.sent(),a=Wk.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,us(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,Rc(i.localStore,e,!0)];case 6:return u.sent(),Oc(i,e,r),[3,8];case 7:Gt(),u.label=8;case 8:return[2]}})})}function Prt(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h,f,v,g;return dt(this,function(x){switch(x.label){case 0:if(!(r=fC(t)).$o)return[3,10];i=0,o=e,x.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Dt("SyncEngine","Adding an already active target "+a),[3,5]):[4,a4(r.localStore,a)]):[3,6];case 2:return u=x.sent(),[4,Pc(r.localStore,u)];case 3:return c=x.sent(),[4,uC(r,E4(u),c.targetId,!1)];case 4:x.sent(),p0(r.remoteStore,c),x.label=5;case 5:return i++,[3,1];case 6:h=function(m){return dt(this,function(E){switch(E.label){case 0:return r.Vo.has(m)?[4,Rc(r.localStore,m,!1).then(function(){Td(r.remoteStore,m),Oc(r,m)}).catch(Wu)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},f=0,v=n,x.label=7;case 7:return f<v.length?(g=v[f],[5,h(g)]):[3,10];case 8:x.sent(),x.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function fC(t){var e=Ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Srt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mrt.bind(null,e),e.vo._r=art.bind(null,e.eventManager),e.vo.Mo=urt.bind(null,e.eventManager),e}function dC(t){var e=Ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yrt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wrt.bind(null,e),e}function Rrt(t,e,n){var r=Ft(t);(function(i,o,a){return pt(this,void 0,void 0,function(){var u,c,h,f,v,g;return dt(this,function(x){switch(x.label){case 0:return x.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return u=x.sent(),[4,function(m,E){var R=Ft(m),C=Dn(E.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",function(_){return R.Ke.getBundleMetadata(_,E.id)}).then(function(_){return!!_&&_.createTime.compareTo(C)>=0})}(i.localStore,u)];case 2:return x.sent()?[4,o.close()]:[3,4];case 3:return[2,(x.sent(),void a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(u)))];case 4:return a._updateProgress(y4(u)),c=new crt(u,i.localStore,o.R),[4,o.Lo()];case 5:h=x.sent(),x.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(f=x.sent())&&a._updateProgress(f),[4,o.Lo()];case 8:h=x.sent(),x.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=x.sent(),[4,us(i,v.wn,void 0)];case 12:return x.sent(),[4,function(m,E){var R=Ft(m);return R.persistence.runTransaction("Save bundle","readwrite",function(C){return R.Ke.saveBundleMetadata(C,E)})}(i.localStore,u)];case 13:return x.sent(),a._completeWith(v.progress),[3,15];case 14:return yd("SyncEngine","Loading bundle failed with "+(g=x.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var T4=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return this.R=bp(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return r4(this.persistence,new n4,e.initialUser,this.R)},t.prototype.qo=function(e){return new jnt(Unt.bs,this.R)},t.prototype.Bo=function(e){return new l4},t.prototype.terminate=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),k4=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return jt(e,t),e.prototype.initialize=function(n){return pt(this,void 0,void 0,function(){var r=this;return dt(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,Pnt(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,dC(this.Qo.syncEngine)];case 4:return i.sent(),[4,Zc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(n){return r4(this.persistence,new n4,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new mnt(r,n.asyncQueue)},e.prototype.qo=function(n){var r=Jk(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new Snt(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,c4(),kg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new l4},e}(T4),Ort=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return jt(e,t),e.prototype.initialize=function(n){return pt(this,void 0,void 0,function(){var r,i=this;return dt(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof T1?(this.sharedClientState.syncEngine={ui:krt.bind(null,r),ai:Art.bind(null,r),hi:Prt.bind(null,r),fn:Irt.bind(null,r),ci:Trt.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return pt(i,void 0,void 0,function(){return dt(this,function(u){switch(u.label){case 0:return[4,Crt(this.Qo.syncEngine,a)];case 1:return u.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=c4();if(!T1.yt(r))throw new Rt(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Jk(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new T1(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(k4),HS=function(){function t(){}return t.prototype.initialize=function(e,n){return pt(this,void 0,void 0,function(){var r=this;return dt(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return pD(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_rt.bind(null,this.syncEngine),[4,$S(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new srt},t.prototype.createDatastore=function(e){var n,r=bp(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new Hnt(n));return function(o,a,u){return new Xnt(o,a,u)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,u=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return pD(u.syncEngine,c,0)},a=hD.yt()?new hD:new Vnt,new qnt(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,u,c,h){var f=new drt(r,i,o,a,u,c);return h&&(f.$o=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return n=Ft(e),Dt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Jc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return pt(this,void 0,void 0,function(){return dt(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v0=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),Mrt=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new pr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new lrt(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),Nrt=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Rt(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return pt(this,void 0,void 0,function(){var u,c,h,f,v,g;return dt(this,function(x){switch(x.label){case 0:return u=Ft(o),c=Ed(u.R)+"/documents",h={documents:a.map(function(m){return Sd(u.R,m)})},[4,u.$i("BatchGetDocuments",c,h)];case 1:return f=x.sent(),v=new Map,f.forEach(function(m){var E=function(R,C){return"found"in C?function(_,T){Jt(!!T.found),T.found.name,T.found.updateTime;var L=bo(_,T.found.name),j=Dn(T.found.updateTime),z=new ei({mapValue:{fields:T.found.fields}});return Zn.newFoundDocument(L,j,z)}(R,C):"missing"in C?function(_,T){Jt(!!T.missing),Jt(!!T.readTime);var L=bo(_,T.missing),j=Dn(T.readTime);return Zn.newNoDocument(L,j)}(R,C):Gt()}(u.R,m);v.set(E.key.toString(),E)}),g=[],[2,(a.forEach(function(m){var E=v.get(m.toString());Jt(!!E),g.push(E)}),g)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new xp(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return pt(this,void 0,void 0,function(){var e,n=this;return dt(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=Xt.fromPath(o);n.mutations.push(new $k(a,n.precondition(a)))}),[4,function(i,o){return pt(this,void 0,void 0,function(){var a,u,c;return dt(this,function(h){switch(h.label){case 0:return a=Ft(i),u=Ed(a.R)+"/documents",c={writes:o.map(function(f){return Om(a.R,f)})},[4,a.Ni("Commit",u,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Gt();n=le.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Rt(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?ur.updateTime(n):ur.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(le.min()))throw new Rt(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(n)}return ur.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),Drt=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new tC(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return pt(e,void 0,void 0,function(){var n,r,i=this;return dt(this,function(o){return n=new Nrt(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(u){i.ic(u)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Vu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!PU(n)}return!1},t}(),Lrt=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Wn.UNAUTHENTICATED,this.clientId=cU.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return pt(i,void 0,void 0,function(){return dt(this,function(a){switch(a.label){case 0:return Dt("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Rt(_t.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return pt(e,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=eh(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e){return pt(this,void 0,void 0,function(){var n,r,i=this;return dt(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return pt(i,void 0,void 0,function(){return dt(this,function(u){switch(u.label){case 0:return r.isEqual(a)?[3,2]:[4,i4(e.localStore,a)];case 1:u.sent(),r=a,u.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function I4(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,pC(t)];case 1:return n=i.sent(),Dt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,u){return pt(this,void 0,void 0,function(){var c,h;return dt(this,function(f){switch(f.label){case 0:return(c=Ft(a)).asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials"),h=da(c),c.Or.add(3),[4,Jc(c)];case 1:return f.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(u)];case 2:return f.sent(),c.Or.delete(3),[4,_p(c)];case 3:return f.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function pC(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Dt("FirestoreClient","Using default OfflineComponentProvider"),[4,C4(t,new T4)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function g0(t){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Dt("FirestoreClient","Using default OnlineComponentProvider"),[4,I4(t,new HS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function mD(t){return pC(t).then(function(e){return e.persistence})}function vC(t){return pC(t).then(function(e){return e.localStore})}function yD(t){return g0(t).then(function(e){return e.remoteStore})}function gC(t){return g0(t).then(function(e){return e.syncEngine})}function Mc(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return[4,g0(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=prt.bind(null,e.syncEngine),n.onUnlisten=vrt.bind(null,e.syncEngine),n)]}})})}function wD(t,e,n){var r=this;n===void 0&&(n={});var i=new pr;return t.asyncQueue.enqueueAndForget(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return o=function(u,c,h,f,v){var g=new v0({next:function(m){c.enqueueAndForget(function(){return oC(u,x)});var E=m.docs.has(h);!E&&m.fromCache?v.reject(new Rt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&f&&f.source==="server"?v.reject(new Rt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(m)},error:function(m){return v.reject(m)}}),x=new aC(qc(h.path),g,{includeMetadataChanges:!0,so:!0});return iC(u,x)},[4,Mc(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function xD(t,e,n){var r=this;n===void 0&&(n={});var i=new pr;return t.asyncQueue.enqueueAndForget(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return o=function(u,c,h,f,v){var g=new v0({next:function(m){c.enqueueAndForget(function(){return oC(u,x)}),m.fromCache&&f.source==="server"?v.reject(new Rt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(m)},error:function(m){return v.reject(m)}}),x=new aC(h,g,{includeMetadataChanges:!0,so:!0});return iC(u,x)},[4,Mc(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Frt=function(t,e,n,r,i,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},jm=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bD=new Map,A4=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},_D=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Wn.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),jrt=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Brt=function(){function t(e){var n=this;this.currentUser=Wn.UNAUTHENTICATED,this.oc=new pr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){Dt("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(Dt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(Dt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Jt(typeof i.accessToken=="string"),new A4(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return pt(r,void 0,void 0,function(){return dt(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new Wn(e)},t}(),Urt=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),zrt=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new Urt(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Wn.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e,n){if(!n)throw new Rt(_t.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function yC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function P4(t,e,n,r){if(e===!0&&r===!0)throw new Rt(_t.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function SD(t){if(!Xt.isDocumentKey(t))throw new Rt(_t.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ED(t){if(Xt.isDocumentKey(t))throw new Rt(_t.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function m0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":Gt()}function _e(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=m0(t);throw new Rt(_t.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function TD(t,e){if(e<=0)throw new Rt(_t.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kD=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Rt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,P4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),kd=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kD({}),this._settingsFrozen=!1,e instanceof jm?(this._databaseId=e,this._credentials=new _D):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Rt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jm(r.options.projectId)}(e),this._credentials=new Brt(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Rt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Rt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kD(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new _D;switch(n.type){case"gapi":var r=n.client;return Jt(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zrt(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Rt(_t.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=bD.get(e))&&(Dt("ComponentProvider","Removing Datastore"),bD.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Ze=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ys(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Gr=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ys=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,qc(i))||this)._path=i,o.type="collection",o}return jt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ze(this.firestore,null,new Xt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=oe(t),mC("collection","path",e),t instanceof kd)return ED(n=Ee.fromString.apply(Ee,se([e],r))),new Ys(t,null,n);if(!(t instanceof Ze||t instanceof Ys))throw new Rt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ED(n=Ee.fromString.apply(Ee,se([t.path],r)).child(Ee.fromString(e))),new Ys(t.firestore,null,n)}function Cg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=oe(t),arguments.length===1&&(e=cU.u()),mC("doc","path",e),t instanceof kd)return SD(n=Ee.fromString.apply(Ee,se([e],r))),new Ze(t,null,new Xt(n));if(!(t instanceof Ze||t instanceof Ys))throw new Rt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SD(n=t._path.child(Ee.fromString.apply(Ee,se([e],r)))),new Ze(t.firestore,t instanceof Ys?t.converter:null,new Xt(n))}function O4(t,e){return t=oe(t),e=oe(e),(t instanceof Ze||t instanceof Ys)&&(e instanceof Ze||e instanceof Ys)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function M4(t,e){return t=oe(t),e=oe(e),t instanceof Gr&&e instanceof Gr&&t.firestore===e.firestore&&gp(t._query,e._query)&&t.converter===e.converter}var Vrt=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new tC(this,"async_queue_retry"),this.Ic=function(){var r=kg();r&&Dt("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new pr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return pt(this,void 0,void 0,function(){var e,n=this;return dt(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!$u(e=r.sent()))throw e;return Dt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,vn("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var o=irt.createAndSchedule(this,e,n,r,function(a){return i.vc(a)});return this.mc.push(o),o},t.prototype.Ac=function(){this.yc&&Gt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,u){return a.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Nc(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var $rt=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),Wrt=-1,cn=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new Vrt,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return jt(e,t),e.prototype._terminate=function(){return this._firestoreClient||N4(this),this._firestoreClient.terminate()},e}(kd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t._firestoreClient||N4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function N4(t){var e,n=t._freezeSettings(),r=function(i,o,a,u){return new Frt(i,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Lrt(t._credentials,t._queue,r)}function CD(t,e,n){var r=this,i=new pr;return t.asyncQueue.enqueue(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,C4(t,n)];case 1:return a.sent(),[4,I4(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===_t.FAILED_PRECONDITION||u.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function ID(t){if(t._initialized||t._terminated)throw new Rt(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new no(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Pu=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Ir.fromBase64String(e))}catch(n){throw new Rt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Ir.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Hu=function(t){this._methodName=t},y0=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Rt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return de(this._lat,e._lat)||de(this._long,e._long)},t}(),Hrt=/^__.*__$/,Grt=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new wp(e,this.data,n,this.fieldTransforms)},t}(),D4=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}var F4=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return Bm(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(L4(this.Nc)&&Hrt.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Krt=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||bp(e)}return t.prototype.Uc=function(e,n,r,i){return i===void 0&&(i=!1),new F4({Nc:e,methodName:n,qc:r,path:no.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Gu(t){var e=t._freezeSettings(),n=bp(t._databaseId);return new Krt(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w0(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);_C("Data must be an object, but it was:",a,r);var u,c,h=U4(r,a);if(o.merge)u=new wc(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var f=[],v=0,g=o.mergeFields;v<g.length;v++){var x=GS(e,g[v],n);if(!a.contains(x))throw new Rt(_t.INVALID_ARGUMENT,"Field '"+x+"' is specified in your field mask but missing from your input data.");V4(f,x)||f.push(x)}u=new wc(f),c=a.fieldTransforms.filter(function(m){return u.covers(m.field)})}else u=null,c=a.fieldTransforms;return new Grt(new ei(h),u,c)}var wC=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Hu);function j4(t,e,n){return new F4({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Xrt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype._toFieldTransform=function(n){return new yp(n.path,new Sc)},e.prototype.isEqual=function(n){return n instanceof e},e}(Hu),Yrt=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return jt(e,t),e.prototype._toFieldTransform=function(n){var r=j4(this,n,!0),i=this.Kc.map(function(a){return Ku(a,r)}),o=new Iu(i);return new yp(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Hu),qrt=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return jt(e,t),e.prototype._toFieldTransform=function(n){var r=j4(this,n,!0),i=this.Kc.map(function(a){return Ku(a,r)}),o=new Au(i);return new yp(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Hu),Qrt=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Qc=r,i}return jt(e,t),e.prototype._toFieldTransform=function(n){var r=new Ec(n.R,EU(n.R,this.Qc));return new yp(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Hu);function xC(t,e,n,r){var i=t.Uc(1,e,n);_C("Data must be an object, but it was:",i,r);var o=[],a=ei.empty();zu(r,function(c,h){var f=SC(e,c,n);h=oe(h);var v=i.Oc(f);if(h instanceof wC)o.push(f);else{var g=Ku(h,v);g!=null&&(o.push(f),a.set(f,g))}});var u=new wc(o);return new D4(a,u,i.fieldTransforms)}function bC(t,e,n,r,i,o){var a=t.Uc(1,e,n),u=[GS(e,r,n)],c=[i];if(o.length%2!=0)throw new Rt(_t.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<o.length;h+=2)u.push(GS(e,o[h])),c.push(o[h+1]);for(var f=[],v=ei.empty(),g=u.length-1;g>=0;--g)if(!V4(f,u[g])){var x=u[g],m=c[g];m=oe(m);var E=a.Oc(x);if(m instanceof wC)f.push(x);else{var R=Ku(m,E);R!=null&&(f.push(x),v.set(x,R))}}var C=new wc(f);return new D4(v,C,a.fieldTransforms)}function B4(t,e,n,r){return r===void 0&&(r=!1),Ku(n,t.Uc(r?4:3,e))}function Ku(t,e){if(z4(t=oe(t)))return _C("Unsupported field value:",e,t),U4(t,e);if(t instanceof Hu)return function(n,r){if(!L4(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,u=n;a<u.length;a++){var c=Ku(u[a],r.Mc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=oe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return EU(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Hr.fromDate(n);return{timestampValue:_d(r.R,i)}}if(n instanceof Hr)return i=new Hr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:_d(r.R,i)};if(n instanceof y0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pu)return{bytesValue:DU(r.R,n._byteString)};if(n instanceof Ze){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Gk(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+m0(n))}(t,e)}function U4(t,e){var n={};return fU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zu(t,function(r,i){var o=Ku(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function z4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Hr||t instanceof y0||t instanceof Pu||t instanceof Ze||t instanceof Hu)}function _C(t,e,n){if(!z4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=m0(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function GS(t,e,n){if((e=oe(e))instanceof _o)return e._internalPath;if(typeof e=="string")return SC(t,e);throw Bm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Jrt=new RegExp("[~\\*/\\[\\]]");function SC(t,e,n){if(e.search(Jrt)>=0)throw Bm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(_o.bind.apply(_o,se([void 0],e.split("."))))()._internalPath}catch{throw Bm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Bm(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new Rt(_t.INVALID_ARGUMENT,(u+=". ")+t+c)}function V4(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ze(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new Zrt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(Um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),Zrt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Cd);function Um(t,e){return typeof e=="string"?SC(t,e):e instanceof _o?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nu=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Xo=function(t){function e(n,r,i,o,a,u){var c=this;return(c=t.call(this,n,r,i,o,u)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return jt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Um("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(Cd),Ff=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Xo),Os=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nu(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new Ff(r._firestore,r._userDataWriter,i.key,i,new nu(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new Ff(r._firestore,r._userDataWriter,u.doc.key,u.doc,new nu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var c=new Ff(r._firestore,r._userDataWriter,u.doc.key,u.doc,new nu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,f=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(f=(a=a.add(u.doc)).indexOf(u.doc.key)),{type:tit(u.type),doc:c,oldIndex:h,newIndex:f}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function tit(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}function $4(t,e){return t instanceof Xo&&e instanceof Xo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Os&&e instanceof Os&&t._firestore===e._firestore&&M4(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){if(Rm(t)&&t.explicitOrderBy.length===0)throw new Rt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sp=function(){};function _s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var eit=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return jt(e,t),e.prototype._apply=function(n){var r=Gu(n.firestore),i=function(o,a,u,c,h,f,v){var g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Rt(_t.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+f+"' queries on FieldPath.documentId().");if(f==="in"||f==="not-in"){MD(v,f);for(var x=[],m=0,E=v;m<E.length;m++){var R=E[m];x.push(OD(c,o,R))}g={arrayValue:{values:x}}}else g=OD(c,o,v)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||MD(v,f),g=B4(u,"where",v,f==="in"||f==="not-in");var C=ii.create(h,f,g);return function(_,T){if(T.g()){var L=zk(_);if(L!==null&&!L.isEqual(T.field))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+T.field.toString()+"'");var j=Uk(_);j!==null&&G4(_,T.field,j)}var z=function($,D){for(var P=0,I=$.filters;P<I.length;P++){var A=I[P];if(D.indexOf(A.op)>=0)return A.op}return null}(_,function($){switch($){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(T.op));if(z!==null)throw z===T.op?new Rt(_t.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+T.op.toString()+"' filter."):new Rt(_t.INVALID_ARGUMENT,"Invalid query. You cannot use '"+T.op.toString()+"' filters with '"+z.toString()+"' filters.")}(o,C),C}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Gr(n.firestore,n.converter,function(o,a){var u=o.filters.concat([a]);return new as(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(Sp),nit=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return jt(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new Jl(o,a);return function(c,h){if(Uk(c)===null){var f=zk(c);f!==null&&G4(c,f,h.field)}}(i,u),u}(n._query,this.jc,this.zc);return new Gr(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new as(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(Sp),AD=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return jt(e,t),e.prototype._apply=function(n){return new Gr(n.firestore,n.converter,wU(n._query,this.Hc,this.Jc))},e}(Sp),PD=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return jt(e,t),e.prototype._apply=function(n){var r=H4(n,this.type,this.Yc,this.Xc);return new Gr(n.firestore,n.converter,function(i,o){return new as(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(Sp),RD=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return jt(e,t),e.prototype._apply=function(n){var r=H4(n,this.type,this.Yc,this.Xc);return new Gr(n.firestore,n.converter,function(i,o){return new as(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(Sp);function H4(t,e,n,r){if(n[0]=oe(n[0]),n[0]instanceof Cd)return function(o,a,u,c,h){if(!c)throw new Rt(_t.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var f=[],v=0,g=_c(o);v<g.length;v++){var x=g[v];if(x.field.isKeyField())f.push(Im(a,c.key));else{var m=c.data.field(x.field);if(Fk(m))throw new Rt(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){var E=x.field.canonicalString();throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}f.push(m)}}return new bd(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Gu(t.firestore);return function(o,a,u,c,h,f){var v=o.explicitOrderBy;if(h.length>v.length)throw new Rt(_t.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],x=0;x<h.length;x++){var m=h[x];if(v[x].field.isKeyField()){if(typeof m!="string")throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof m);if(!Vk(o)&&m.indexOf("/")!==-1)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+m+"' contains a slash.");var E=o.path.child(Ee.fromString(m));if(!Xt.isDocumentKey(E))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var R=new Xt(E);g.push(Im(a,R))}else{var C=B4(u,c,m);g.push(C)}}return new bd(g,f)}(t._query,t.firestore._databaseId,i,e,n,r)}function OD(t,e,n){if(typeof(n=oe(n))=="string"){if(n==="")throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vk(e)&&n.indexOf("/")!==-1)throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ee.fromString(n));if(!Xt.isDocumentKey(r))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Im(t,new Xt(r))}if(n instanceof Ze)return Im(t,n._key);throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+m0(n)+".")}function MD(t,e){if(!Array.isArray(t)||t.length===0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Rt(_t.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function G4(t,e,n){if(!n.isEqual(e))throw new Rt(_t.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EC=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),Cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Gt()}},t.prototype.convertObject=function(e,n){var r=this,i={};return zu(e.fields,function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new y0(dn(e.latitude),dn(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=pU(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wd(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=ia(e);return new Hr(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Ee.fromString(e);Jt(WU(r));var i=new jm(r.get(1),r.get(3)),o=new Xt(r.popFirst(5));return i.isEqual(n)||vn("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var rit=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return jt(e,t),e.prototype.convertBytes=function(n){return new Pu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},e}(EC),iit=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=Ms(e,this._firestore),o=x0(i.converter,n,r),a=w0(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ur.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,u=Ms(e,this._firestore);return a=typeof(n=oe(n))=="string"||n instanceof _o?bC(this._dataReader,"WriteBatch.update",u._key,n,r,i):xC(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(a.toMutation(u._key,ur.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ms(e,this._firestore);return this._mutations=this._mutations.concat(new xp(n._key,ur.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Rt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){if((t=oe(t)).firestore!==e)throw new Rt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return jt(e,t),e.prototype.convertBytes=function(n){return new Pu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ze(this.firestore,null,r)},e}(EC);function ND(t,e,n){t=_e(t,Ze);var r=_e(t.firestore,cn),i=x0(t.converter,e,n);return Ep(r,[w0(Gu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function DD(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=_e(t,Ze);var o=_e(t.firestore,cn),a=Gu(o);return Ep(o,[(typeof(e=oe(e))=="string"||e instanceof _o?bC(a,"updateDoc",t._key,e,n,r):xC(a,"updateDoc",t._key,e)).toMutation(t._key,ur.exists(!0))])}function K4(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=oe(t);var a={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||Nc(i[u])||(a=i[u],u++);var c,h,f,v={includeMetadataChanges:a.includeMetadataChanges};if(Nc(i[u])){var g=i[u];i[u]=(e=g.next)===null||e===void 0?void 0:e.bind(g),i[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[u+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(t instanceof Ze)h=_e(t.firestore,cn),f=qc(t._key.path),c={next:function(E){i[u]&&i[u](KS(h,t,E))},error:i[u+1],complete:i[u+2]};else{var x=_e(t,Gr);h=_e(x.firestore,cn),f=x._query;var m=new hu(h);c={next:function(E){i[u]&&i[u](new Os(h,m,x,E))},error:i[u+1],complete:i[u+2]},W4(t._query)}return function(E,R,C,_){var T=this,L=new v0(_),j=new aC(R,L,C);return E.asyncQueue.enqueueAndForget(function(){return pt(T,void 0,void 0,function(){var z;return dt(this,function($){switch($.label){case 0:return z=iC,[4,Mc(E)];case 1:return[2,z.apply(void 0,[$.sent(),j])]}})})}),function(){L.Wo(),E.asyncQueue.enqueueAndForget(function(){return pt(T,void 0,void 0,function(){var z;return dt(this,function($){switch($.label){case 0:return z=oC,[4,Mc(E)];case 1:return[2,z.apply(void 0,[$.sent(),j])]}})})})}}(Mn(h),f,v,c)}function Ep(t,e){return function(n,r){var i=this,o=new pr;return n.asyncQueue.enqueueAndForget(function(){return pt(i,void 0,void 0,function(){var a;return dt(this,function(u){switch(u.label){case 0:return a=grt,[4,gC(n)];case 1:return[2,a.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(Mn(t),e)}function KS(t,e,n){var r=n.docs.get(e._key),i=new hu(t);return new Xo(t,i,e._key,r,new nu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oit=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return jt(e,t),e.prototype.get=function(n){var r=this,i=Ms(n,this._firestore),o=new hu(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Xo(r._firestore,o,i._key,a._document,new nu(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gu(e)}return t.prototype.get=function(e){var n=this,r=Ms(e,this._firestore),i=new rit(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return Gt();var a=o[0];if(a.isFoundDocument())return new Cd(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Cd(n._firestore,i,r._key,null,r.converter);throw Gt()})},t.prototype.set=function(e,n,r){var i=Ms(e,this._firestore),o=x0(i.converter,n,r),a=w0(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,u=Ms(e,this._firestore);return a=typeof(n=oe(n))=="string"||n instanceof _o?bC(this._dataReader,"Transaction.update",u._key,n,r,i):xC(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,a),this},t.prototype.delete=function(e){var n=Ms(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){if(typeof Uint8Array>"u")throw new Rt(_t.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function FD(){if(typeof atob>"u")throw new Rt(_t.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var X4=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return FD(),new t(Pu.fromBase64String(e))},t.fromUint8Array=function(e){return LD(),new t(Pu.fromUint8Array(e))},t.prototype.toBase64=function(){return FD(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return LD(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),sit=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){ID(r=_e(r,cn));var o=Mn(r),a=r._freezeSettings(),u=new HS;return CD(o,u,new k4(u,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){ID(n=_e(n,cn));var r=Mn(n),i=n._freezeSettings(),o=new HS;return CD(r,o,new Ort(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Rt(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return pt(r,void 0,void 0,function(){var o;return dt(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(u){return pt(this,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return Cc.yt()?(c=u+"main",[4,Cc.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(Jk(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),TC=function(){function t(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof jm||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||yd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,u){var c;u===void 0&&(u={});var h=(i=_e(i,kd))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==o&&yd("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:o+":"+a,ssl:!1})),u.mockUserToken){var f,v;if(typeof u.mockUserToken=="string")f=u.mockUserToken,v=Wn.MOCK_USER;else{f=ET(u.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var g=u.mockUserToken.sub||u.mockUserToken.user_id;if(!g)throw new Rt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wn(g)}i._credentials=new jrt(new A4(f,v))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return pt(n,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return[4,mD(e)];case 1:return r=o.sent(),[4,yD(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var u=Ft(a);return u.Or.delete(0),_p(u)}(i))]}})})})}(Mn(_e(this._delegate,cn)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return pt(n,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return[4,mD(e)];case 1:return r=o.sent(),[4,yD(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return pt(this,void 0,void 0,function(){var u;return dt(this,function(c){switch(c.label){case 0:return(u=Ft(a)).Or.add(0),[4,Jc(u)];case 1:return c.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(Mn(_e(this._delegate,cn)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&P4("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new pr;return e.asyncQueue.enqueueAndForget(function(){return pt(n,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:return i=xrt,[4,gC(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Mn(_e(this._delegate,cn)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,u=new v0(o);return i.asyncQueue.enqueueAndForget(function(){return pt(a,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return c=function(f,v){Ft(f).Gr.add(v),v.next()},[4,Mc(i)];case 1:return[2,c.apply(void 0,[h.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return pt(a,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return c=function(f,v){Ft(f).Gr.delete(v)},[4,Mc(i)];case 1:return[2,c.apply(void 0,[h.sent(),u])]}})})})}}(Mn(n=_e(n,cn)),Nc(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Rt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new zm(this,R4(this._delegate,e))}catch(n){throw br(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new fu(this,Cg(this._delegate,e))}catch(n){throw br(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Tp(this,function(n,r){if(n=_e(n,kd),mC("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gr(n,null,function(i){return new as(Ee.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw br(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var u=this,c=new pr;return o.asyncQueue.enqueueAndForget(function(){return pt(u,void 0,void 0,function(){var h;return dt(this,function(f){switch(f.label){case 0:return[4,function(v){return g0(v).then(function(g){return g.datastore})}(o)];case 1:return h=f.sent(),new Drt(o.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Mn(r),function(o){return i(new oit(r,o))})}(this._delegate,function(r){return e(new Y4(n,r))})},t.prototype.batch=function(){var e=this;return Mn(this._delegate),new q4(new iit(this._delegate,function(n){return Ep(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Rt(_t.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Rt(_t.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),b0=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return jt(e,t),e.prototype.convertBytes=function(n){return new X4(new Pu(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return fu.eu(r,this.firestore,null)},e}(EC);function ait(t){var e;e=t,Zi.setLogLevel(e)}var Y4=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new b0(e)}return t.prototype.get=function(e){var n=this,r=ru(e);return this._delegate.get(r).then(function(i){return new Id(n._firestore,new Xo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=ru(e);return r?(yC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=ru(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,se([u,n,r],o)),this},t.prototype.delete=function(e){var n=ru(e);return this._delegate.delete(n),this},t}(),q4=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=ru(e);return r?(yC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u=ru(e);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,se([u,n,r],o)),this},t.prototype.delete=function(e){var n=ru(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),_0=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Ff(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ad(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new b0(e),n),i.set(n,o)),o},t}();_0.su=new WeakMap;var fu=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new b0(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Rt(_t.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ze(n._delegate,r,new Xt(e)))},t.eu=function(e,n,r){return new t(n,new Ze(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new zm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new zm(this.firestore,R4(this._delegate,e))}catch(n){throw br(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=oe(e))instanceof Ze&&O4(this._delegate,e)},t.prototype.set=function(e,n){n=yC("DocumentReference.set",n);try{return n?ND(this._delegate,e,n):ND(this._delegate,e)}catch(r){throw br(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?DD(this._delegate,e):DD.apply(void 0,se([this._delegate,e,n],r))}catch(o){throw br(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Ep(_e((e=this._delegate).firestore,cn),[new xp(e._key,ur.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=Q4(n),o=J4(n,function(a){return new Id(e.firestore,new Xo(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return K4(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=_e(r,Ze);var i=_e(r.firestore,cn),o=Mn(i),a=new hu(i);return function(u,c){var h=this,f=new pr;return u.asyncQueue.enqueueAndForget(function(){return pt(h,void 0,void 0,function(){var v;return dt(this,function(g){switch(g.label){case 0:return v=function(x,m,E){return pt(this,void 0,void 0,function(){var R,C;return dt(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,function(T,L){var j=Ft(T);return j.persistence.runTransaction("read document","readonly",function(z){return j.Mn.mn(z,L)})}(x,m)];case 1:return(C=_.sent()).isFoundDocument()?E.resolve(C):C.isNoDocument()?E.resolve(null):E.reject(new Rt(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return R=_.sent(),C=eh(R,"Failed to get document '"+m+" from cache"),E.reject(C),[3,3];case 3:return[2]}})})},[4,vC(u)];case 1:return[2,v.apply(void 0,[g.sent(),c,f])]}})})}),f.promise}(o,r._key).then(function(u){return new Xo(i,a,r._key,u,new nu(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=_e(r,Ze);var i=_e(r.firestore,cn);return wD(Mn(i),r._key,{source:"server"}).then(function(o){return KS(i,r,o)})}(this._delegate):function(r){r=_e(r,Ze);var i=_e(r.firestore,cn);return wD(Mn(i),r._key).then(function(o){return KS(i,r,o)})}(this._delegate)).then(function(r){return new Id(n.firestore,new Xo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(_0.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function br(t,e,n){return t.message=t.message.replace(e,n),t}function Q4(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Nc(r))return r}return{}}function J4(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=Nc(t[0])?t[0]:Nc(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Id=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new fu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return $4(this._delegate,e._delegate)},t}(),Ad=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return jt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Id),Tp=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new b0(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_s(this._delegate,function(i,o,a){var u=o,c=Um("where",i);return new eit(c,u,a)}(e,n,r)))}catch(i){throw br(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_s(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=Um("orderBy",r);return new nit(a,o)}(e,n)))}catch(r){throw br(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_s(this._delegate,function(n){return TD("limit",n),new AD("limit",n,"F")}(e)))}catch(n){throw br(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_s(this._delegate,function(n){return TD("limitToLast",n),new AD("limitToLast",n,"L")}(e)))}catch(n){throw br(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new PD("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw br(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new PD("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw br(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new RD("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw br(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_s(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new RD("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw br(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return M4(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=_e(r,Gr);var i=_e(r.firestore,cn),o=Mn(i),a=new hu(i);return function(u,c){var h=this,f=new pr;return u.asyncQueue.enqueueAndForget(function(){return pt(h,void 0,void 0,function(){var v;return dt(this,function(g){switch(g.label){case 0:return v=function(x,m,E){return pt(this,void 0,void 0,function(){var R,C,_,T,L;return dt(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,Dm(x,m,!0)];case 1:return L=j.sent(),R=new b4(m,L.Bn),C=R._o(L.documents),_=R.applyChanges(C,!1),E.resolve(_.snapshot),[3,3];case 2:return T=j.sent(),L=eh(T,"Failed to execute query '"+m+" against cache"),E.reject(L),[3,3];case 3:return[2]}})})},[4,vC(u)];case 1:return[2,v.apply(void 0,[g.sent(),c,f])]}})})}),f.promise}(o,r._query).then(function(u){return new Os(i,a,r,u)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=_e(r,Gr);var i=_e(r.firestore,cn),o=Mn(i),a=new hu(i);return xD(o,r._query,{source:"server"}).then(function(u){return new Os(i,a,r,u)})}(this._delegate):function(r){r=_e(r,Gr);var i=_e(r.firestore,cn),o=Mn(i),a=new hu(i);return W4(r._query),xD(o,r._query).then(function(u){return new Os(i,a,r,u)})}(this._delegate)).then(function(r){return new XS(n.firestore,new Os(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=Q4(n),o=J4(n,function(a){return new XS(e.firestore,new Os(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return K4(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(_0.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),uit=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ad(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),XS=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Tp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Ad(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new uit(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new Ad(r._firestore,i))})},t.prototype.isEqual=function(e){return $4(this._delegate,e._delegate)},t}(),zm=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return jt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new fu(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new fu(this.firestore,n===void 0?Cg(this._delegate):Cg(this._delegate,n))}catch(r){throw br(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=_e(i.firestore,cn),u=Cg(i),c=x0(i.converter,o);return Ep(a,[w0(Gu(i.firestore),"addDoc",u._key,c,i.converter!==null,{}).toMutation(u._key,ur.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new fu(r.firestore,i)})},e.prototype.isEqual=function(n){return O4(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(_0.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(Tp);function ru(t){return _e(t,Ze)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lit=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(_o.bind.apply(_o,se([void 0],e)))}return t.documentId=function(){return new t(no.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=oe(e))instanceof _o&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),cit=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new Xrt("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new wC("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Yrt("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new qrt("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new Qrt("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hit(t){return function(e,n){var r=Mn(e=_e(e,cn)),i=new $rt;return function(o,a,u,c){var h=this,f=function(v,g){return function(x,m){return new Mrt(x,m)}(function(x,m){if(x instanceof Uint8Array)return gD(x,m);if(x instanceof ArrayBuffer)return gD(new Uint8Array(x),m);if(x instanceof ReadableStream)return x.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(u,bp(a));o.asyncQueue.enqueueAndForget(function(){return pt(h,void 0,void 0,function(){var v;return dt(this,function(g){switch(g.label){case 0:return v=Rrt,[4,gC(o)];case 1:return v.apply(void 0,[g.sent(),f,c]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function fit(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return pt(a,void 0,void 0,function(){var u;return dt(this,function(c){switch(c.label){case 0:return u=function(h,f){var v=Ft(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Ke.getNamedQuery(g,f)})},[4,vC(i)];case 1:return[2,u.apply(void 0,[c.sent(),o])]}})})})}(Mn(e=_e(e,cn)),n).then(function(i){return i?new Gr(e,null,i.query):null})).then(function(i){return i?new Tp(r,i):null})}var dit={Firestore:TC,GeoPoint:y0,Timestamp:Hr,Blob:X4,Transaction:Y4,WriteBatch:q4,DocumentReference:fu,DocumentSnapshot:Id,Query:Tp,QueryDocumentSnapshot:Ad,QuerySnapshot:XS,CollectionReference:zm,FieldPath:lit,FieldValue:cit,setLogLevel:ait,CACHE_SIZE_UNLIMITED:Wrt};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pit(t){(function(e,n){e.INTERNAL.registerComponent(new dr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},dit)))})(t,function(e,n){return new TC(e,new cn(e,n),new sit)}),t.registerVersion("@firebase/firestore","2.4.1")}pit(Ht);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vit(t){t.prototype.loadBundle=hit,t.prototype.namedQuery=fit}vit(TC);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jD={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zl=function(t){jt(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function git(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function mit(t,e,n){var r=git(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var u=a.status;if(typeof u=="string"){if(!jD[u])return new Zl("internal","internal");r=jD[u],i=u}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch{}return r==="ok"?null:new Zl(r,i,o)}var yit=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wit="type.googleapis.com/google.protobuf.Int64Value",xit="type.googleapis.com/google.protobuf.UInt64Value";function BD(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var bit=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return BD(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case wit:case xit:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?BD(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _it(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Zl("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var UD=function(){function t(e,n,r,i,o,a){var u=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new bit,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(u.deleteService())}},this.contextProvider=new yit(n,r),this.cancelAllRequests=new Promise(function(h){u.deleteService=function(){return h()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return pt(this,void 0,void 0,function(){var i,o,a;return dt(this,function(u){switch(u.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=u.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=u.sent(),[3,5];case 4:return u.sent(),[2,{status:0,json:null}];case 5:a=null,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,o.json()];case 7:return a=u.sent(),[3,9];case 8:return u.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v,g,x,m,E;return dt(this,function(R){switch(R.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return u=R.sent(),u.authToken&&(a.Authorization="Bearer "+u.authToken),u.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=u.instanceIdToken),c=r.timeout||7e4,h=_it(c),f=h.timer,v=h.promise,[4,Promise.race([zD(f,this.postJSON(i,o,a)),v,zD(f,this.cancelAllRequests)])];case 2:if(g=R.sent(),!g)throw new Zl("cancelled","Firebase Functions instance was deleted.");if(x=mit(g.status,g.json,this.serializer),x)throw x;if(!g.json)throw new Zl("internal","Response is not valid JSON object.");if(m=g.json.data,typeof m>"u"&&(m=g.json.result),typeof m>"u")throw new Zl("internal","Response is missing data field.");return E=this.serializer.decode(m),[2,{data:E}]}})})},t}();function zD(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sit="functions";function Eit(t,e){var n={Functions:UD};function r(i,o){var a=o.instanceIdentifier,u=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),f=i.getProvider("messaging");return new UD(u,c,f,h,a,e)}t.INTERNAL.registerComponent(new dr(Sit,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var Tit="@firebase/functions",kit="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eit(Ht,fetch.bind(self));Ht.registerVersion(Tit,kit);function Cit(t){return Array.prototype.slice.call(t)}function Z4(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function S0(t,e,n){var r,i=new Promise(function(o,a){r=t[e].apply(t,n),Z4(r).then(o,a)});return i.request=r,i}function Iit(t,e,n){var r=S0(t,e,n);return r.then(function(i){if(i)return new Pd(i,r.request)})}function nh(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function kC(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return S0(this[e],i,arguments)})})}function E0(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function tz(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Iit(this[e],i,arguments)})})}function Xu(t){this._index=t}nh(Xu,"_index",["name","keyPath","multiEntry","unique"]);kC(Xu,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);tz(Xu,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Pd(t,e){this._cursor=t,this._request=e}nh(Pd,"_cursor",["direction","key","primaryKey","value"]);kC(Pd,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Pd.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),Z4(e._request).then(function(r){if(r)return new Pd(r,e._request)})})})});function Po(t){this._store=t}Po.prototype.createIndex=function(){return new Xu(this._store.createIndex.apply(this._store,arguments))};Po.prototype.index=function(){return new Xu(this._store.index.apply(this._store,arguments))};nh(Po,"_store",["name","keyPath","indexNames","autoIncrement"]);kC(Po,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);tz(Po,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);E0(Po,"_store",IDBObjectStore,["deleteIndex"]);function kp(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}kp.prototype.objectStore=function(){return new Po(this._tx.objectStore.apply(this._tx,arguments))};nh(kp,"_tx",["objectStoreNames","mode"]);E0(kp,"_tx",IDBTransaction,["abort"]);function T0(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new kp(n)}T0.prototype.createObjectStore=function(){return new Po(this._db.createObjectStore.apply(this._db,arguments))};nh(T0,"_db",["name","version","objectStoreNames"]);E0(T0,"_db",IDBDatabase,["deleteObjectStore","close"]);function k0(t){this._db=t}k0.prototype.transaction=function(){return new kp(this._db.transaction.apply(this._db,arguments))};nh(k0,"_db",["name","version","objectStoreNames"]);E0(k0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Po,Xu].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=Cit(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})});[Xu,Po].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(o){r.iterateCursor(e,function(a){if(!a){o(i);return}if(i.push(a.value),n!==void 0&&i.length==n){o(i);return}a.continue()})})})});function CC(t,e,n){var r=S0(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(o){n&&n(new T0(i.result,o.oldVersion,i.transaction))}),r.then(function(o){return new k0(o)})}function k1(t){return S0(indexedDB,"deleteDatabase",[t])}var Ait="@firebase/installations",ez="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nz=1e4,rz="w:"+ez,iz="FIS_v2",Pit="https://firebaseinstallations.googleapis.com/v1",Rit=60*60*1e3,Oit="installations",Mit="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss,Nit=(Ss={},Ss["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ss["not-registered"]="Firebase Installation is not registered.",Ss["installation-not-found"]="Firebase Installation not found.",Ss["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Ss["app-offline"]="Could not process request. Application offline.",Ss["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Ss),ns=new ss(Oit,Mit,Nit);function oz(t){return t instanceof Vc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){var e=t.projectId;return Pit+"/projects/"+e+"/installations"}function sz(t){return{token:t.token,requestStatus:2,expiresIn:Dit(t.expiresIn),creationTime:Date.now()}}function AC(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,ns.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function az(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function uz(t,e){var n=e.refreshToken,r=az(t);return r.append("Authorization",Lit(n)),r}function PC(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function Dit(t){return Number(t.replace("s","000"))}function Lit(t){return iz+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fit(t,e){var n=e.fid;return pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h;return dt(this,function(f){switch(f.label){case 0:return r=IC(t),i=az(t),o={fid:n,authVersion:iz,appId:t.appId,sdkVersion:rz},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,PC(function(){return fetch(r,a)})];case 1:return u=f.sent(),u.ok?[4,u.json()]:[3,3];case 2:return c=f.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:sz(c.authToken)},[2,h];case 3:return[4,AC("Create Installation",u)];case 4:throw f.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jit(t){var e=btoa(String.fromCharCode.apply(String,se([],Gn(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bit=/^[cdef][\w-]{21}$/,YS="";function Uit(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=zit(t);return Bit.test(n)?n:YS}catch{return YS}}function zit(t){var e=jit(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc=new Map;function cz(t,e){var n=rh(t);hz(n,e),Wit(n,e)}function Vit(t,e){fz();var n=rh(t),r=Dc.get(n);r||(r=new Set,Dc.set(n,r)),r.add(e)}function $it(t,e){var n=rh(t),r=Dc.get(n);r&&(r.delete(e),r.size===0&&Dc.delete(n),dz())}function hz(t,e){var n,r,i=Dc.get(t);if(i)try{for(var o=Fn(i),a=o.next();!a.done;a=o.next()){var u=a.value;u(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Wit(t,e){var n=fz();n&&n.postMessage({key:t,fid:e}),dz()}var iu=null;function fz(){return!iu&&"BroadcastChannel"in self&&(iu=new BroadcastChannel("[Firebase] FID Change"),iu.onmessage=function(t){hz(t.data.key,t.data.fid)}),iu}function dz(){Dc.size===0&&iu&&(iu.close(),iu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hit="firebase-installations-database",Git=1,Ru="firebase-installations-store",C1=null;function RC(){return C1||(C1=CC(Hit,Git,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ru)}})),C1}function Vm(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return n=rh(t),[4,RC()];case 1:return r=u.sent(),i=r.transaction(Ru,"readwrite"),o=i.objectStore(Ru),[4,o.get(n)];case 2:return a=u.sent(),[4,o.put(e,n)];case 3:return u.sent(),[4,i.complete];case 4:return u.sent(),(!a||a.fid!==e.fid)&&cz(t,e.fid),[2,e]}})})}function OC(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return e=rh(t),[4,RC()];case 1:return n=i.sent(),r=n.transaction(Ru,"readwrite"),[4,r.objectStore(Ru).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Cp(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return n=rh(t),[4,RC()];case 1:return r=c.sent(),i=r.transaction(Ru,"readwrite"),o=i.objectStore(Ru),[4,o.get(n)];case 2:return a=c.sent(),u=e(a),u!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),u&&(!a||a.fid!==u.fid)&&cz(t,u.fid),[2,u]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return[4,Cp(t,function(o){var a=Kit(o),u=Xit(t,a);return e=u.registrationPromise,u.installationEntry})];case 1:return n=i.sent(),n.fid!==YS?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Kit(t){var e=t||{fid:Uit(),registrationStatus:0};return pz(e)}function Xit(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(ns.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Yit(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qit(t)}:{installationEntry:e}}function Yit(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Fit(t,e)];case 1:return n=i.sent(),[2,Vm(t,n)];case 2:return r=i.sent(),oz(r)&&r.customData.serverCode===409?[4,OC(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Vm(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function qit(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,VD(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,lz(100)];case 3:return o.sent(),[4,VD(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,MC(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function VD(t){return Cp(t,function(e){if(!e)throw ns.create("installation-not-found");return pz(e)})}function pz(t){return Qit(t)?{fid:t.fid,registrationStatus:0}:t}function Qit(t){return t.registrationStatus===1&&t.registrationTime+nz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jit(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v;return dt(this,function(g){switch(g.label){case 0:return i=Zit(n,e),o=uz(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),u={installation:{sdkVersion:rz}},c={method:"POST",headers:o,body:JSON.stringify(u)},[4,PC(function(){return fetch(i,c)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return f=g.sent(),v=sz(f),[2,v];case 3:return[4,AC("Generate Auth Token",h)];case 4:throw g.sent()}})})}function Zit(t,e){var n=e.fid;return IC(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e){return e===void 0&&(e=!1),pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return[4,Cp(t.appConfig,function(u){if(!vz(u))throw ns.create("not-registered");var c=u.authToken;if(!e&&not(c))return u;if(c.requestStatus===1)return n=tot(t,e),u;if(!navigator.onLine)throw ns.create("app-offline");var h=iot(u);return n=eot(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function tot(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,$D(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,lz(100)];case 3:return i.sent(),[4,$D(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,NC(t,e)]:[2,r]}})})}function $D(t){return Cp(t,function(e){if(!vz(e))throw ns.create("not-registered");var n=e.authToken;return oot(n)?qt(qt({},e),{authToken:{requestStatus:0}}):e})}function eot(t,e){return pt(this,void 0,void 0,function(){var n,i,r,i;return dt(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Jit(t,e)];case 1:return n=o.sent(),i=qt(qt({},e),{authToken:n}),[4,Vm(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),oz(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,OC(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return i=qt(qt({},e),{authToken:{requestStatus:0}}),[4,Vm(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}function vz(t){return t!==void 0&&t.registrationStatus===2}function not(t){return t.requestStatus===2&&!rot(t)}function rot(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Rit}function iot(t){var e={requestStatus:1,requestTime:Date.now()};return qt(qt({},t),{authToken:e})}function oot(t){return t.requestStatus===1&&t.requestTime+nz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sot(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return[4,MC(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):NC(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aot(t,e){return e===void 0&&(e=!1),pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,uot(t.appConfig)];case 1:return r.sent(),[4,NC(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function uot(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return[4,MC(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lot(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return n=cot(t,e),r=uz(t,e),i={method:"DELETE",headers:r},[4,PC(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,AC("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function cot(t,e){var n=e.fid;return IC(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hot(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Cp(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw ns.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw ns.create("app-offline");case 3:return[4,lot(e,n)];case 4:return r.sent(),[4,OC(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fot(t,e){var n=t.appConfig;return Vit(n,e),function(){$it(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dot(t){var e,n;if(!t||!t.options)throw I1("App Configuration");if(!t.name)throw I1("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Fn(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw I1(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function I1(t){return ns.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pot(t){var e="installations";t.INTERNAL.registerComponent(new dr(e,function(n){var r=n.getProvider("app").getImmediate(),i=dot(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},u={app:r,getId:function(){return sot(a)},getToken:function(c){return aot(a,c)},delete:function(){return hot(a)},onIdChange:function(c){return fot(a,c)}};return u},"PUBLIC")),t.registerVersion(Ait,ez)}pot(Ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,vot=(xn={},xn["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xn["only-available-in-window"]="This method is available in a Window context.",xn["only-available-in-sw"]="This method is available in a service worker context.",xn["permission-default"]="The notification permission was not granted and dismissed instead.",xn["permission-blocked"]="The notification permission was not granted and blocked instead.",xn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",xn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",xn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",xn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",xn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",xn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",xn["token-update-no-token"]="FCM returned no token when updating the user to push.",xn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",xn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",xn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",xn["invalid-vapid-key"]="The public VAPID key must be a string.",xn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",xn),Pe=new ss("messaging","Messaging",vot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var got="/firebase-messaging-sw.js",mot="/firebase-cloud-messaging-push-scope",$m="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yot="https://fcmregistrations.googleapis.com/v1",gz="FCM_MSG",wot="FirebaseMessaging: ",xot="google.c.a.e",mz="google.c.a.c_id",bot="google.c.a.ts",_ot="google.c.a.c_l",Sot=1e3,Eot=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ou;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ou||(Ou={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,se([],Gn(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tot(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A1="fcm_token_details_db",kot=5,WD="fcm_token_object_Store";function Cot(t){return pt(this,void 0,void 0,function(){var e,n,r,i,o=this;return dt(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(u){return u.name}),!n.includes(A1))return[2,null];a.label=2;case 2:return r=null,[4,CC(A1,kot,function(u){return pt(o,void 0,void 0,function(){var c,h,f,f,f,v;return dt(this,function(g){switch(g.label){case 0:return u.oldVersion<2?[2]:u.objectStoreNames.contains(WD)?(c=u.transaction.objectStore(WD),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return h=g.sent(),[4,c.clear()];case 2:if(g.sent(),!h)return[2];if(u.oldVersion===2){if(f=h,!f.auth||!f.p256dh||!f.endpoint)return[2];r={token:f.fcmToken,createTime:(v=f.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:jo(f.vapidKey)}}}else u.oldVersion===3?(f=h,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:jo(f.auth),p256dh:jo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:jo(f.vapidKey)}}):u.oldVersion===4&&(f=h,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:jo(f.auth),p256dh:jo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:jo(f.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,k1(A1)];case 4:return a.sent(),[4,k1("fcm_vapid_details_db")];case 5:return a.sent(),[4,k1("undefined")];case 6:return a.sent(),[2,Iot(r)?r:null]}})})}function Iot(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aot="firebase-messaging-database",Pot=1,Mu="firebase-messaging-store",P1=null;function DC(){return P1||(P1=CC(Aot,Pot,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Mu)}})),P1}function Wm(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return e=FC(t),[4,DC()];case 1:return n=o.sent(),[4,n.transaction(Mu).objectStore(Mu).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,Cot(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,LC(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function LC(t,e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return n=FC(t),[4,DC()];case 1:return r=o.sent(),i=r.transaction(Mu,"readwrite"),[4,i.objectStore(Mu).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function Rot(t){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return e=FC(t),[4,DC()];case 1:return n=i.sent(),r=n.transaction(Mu,"readwrite"),[4,r.objectStore(Mu).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function FC(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oot(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return[4,BC(t)];case 1:n=h.sent(),r=wz(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(jC(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return o=h.sent(),[3,6];case 5:throw u=h.sent(),Pe.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pe.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw Pe.create("token-subscribe-no-token");return[2,o.token]}})})}function Mot(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return[4,BC(t)];case 1:n=h.sent(),r=wz(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(jC(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return o=h.sent(),[3,6];case 5:throw u=h.sent(),Pe.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pe.create("token-update-failed",{errorInfo:c});if(!o.token)throw Pe.create("token-update-no-token");return[2,o.token]}})})}function yz(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return[4,BC(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(jC(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,Pe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw u=c.sent(),Pe.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}})})}function jC(t){var e=t.projectId;return yot+"/projects/"+e+"/registrations"}function BC(t){var e=t.appConfig,n=t.installations;return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function wz(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==$m&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Not=7*24*60*60*1e3;function qS(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,Lot(e,n)];case 1:return r=u.sent(),[4,Wm(t)];case 2:return i=u.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:jo(r.getKey("auth")),p256dh:jo(r.getKey("p256dh"))},i?[3,3]:[2,HD(t,o)];case 3:if(Fot(i.subscriptionOptions,o))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,yz(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,HD(t,o)];case 8:return Date.now()>=i.createTime+Not?[2,Dot({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function jf(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,Wm(t)];case 1:return n=i.sent(),n?[4,yz(t,n.token)]:[3,4];case 2:return i.sent(),[4,Rot(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function Dot(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o;return dt(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Mot(e,t)];case 1:return r=a.sent(),i=qt(qt({},t),{token:r,createTime:Date.now()}),[4,LC(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,jf(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function HD(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return[4,Oot(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,LC(t,r)];case 2:return i.sent(),[2,r.token]}})})}function Lot(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tot(e)})]}})})}function Fot(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jot(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return Bot(e,t),Uot(e,t),zot(e,t),e}function Bot(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function Uot(t,e){e.data&&(t.data=e.data)}function zot(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t){return typeof t=="object"&&!!t&&mz in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vot=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Pe.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Wm(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:$m,i.label=2;case 2:return[2,qS(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return jf(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Pe.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Pe.create("only-available-in-window")},t.prototype.onMessage=function(){throw Pe.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Pe.create("only-available-in-window")},t.prototype.onPush=function(e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return n=Wot(e),n?[4,bz()]:(console.debug(wot+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Got(r)?[2,Kot(r,n)]:(i=!1,n.notification?[4,Xot($ot(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=jot(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,GD(Sot)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return pt(this,void 0,void 0,function(){var i,o;return dt(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,jf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Wm(this.firebaseDependencies)];case 3:return o=a.sent(),[4,jf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,qS(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:$m)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return pt(this,void 0,void 0,function(){var i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[gz],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=Yot(i),o?(a=new URL(o,self.location.href),u=new URL(self.location.origin),a.host!==u.host?[2]:[4,Hot(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=h.sent(),[4,GD(Eot)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Ou.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function $ot(t){var e,n=qt({},t.notification);return n.data=(e={},e[gz]=t,e),n}function Wot(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function Hot(t){return pt(this,void 0,void 0,function(){var e,n,r,i,o,a,u;return dt(this,function(c){switch(c.label){case 0:return[4,bz()];case 1:e=c.sent();try{for(n=Fn(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Got(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function Kot(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Ou.PUSH_RECEIVED;try{for(var i=Fn(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function bz(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Xot(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function Yot(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(xz(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qot=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ou.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(Jot(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,xz(r)&&r[xot]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Pe.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,qS(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=$m),[2]})})},t.prototype.updateSwReg=function(e){return pt(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(got,{scope:mot})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Pe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,jf(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?Pe.create("permission-blocked"):Pe.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Pe.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Pe.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");if(this.swRegistration)throw Pe.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Pe.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Pe.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return pt(this,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return r=Qot(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[mz],message_name:n[_ot],message_time:n[bot],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Qot(t){switch(t){case Ou.NOTIFICATION_CLICKED:return"notification_open";case Ou.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Jot(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zot(t){var e,n;if(!t||!t.options)throw R1("App Configuration Object");if(!t.name)throw R1("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=Fn(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(!i[u])throw R1(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function R1(t){return Pe.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tst="messaging";function est(t){var e=t.getProvider("app").getImmediate(),n=Zot(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!_z())throw Pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Vot(o):new qot(o)}var nst={isSupported:_z};Ht.INTERNAL.registerComponent(new dr(tst,est,"PUBLIC").setServiceProps(nst));function _z(){return self&&"ServiceWorkerGlobalScope"in self?ist():rst()}function rst(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function ist(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sz="firebasestorage.googleapis.com",Ez="storageBucket",ost=2*60*1e3,sst=10*60*1e3,yn=function(t){jt(e,t);function e(n,r){var i=t.call(this,O1(n),"Firebase Storage: "+r+" ("+O1(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return O1(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(Vc);function O1(t){return"storage/"+t}function UC(){var t="An unknown error occurred, please check the error payload for server response.";return new yn("unknown",t)}function ast(t){return new yn("object-not-found","Object '"+t+"' does not exist.")}function ust(t){return new yn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lst(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn("unauthenticated",t)}function cst(){return new yn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function hst(t){return new yn("unauthorized","User does not have permission to access '"+t+"'.")}function fst(){return new yn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Tz(){return new yn("canceled","User canceled the upload/download.")}function dst(t){return new yn("invalid-url","Invalid URL '"+t+"'.")}function pst(t){return new yn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function vst(){return new yn("no-default-bucket","No default bucket found. Did you set the '"+Ez+"' property when initializing the app?")}function kz(){return new yn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function gst(){return new yn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function mst(){return new yn("no-download-url","The given file does not have any download URLs.")}function tc(t){return new yn("invalid-argument",t)}function Cz(){return new yn("app-deleted","The Firebase app was deleted.")}function Iz(t){return new yn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bf(t,e){return new yn("invalid-format","String does not match format '"+t+"': "+e)}function ng(t){throw new yn("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yst(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},M1=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function Az(t,e){switch(t){case Si.RAW:return new M1(Pz(e));case Si.BASE64:case Si.BASE64URL:return new M1(Rz(t,e));case Si.DATA_URL:return new M1(xst(e),bst(e))}throw UC()}function Pz(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wst(t){var e;try{e=decodeURIComponent(t)}catch{throw Bf(Si.DATA_URL,"Malformed data URL.")}return Pz(e)}function Rz(t,e){switch(t){case Si.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Bf(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Si.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw Bf(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var u;try{u=yst(e)}catch{throw Bf(t,"Invalid character found")}for(var c=new Uint8Array(u.length),h=0;h<u.length;h++)c[h]=u.charCodeAt(h);return c}var Oz=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw Bf(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=_st(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function xst(t){var e=new Oz(t);return e.base64?Rz(Si.BASE64,e.rest):wst(e.rest)}function bst(t){var e=new Oz(t);return e.contentType}function _st(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sst={STATE_CHANGED:"state_changed"},_r={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N1(t){switch(t){case"running":case"pausing":case"canceling":return _r.RUNNING;case"paused":return _r.PAUSED;case"success":return _r.SUCCESS;case"canceled":return _r.CANCELED;case"error":return _r.ERROR;default:return _r.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var du;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(du||(du={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Est=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=du.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=du.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=du.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw ng("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ng("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ng("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ng("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();function Tst(){return new Est}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kst=function(){function t(){}return t.prototype.createConnection=function(){return Tst()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw pst(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(P){P.path_=decodeURIComponent(P.path)}for(var f="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp("^https?://"+v+"/"+f+"/b/"+i+"/o"+g,"i"),m={bucket:1,path:3},E=n===Sz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",C=new RegExp("^https?://"+E+"/"+i+"/"+R,"i"),_={bucket:1,path:2},T=[{regex:u,indices:c,postModify:o},{regex:x,indices:m,postModify:h},{regex:C,indices:_,postModify:h}],L=0;L<T.length;L++){var j=T[L],z=j.regex.exec(e);if(z){var $=z[j.indices.bucket],D=z[j.indices.path];D||(D=""),r=new t($,D),j.postModify(r);break}}if(r==null)throw dst(e);return r},t}(),Cst=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ist(t,e,n){var r=1,i=null,o=!1,a=0;function u(){return a===2}var c=!1;function h(){for(var m=[],E=0;E<arguments.length;E++)m[E]=arguments[E];c||(c=!0,e.apply(null,m))}function f(m){i=setTimeout(function(){i=null,t(v,u())},m)}function v(m){for(var E=[],R=1;R<arguments.length;R++)E[R-1]=arguments[R];if(!c){if(m){h.call.apply(h,se([null,m],E));return}var C=u()||o;if(C){h.call.apply(h,se([null,m],E));return}r<64&&(r*=2);var _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}}var g=!1;function x(m){g||(g=!0,!c&&(i!==null?(m||(a=2),clearTimeout(i),f(0)):m||(a=1)))}return f(0),setTimeout(function(){o=!0,x(!0)},n),x}function Ast(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pst(t){return t!==void 0}function Rst(t){return typeof t=="function"}function Ost(t){return typeof t=="object"&&!Array.isArray(t)}function C0(t){return typeof t=="string"||t instanceof String}function KD(t){return zC()&&t instanceof Blob}function zC(){return typeof Blob<"u"}function QS(t,e,n,r){if(r<e)throw tc("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw tc("Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function Mz(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mst=function(){function t(e,n,r,i,o,a,u,c,h,f,v){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=u,this.errorCallback_=c,this.progressCallback_=f,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(x,m){g.resolve_=x,g.reject_=m,g.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new rg(!1,null,!0));return}var a=e.pool_.createConnection();e.pendingConnection_=a;function u(c){var h=c.loaded,f=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,f)}e.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&a.removeUploadProgressListener(u),e.pendingConnection_=null;var c=a.getErrorCode()===du.NO_ERROR,h=a.getStatus();if(!c||e.isRetryStatusCode_(h)){var f=a.getErrorCode()===du.ABORT;i(!1,new rg(!1,null,f));return}var v=e.successCodes_.indexOf(h)!==-1;i(!0,new rg(v,a))})}function r(i,o){var a=e.resolve_,u=e.reject_,c=o.connection;if(o.wasSuccessCode)try{var h=e.callback_(c,c.getResponseText());Pst(h)?a(h):a()}catch(v){u(v)}else if(c!==null){var f=UC();f.serverResponse=c.getResponseText(),e.errorCallback_?u(e.errorCallback_(c,f)):u(f)}else if(o.canceled){var f=e.appDelete_?Cz():Tz();u(f)}else{var f=fst();u(f)}}this.canceled_?r(!1,new rg(!1,null,!0)):this.backoffId_=Ist(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ast(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),rg=function(){function t(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}return t}();function Nst(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Dst(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Lst(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Fst(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jst(t,e,n,r,i,o){var a=Mz(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return Lst(c,e),Nst(c,n),Dst(c,o),Fst(c,r),new Mst(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bst(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ust(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Bst();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(zC())return new Blob(t);throw new yn("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function zst(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VC=function(){function t(e,n){var r=0,i="";KD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(KD(this.data_)){var r=this.data_,i=zst(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(zC()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(Ust.apply(null,r))}else{var i=e.map(function(c){return C0(c)?Az(Si.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[u++]=c[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){var e;try{e=JSON.parse(t)}catch{return null}return Ost(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vst(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function $st(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function Nz(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wst(t,e){return e}var yr=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Wst}return t}(),ig=null;function Hst(t){return!C0(t)||t.length<2?t:Nz(t)}function I0(){if(ig)return ig;var t=[];t.push(new yr("bucket")),t.push(new yr("generation")),t.push(new yr("metageneration")),t.push(new yr("name","fullPath",!0));function e(o,a){return Hst(a)}var n=new yr("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new yr("size");return i.xform=r,t.push(i),t.push(new yr("timeCreated")),t.push(new yr("updated")),t.push(new yr("md5Hash",null,!0)),t.push(new yr("cacheControl",null,!0)),t.push(new yr("contentDisposition",null,!0)),t.push(new yr("contentEncoding",null,!0)),t.push(new yr("contentLanguage",null,!0)),t.push(new yr("contentType",null,!0)),t.push(new yr("metadata","customMetadata",!0)),ig=t,ig}function Gst(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new Ei(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Kst(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return Gst(r,t),r}function Dz(t,e,n){var r=$C(e);if(r===null)return null;var i=r;return Kst(t,i,n)}function Xst(t,e,n){var r=$C(e);if(r===null||!C0(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),u=a.map(function(c){var h=t.bucket,f=t.fullPath,v="/b/"+o(h)+"/o/"+o(f),g=pa(v,n),x=Mz({alt:"media",token:c});return g+x});return u[0]}function WC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XD="prefixes",YD="items";function Yst(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[XD])for(var i=0,o=n[XD];i<o.length;i++){var a=o[i],u=a.replace(/\/$/,""),c=t._makeStorageReference(new Ei(e,u));r.prefixes.push(c)}if(n[YD])for(var h=0,f=n[YD];h<f.length;h++){var v=f[h],c=t._makeStorageReference(new Ei(e,v.name));r.items.push(c)}return r}function qst(t,e,n){var r=$C(n);if(r===null)return null;var i=r;return Yst(t,e,i)}var ls=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t){if(!t)throw UC()}function A0(t,e){function n(r,i){var o=Dz(t,i,e);return So(o!==null),o}return n}function Qst(t,e){function n(r,i){var o=qst(t,e,i);return So(o!==null),o}return n}function Jst(t,e){function n(r,i){var o=Dz(t,i,e);return So(o!==null),Xst(o,i,t.host)}return n}function ih(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=cst():i=lst():n.getStatus()===402?i=ust(t.bucket):n.getStatus()===403?i=hst(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function P0(t){var e=ih(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=ast(t.path)),o.serverResponse=i.serverResponse,o}return n}function Lz(t,e,n){var r=e.fullServerUrl(),i=pa(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new ls(i,o,A0(t,n),a);return u.errorHandler=P0(e),u}function Zst(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),u=pa(a,t.host),c="GET",h=t.maxOperationRetryTime,f=new ls(u,c,Qst(t,e.bucket),h);return f.urlParams=o,f.errorHandler=ih(e),f}function tat(t,e,n){var r=e.fullServerUrl(),i=pa(r,t.host),o="GET",a=t.maxOperationRetryTime,u=new ls(i,o,Jst(t,n),a);return u.errorHandler=P0(e),u}function eat(t,e,n,r){var i=e.fullServerUrl(),o=pa(i,t.host),a="PATCH",u=WC(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,f=new ls(o,a,A0(t,r),h);return f.headers=c,f.body=u,f.errorHandler=P0(e),f}function nat(t,e){var n=e.fullServerUrl(),r=pa(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(c,h){}var u=new ls(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=P0(e),u}function rat(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Fz(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=rat(null,e)),r}function iat(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){for(var T="",L=0;L<2;L++)T=T+Math.random().toString().slice(2);return T}var c=u();a["Content-Type"]="multipart/related; boundary="+c;var h=Fz(e,r,i),f=WC(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+c+"--",x=VC.getBlob(v,r,g);if(x===null)throw kz();var m={name:h.fullPath},E=pa(o,t.host),R="POST",C=t.maxUploadRetryTime,_=new ls(E,R,A0(t,n),C);return _.urlParams=m,_.headers=a,_.body=x.uploadData(),_.errorHandler=ih(e),_}var Hm=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function HC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{So(!1)}var r=e||["active"];return So(!!n&&r.indexOf(n)!==-1),n}function oat(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Fz(e,r,i),u={name:a.fullPath},c=pa(o,t.host),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=WC(a,n),g=t.maxUploadRetryTime;function x(E){HC(E);var R;try{R=E.getResponseHeader("X-Goog-Upload-URL")}catch{So(!1)}return So(C0(R)),R}var m=new ls(c,h,x,g);return m.urlParams=u,m.headers=f,m.body=v,m.errorHandler=ih(e),m}function sat(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(h){var f=HC(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{So(!1)}v||So(!1);var g=Number(v);return So(!isNaN(g)),new Hm(g,r.size(),f==="final")}var a="POST",u=t.maxUploadRetryTime,c=new ls(n,a,o,u);return c.headers=i,c.errorHandler=ih(e),c}var qD=256*1024;function aat(t,e,n,r,i,o,a,u){var c=new Hm(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw gst();var h=c.total-c.current,f=h;i>0&&(f=Math.min(f,i));var v=c.current,g=v+f,x=f===h?"upload, finalize":"upload",m={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":""+c.current},E=r.slice(v,g);if(E===null)throw kz();function R(L,j){var z=HC(L,["active","final"]),$=c.current+f,D=r.size(),P;return z==="final"?P=A0(e,o)(L,j):P=null,new Hm($,D,z==="final",P)}var C="POST",_=e.maxUploadRetryTime,T=new ls(n,C,R,_);return T.headers=m,T.body=E.uploadData(),T.progressCallback=u||null,T.errorHandler=ih(t),T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uat=function(){function t(e,n,r){var i=Rst(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jz=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=I0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=oat(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=sat(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(u){u=u,e._request=void 0,e._updateProgress(u.current),e._needToFetchStatus=!1,u.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=qD*this._chunkMultiplier,r=new Hm(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var u;try{u=aat(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(h){e._error=h,e._transition("error");return}var c=e._ref.storage._makeRequest(u,o,a);e._request=c,c.getPromise().then(function(h){e._increaseMultiplier(),e._request=void 0,e._updateProgress(h.current),h.finalized?(e._metadata=h.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=qD*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=Lz(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=iat(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Tz(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=N1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new uat(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(N1(this._state)){case _r.SUCCESS:Tl(this._resolve.bind(null,this.snapshot))();break;case _r.CANCELED:case _r.ERROR:var n=this._reject;Tl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=N1(this._state);switch(n){case _r.RUNNING:case _r.PAUSED:e.next&&Tl(e.next.bind(e,this.snapshot))();break;case _r.SUCCESS:e.complete&&Tl(e.complete.bind(e))();break;case _r.CANCELED:case _r.ERROR:e.error&&Tl(e.error.bind(e,this._error))();break;default:e.error&&Tl(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R0=function(){function t(e,n){this._service=e,n instanceof Ei?this._location=n:this._location=Ei.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Nz(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Vst(this._location.path);if(e===null)return null;var n=new Ei(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw Iz(e)},t}();function lat(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new jz(t,new VC(e),n)}function cat(t){var e={prefixes:[],items:[]};return Bz(t,e).then(function(){return e})}function Bz(t,e,n){return pt(this,void 0,void 0,function(){var r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return r={pageToken:n},[4,Uz(t,r)];case 1:return i=u.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,Bz(t,e,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Uz(t,e){return pt(this,void 0,void 0,function(){var n,r;return dt(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&QS("options.maxResults",1,1e3,e.maxResults),n=e||{},r=Zst(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function hat(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Lz(t.storage,t._location,I0()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function fat(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=eat(t.storage,t._location,e,I0()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function dat(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=tat(t.storage,t._location,I0()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw mst();return r})]}})})}function pat(t){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=nat(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function zz(t,e){var n=$st(t._location.path,e),r=new Ei(t._location.bucket,n);return new R0(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){return/^[A-Za-z]+:\/\//.test(t)}function vat(t,e){return new R0(t,e)}function Vz(t,e){if(t instanceof O0){var n=t;if(n._bucket==null)throw vst();var r=new R0(n,n._bucket);return e!=null?Vz(r,e):r}else return e!==void 0?zz(t,e):t}function gat(t,e){if(e&&JS(e)){if(t instanceof O0)return vat(t,e);throw tc("To use ref(service, url), the first argument must be a Storage instance.")}else return Vz(t,e)}function QD(t,e){var n=e==null?void 0:e[Ez];return n==null?null:Ei.makeFromBucketSpec(n,t)}function mat(t,e,n,r){r===void 0&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken=typeof i=="string"?i:ET(i,t.app.options.projectId))}var O0=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=Sz,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ost,this._maxUploadRetryTime=sst,this._requests=new Set,o!=null?this._bucket=Ei.makeFromBucketSpec(o,this._host):this._bucket=QD(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=QD(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){QS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){QS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new R0(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new Cst(Cz());var o=jst(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return pt(this,void 0,void 0,function(){var n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yat(t,e,n){return t=oe(t),lat(t,e,n)}function wat(t){return t=oe(t),hat(t)}function xat(t,e){return t=oe(t),fat(t,e)}function bat(t,e){return t=oe(t),Uz(t,e)}function _at(t){return t=oe(t),cat(t)}function Sat(t){return t=oe(t),dat(t)}function Eat(t){return t=oe(t),pat(t)}function JD(t,e){return t=oe(t),gat(t,e)}function Tat(t,e){return zz(t,e)}function kat(t,e,n,r){r===void 0&&(r={}),mat(t,e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var og=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZD=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new og(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new og(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(u){return n(new og(u,o,o._ref))}:a={next:n.next?function(u){return n.next(new og(u,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),tL=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Rd(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Rd(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Tat(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new ZD(yat(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=Si.RAW),this._throwIfRoot("putString");var i=Az(n,e),o=qt({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new ZD(new jz(this._delegate,new VC(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return _at(this._delegate).then(function(n){return new tL(n,e.storage)})},t.prototype.list=function(e){var n=this;return bat(this._delegate,e||void 0).then(function(r){return new tL(r,n.storage)})},t.prototype.getMetadata=function(){return wat(this._delegate)},t.prototype.updateMetadata=function(e){return xat(this._delegate,e)},t.prototype.getDownloadURL=function(){return Sat(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Eat(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw Iz(e)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cat=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(JS(e))throw tc("ref() expected a child path but got a URL, use refFromURL instead.");return new Rd(JD(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!JS(e))throw tc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ei.makeFromUrl(e,this._delegate.host)}catch{throw tc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Rd(JD(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),kat(this._delegate,e,n,r)},t}(),Iat="@firebase/storage",Aat="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pat="storage";function Rat(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new Cat(r,new O0(r,i,o,new kst,n,Ht.SDK_VERSION));return a}function Oat(t){var e={TaskState:_r,TaskEvent:Sst,StringFormat:Si,Storage:O0,Reference:Rd};t.INTERNAL.registerComponent(new dr(Pat,Rat,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Iat,Aat)}Oat(Ht);var Mat="@firebase/performance",$z="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wz=$z,Nat="FB-PERF-TRACE-START",Dat="FB-PERF-TRACE-STOP",ZS="FB-PERF-TRACE-MEASURE",Hz="_wt_",Gz="_fp",Kz="_fcp",Xz="_fid",Yz="@firebase/performance/config",qz="@firebase/performance/configexpire",Lat="performance",Qz="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn,Fat=(Vn={},Vn["trace started"]="Trace {$traceName} was started before.",Vn["trace stopped"]="Trace {$traceName} is not running.",Vn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Vn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Vn["no window"]="Window is not available.",Vn["no app id"]="App id is not available.",Vn["no project id"]="Project id is not available.",Vn["no api key"]="Api key is not available.",Vn["invalid cc log"]="Attempted to queue invalid cc event",Vn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Vn["RC response not ok"]="RC response is not ok",Vn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Vn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Vn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Vn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Vn),or=new ss(Lat,Qz,Fat);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs=new Lu(Qz);rs.logLevel=ce.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1,Jz,cr=function(){function t(e){if(this.window=e,!e)throw or.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(rs.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):qd()?!0:(rs.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var u=a[o];n(u)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return D1===void 0&&(D1=new t(Jz)),D1},t}();function jat(t){Jz=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e){var n=t.length-e.length;if(n<0||n>1)throw or.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L1,En=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=eL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=eL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw or.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw or.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw or.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return L1===void 0&&(L1=new t),L1},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zz;function Bat(){var t=En.getInstance().installationsService.getId();return t.then(function(e){Zz=e}),t}function GC(){return Zz}function Uat(){var t=En.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(ec||(ec={}));var zat=["firebase_","google_","ga_"],Vat=new RegExp("^[a-zA-Z]\\w*$"),$at=40,Wat=100;function Hat(){var t=cr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function tV(){var t=cr.getInstance().document,e=t.visibilityState;switch(e){case"visible":return ec.VISIBLE;case"hidden":return ec.HIDDEN;default:return ec.UNKNOWN}}function Gat(){var t=cr.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Kat(t){if(t.length===0||t.length>$at)return!1;var e=zat.some(function(n){return t.startsWith(n)});return!e&&!!t.match(Vat)}function Xat(t){return t.length!==0&&t.length<=Wat}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yat="0.0.1",qat={loggingEnabled:!0},Qat="FIREBASE_INSTALLATIONS_AUTH";function Jat(t){var e=Zat();return e?(nL(e),Promise.resolve()):nut(t).then(nL).then(function(n){return tut(n)},function(){})}function Zat(){var t=cr.getInstance().localStorage;if(t){var e=t.getItem(qz);if(!(!e||!rut(e))){var n=t.getItem(Yz);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function tut(t){var e=cr.getInstance().localStorage;!t||!e||(e.setItem(Yz,JSON.stringify(t)),e.setItem(qz,String(Date.now()+En.getInstance().configTimeToLive*60*60*1e3)))}var eut="Could not fetch config, will use default configs";function nut(t){return Uat().then(function(e){var n=En.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+En.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Qat+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:En.getInstance().getAppId(),app_version:Wz,sdk_version:Yat})});return fetch(i).then(function(o){if(o.ok)return o.json();throw or.create("RC response not ok")})}).catch(function(){rs.info(eut)})}function nL(t){if(!t)return t;var e=En.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=qat.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=rL(e.tracesSamplingRate),e.logNetworkAfterSampling=rL(e.networkRequestsSamplingRate),t}function rut(t){return Number(t)>Date.now()}function rL(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KC=1,F1;function eV(){return KC=2,F1=F1||out(),F1}function iut(){return KC===3}function out(){return sut().then(function(){return Bat()}).then(function(t){return Jat(t)}).then(function(){return iL()},function(){return iL()})}function sut(){var t=cr.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function iL(){KC=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XC=10*1e3,aut=5.5*1e3,nV=3,uut=1e3,Gm=nV,qs=[],oL=!1;function lut(){oL||(M0(aut),oL=!0)}function M0(t){setTimeout(function(){if(Gm!==0){if(!qs.length)return M0(XC);cut()}},t)}function cut(){var t=qs.splice(0,uut),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:En.getInstance().logSource,log_event:e};hut(n,t).catch(function(){qs=se(se([],t),qs),Gm--,rs.info("Tries left: "+Gm+"."),M0(XC)})}function hut(t,e){return fut(t).then(function(n){return n.ok||rs.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=XC;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(qs=se(se([],e),qs),rs.info("Retry transport request later.")),Gm=nV,M0(i)})}function fut(t){var e=En.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function dut(t){if(!t.eventTime||!t.message)throw or.create("invalid cc log");qs=se(se([],qs),[t])}function put(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);dut({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j1;function rV(t,e){j1||(j1=put(gut)),j1(t,e)}function sg(t){var e=En.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||cr.getInstance().requiredApisAvailable()&&(t.isAuto&&tV()!==ec.VISIBLE||(iut()?B1(t):eV().then(function(){return B1(t)},function(){return B1(t)})))}function B1(t){if(GC()){var e=En.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return rV(t,1)},0)}}function vut(t){var e=En.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return rV(t,0)},0)}}function gut(t,e){return e===0?mut(t):yut(t)}function mut(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:iV(),network_request_metric:e};return JSON.stringify(n)}function yut(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:iV(),trace_metric:e};return JSON.stringify(r)}function iV(){return{google_app_id:En.getInstance().getAppId(),app_instance_id:GC(),web_app_info:{sdk_version:Wz,page_url:cr.getInstance().getUrl(),service_worker_status:Hat(),visibility_state:tV(),effective_connection_type:Gat()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wut=100,xut="_",but=[Gz,Kz,Xz];function _ut(t,e){return t.length===0||t.length>wut?!1:e&&e.startsWith(Hz)&&but.indexOf(t)>-1||!t.startsWith(xut)}function Sut(t){var e=Math.floor(t);return e<t&&rs.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uf=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=cr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Nat+"-"+this.randomId+"-"+this.name,this.traceStopMark=Dat+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||ZS+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw or.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw or.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),sg(this)},t.prototype.record=function(e,n,r){if(e<=0)throw or.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw or.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=qt({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}sg(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(_ut(e,this.name))this.counters[e]=Sut(n);else throw or.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=Kat(e),i=Xat(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw or.create("invalid attribute name",{attributeName:e});if(!i)throw or.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return qt({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=cr.getInstance().getUrl();if(i){var o=new t(Hz+i,!0),a=Math.floor(cr.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var u="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===u});h&&h.startTime&&o.putMetric(Gz,Math.floor(h.startTime*1e3));var f=n.find(function(v){return v.name===c});f&&f.startTime&&o.putMetric(Kz,Math.floor(f.startTime*1e3)),r&&o.putMetric(Xz,Math.floor(r*1e3))}sg(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);sg(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=cr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],u={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};vut(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eut=5e3;function aL(){GC()&&(setTimeout(function(){return kut()},0),setTimeout(function(){return Tut()},0),setTimeout(function(){return Cut()},0))}function Tut(){for(var t=cr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];sL(i)}t.setupObserver("resource",sL)}function kut(){var t=cr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Uf.createOobTrace(e,n),r=void 0},Eut);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),Uf.createOobTrace(e,n,i))})}else Uf.createOobTrace(e,n)}function Cut(){for(var t=cr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];uL(i)}t.setupObserver("measure",uL)}function uL(t){var e=t.name;e.substring(0,ZS.length)!==ZS&&Uf.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iut=function(){function t(e){this.app=e,cr.getInstance().requiredApisAvailable()&&CT().then(function(n){n&&(lut(),eV().then(aL,aL))}).catch(function(n){rs.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new Uf(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return En.getInstance().instrumentationEnabled},set:function(e){En.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return En.getInstance().dataCollectionEnabled},set:function(e){En.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aut="[DEFAULT]";function Put(t){var e=function(n,r){if(n.name!==Aut)throw or.create("FB not default");if(typeof window>"u")throw or.create("no window");return jat(window),En.getInstance().firebaseAppInstance=n,En.getInstance().installationsService=r,new Iut(n)};t.INTERNAL.registerComponent(new dr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(Mat,$z)}Put(Ht);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rut="firebase_id",Out="origin",Mut=60*1e3,Nut="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oV="https://www.googletagmanager.com/gtag/js",hr;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(hr||(hr={}));var tE;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(tE||(tE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dut(t,e,n,r,i){return pt(this,void 0,void 0,function(){var o,a;return dt(this,function(u){switch(u.label){case 0:return i&&i.global?(t(hr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),a=qt(qt({},r),{send_to:o}),t(hr.EVENT,n,a),u.label=3;case 3:return[2]}})})}function Lut(t,e,n,r){return pt(this,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:return r&&r.global?(t(hr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(hr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function Fut(t,e,n,r){return pt(this,void 0,void 0,function(){var i;return dt(this,function(o){switch(o.label){case 0:return r&&r.global?(t(hr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(hr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function jut(t,e,n,r){return pt(this,void 0,void 0,function(){var i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return t(hr.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=h.sent(),t(hr.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function But(t,e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn=new Lu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uut(t,e){var n=document.createElement("script");n.src=oV+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function zut(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function Vut(t,e,n,r,i,o){return pt(this,void 0,void 0,function(){var a,u,c,h;return dt(this,function(f){switch(f.label){case 0:a=r[i],f.label=1;case 1:return f.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return f.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=f.sent(),c=u.find(function(v){return v.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:f.sent(),f.label=6;case 6:return[3,8];case 7:return h=f.sent(),Hn.error(h),[3,8];case 8:return t(hr.CONFIG,i,o),[2]}})})}function $ut(t,e,n,r,i){return pt(this,void 0,void 0,function(){var o,a,u,c,h,f,v,g,x;return dt(this,function(m){switch(m.label){case 0:return m.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=m.sent(),c=function(E){var R=u.find(function(_){return _.measurementId===E}),C=R&&e[R.appId];if(C)o.push(C);else return o=[],"break"},h=0,f=a;h<f.length&&(v=f[h],g=c(v),g!=="break");h++);m.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return m.sent(),t(hr.EVENT,r,i||{}),[3,5];case 4:return x=m.sent(),Hn.error(x),[3,5];case 5:return[2]}})})}function Wut(t,e,n,r){function i(o,a,u){return pt(this,void 0,void 0,function(){var c;return dt(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),o!==hr.EVENT?[3,2]:[4,$ut(t,e,n,a,u)];case 1:return h.sent(),[3,5];case 2:return o!==hr.CONFIG?[3,4]:[4,Vut(t,e,n,r,a,u)];case 3:return h.sent(),[3,5];case 4:t(hr.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Hn.error(c),[3,7];case 7:return[2]}})})}return i}function Hut(t,e,n,r,i){var o=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Wut(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function Gut(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(oV))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i,Kut=($i={},$i["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",$i["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",$i["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",$i["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$i["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$i["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",$i["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",$i["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',$i["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',$i),Ii=new ss("analytics","Analytics",Kut);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xut=30,Yut=1e3,qut=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=Yut),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),sV=new qut;function Qut(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Jut(t){var e;return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return dt(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Qut(r)},o=Nut.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];u="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Ii.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function Zut(t,e,n){return e===void 0&&(e=sV),pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h=this;return dt(this,function(f){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Ii.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Ii.create("no-api-key")}return u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new nlt,setTimeout(function(){return pt(h,void 0,void 0,function(){return dt(this,function(v){return c.abort(),[2]})})},n!==void 0?n:Mut),[2,aV({appId:i,apiKey:o,measurementId:a},u,c,e)]})})}function aV(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=sV),pt(this,void 0,void 0,function(){var a,u,c,h,f,v,g;return dt(this,function(x){switch(x.label){case 0:a=t.appId,u=t.measurementId,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,tlt(n,i)];case 2:return x.sent(),[3,4];case 3:if(c=x.sent(),u)return Hn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:u}];throw c;case 4:return x.trys.push([4,6,,7]),[4,Jut(t)];case 5:return h=x.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(f=x.sent(),!elt(f)){if(r.deleteThrottleMetadata(a),u)return Hn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+u)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:a,measurementId:u}];throw f}return v=Number(f.customData.httpStatus)===503?tS(o,r.intervalMillis,Xut):tS(o,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:o+1},r.setThrottleMetadata(a,g),Hn.debug("Calling attemptFetch again in "+v+" millis"),[2,aV(t,g,n,r)];case 7:return[2]}})})}function tlt(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function elt(t){if(!(t instanceof Vc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var nlt=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rlt(){return pt(this,void 0,void 0,function(){var t;return dt(this,function(e){switch(e.label){case 0:return qd()?[3,1]:(Hn.warn(Ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,CT()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Hn.warn(Ii.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function ilt(t,e,n,r,i,o){return pt(this,void 0,void 0,function(){var a,u,c,h,f,v,g;return dt(this,function(x){switch(x.label){case 0:return a=Zut(t),a.then(function(m){n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Hn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+m.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(m){return Hn.error(m)}),e.push(a),u=rlt().then(function(m){if(m)return r.getId()}),[4,Promise.all([a,u])];case 1:return c=x.sent(),h=c[0],f=c[1],Gut()||Uut(o,h.measurementId),i("js",new Date),v=(g={},g[Out]="firebase",g.update=!0,g),f!=null&&(v[Rut]=f),i(hr.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo={},lL=[],cL={},Ig="dataLayer",uV="gtag",hL,rf,eE=!1;function olt(t){if(eE)throw Ii.create("already-initialized");t.dataLayerName&&(Ig=t.dataLayerName),t.gtagName&&(uV=t.gtagName)}function slt(){var t=[];if(kT()&&t.push("This is a browser extension environment."),Pj()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Ii.create("invalid-analytics-context",{errorInfo:e});Hn.warn(n.message)}}function alt(t,e){slt();var n=t.options.appId;if(!n)throw Ii.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Hn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Ii.create("no-api-key");if(Lo[n]!=null)throw Ii.create("already-exists",{id:n});if(!eE){zut(Ig);var r=Hut(Lo,lL,cL,Ig,uV),i=r.wrappedGtag,o=r.gtagCore;rf=i,hL=o,eE=!0}Lo[n]=ilt(t,lL,cL,e,hL,Ig);var a={app:t,logEvent:function(u,c,h){Dut(rf,Lo[n],u,c,h).catch(function(f){return Hn.error(f)})},setCurrentScreen:function(u,c){Lut(rf,Lo[n],u,c).catch(function(h){return Hn.error(h)})},setUserId:function(u,c){Fut(rf,Lo[n],u,c).catch(function(h){return Hn.error(h)})},setUserProperties:function(u,c){jut(rf,Lo[n],u,c).catch(function(h){return Hn.error(h)})},setAnalyticsCollectionEnabled:function(u){But(Lo[n],u).catch(function(c){return Hn.error(c)})},INTERNAL:{delete:function(){return delete Lo[n],Promise.resolve()}}};return a}var ult="@firebase/analytics",llt="0.6.18",fL="analytics";function clt(t){t.INTERNAL.registerComponent(new dr(fL,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return alt(r,i)},"PUBLIC").setServiceProps({settings:olt,EventName:tE,isSupported:hlt})),t.INTERNAL.registerComponent(new dr("analytics-internal",e,"PRIVATE")),t.registerVersion(ult,llt);function e(n){try{var r=n.getProvider(fL).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Ii.create("interop-component-reg-failed",{reason:i})}}}clt(Ht);function hlt(){return pt(this,void 0,void 0,function(){var t;return dt(this,function(e){switch(e.label){case 0:if(kT())return[2,!1];if(!Pj())return[2,!1];if(!qd())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,CT()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var flt=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return pt(this,void 0,void 0,function(){var n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=u.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=u.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return u.sent(),[2,o]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr,dlt=(wr={},wr["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",wr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",wr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",wr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",wr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",wr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",wr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",wr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",wr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",wr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',wr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',wr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",wr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",wr),Ti=new ss("remoteconfig","Remote Config",dlt);function plt(t,e){return t instanceof Vc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vlt(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var glt=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return pt(this,void 0,void 0,function(){var n,r,i,o,a,u,c,h,f,v,g,x,m,E,R,C,_,T,L;return dt(this,function(j){switch(j.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=j.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:vlt()},h={method:"POST",headers:u,body:JSON.stringify(c)},f=fetch(a,h),v=new Promise(function(z,$){e.signal.addEventListener(function(){var D=new Error("The operation was aborted.");D.name="AbortError",$(D)})}),j.label=2;case 2:return j.trys.push([2,5,,6]),[4,Promise.race([f,v])];case 3:return j.sent(),[4,f];case 4:return g=j.sent(),[3,6];case 5:throw x=j.sent(),m="fetch-client-network",x.name==="AbortError"&&(m="fetch-timeout"),Ti.create(m,{originalErrorMessage:x.message});case 6:if(E=g.status,R=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];T=void 0,j.label=7;case 7:return j.trys.push([7,9,,10]),[4,g.json()];case 8:return T=j.sent(),[3,10];case 9:throw L=j.sent(),Ti.create("fetch-client-parse",{originalErrorMessage:L.message});case 10:C=T.entries,_=T.state,j.label=11;case 11:if(_==="INSTANCE_STATE_UNSPECIFIED"?E=500:_==="NO_CHANGE"?E=304:(_==="NO_TEMPLATE"||_==="EMPTY_CONFIG")&&(C={}),E!==304&&E!==200)throw Ti.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:R,config:C}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mlt=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ylt=!1,wlt="",dL=0,xlt=["1","true","t","yes","y","on"],U1=function(){function t(e,n){n===void 0&&(n=wlt),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?ylt:xlt.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return dL;var e=Number(this._value);return isNaN(e)&&(e=dL),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var blt=60*1e3,_lt=12*60*60*1e3,Slt=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:blt,minimumFetchIntervalMillis:_lt},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ce.DEBUG;break;case"silent":this._logger.logLevel=ce.SILENT;break;default:this._logger.logLevel=ce.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return pt(this,void 0,void 0,function(){var e,n,r,i=this;return dt(this,function(o){switch(o.label){case 0:e=new mlt,setTimeout(function(){return pt(i,void 0,void 0,function(){return dt(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=plt(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return pt(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return Elt(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new U1("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new U1("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new U1("static"))},t}();function Elt(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(qt(qt({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){var n=t.target.error||void 0;return Ti.create(e,{originalErrorMessage:n&&n.message})}var Va="app_namespace_store",Tlt="firebase_remote_config",klt=1;function Clt(){return new Promise(function(t,e){var n=indexedDB.open(Tlt,klt);n.onerror=function(r){e(Ag(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Va,{keyPath:"compositeKey"})}}})}var Ilt=function(){function t(e,n,r,i){i===void 0&&(i=Clt()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Va],"readonly"),c=u.objectStore(Va),h=r.createCompositeKey(e);try{var f=c.get(h);f.onerror=function(v){a(Ag(v,"storage-get"))},f.onsuccess=function(v){var g=v.target.result;o(g?g.value:void 0)}}catch(v){a(Ti.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return pt(this,void 0,void 0,function(){var r,i=this;return dt(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,u){var c=r.transaction([Va],"readwrite"),h=c.objectStore(Va),f=i.createCompositeKey(e);try{var v=h.put({compositeKey:f,value:n});v.onerror=function(g){u(Ag(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){u(Ti.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.delete=function(e){return pt(this,void 0,void 0,function(){var n,r=this;return dt(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var u=n.transaction([Va],"readwrite"),c=u.objectStore(Va),h=r.createCompositeKey(e);try{var f=c.delete(h);f.onerror=function(v){a(Ag(v,"storage-delete"))},f.onsuccess=function(){o()}}catch(v){a(Ti.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Alt=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return pt(this,void 0,void 0,function(){var e,n,r,i,o,a;return dt(this,function(u){switch(u.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=u.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=u.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=u.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Plt(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ti.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Rlt(t){if(!(t instanceof Vc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Olt=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return pt(this,void 0,void 0,function(){var o,a,u;return dt(this,function(c){switch(c.label){case 0:return[4,Plt(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!Rlt(a))throw a;return u={throttleEndTimeMillis:Date.now()+tS(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(u)];case 6:return c.sent(),[2,this.attemptFetch(e,u)];case 7:return[2]}})})},t}(),pL="@firebase/remote-config",Mlt="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nlt(t){t.INTERNAL.registerComponent(new dr("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(pL,Mlt);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Ti.create("registration-window");var u=o.options,c=u.projectId,h=u.apiKey,f=u.appId;if(!c)throw Ti.create("registration-project-id");if(!h)throw Ti.create("registration-api-key");if(!f)throw Ti.create("registration-app-id");i=i||"firebase";var v=new Ilt(f,o.name,i),g=new Alt(v),x=new Lu(pL);x.logLevel=ce.ERROR;var m=new glt(a,t.SDK_VERSION,i,c,h,f),E=new Olt(m,v),R=new flt(E,v,g,x),C=new Slt(o,R,g,v,x);return C.ensureInitialized(),C}}Nlt(Ht);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi,Dlt=(Wi={},Wi["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Wi["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Wi["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Wi["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Wi["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Wi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Wi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Wi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Wi["recaptcha-error"]="ReCAPTCHA error.",Wi),oi=new ss("appCheck","AppCheck",Dlt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lV=new Map,Llt={activated:!1,tokenObservers:[]},Flt={enabled:!1};function Ar(t){return lV.get(t)||Llt}function Eo(t,e){lV.set(t,e)}function YC(){return Flt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cV="https://content-firebaseappcheck.googleapis.com/v1beta",jlt="exchangeRecaptchaToken",Blt="exchangeDebugToken",vL={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ult=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return pt(this,void 0,void 0,function(){var n;return dt(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Nn,[4,zlt(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Nn,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function zlt(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return self.grecaptcha}function hV(t){if(!Ar(t).activated)throw oi.create("use-before-activation",{appName:t.name})}function Vlt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function $lt(t){return Ay.encodeString(JSON.stringify(t),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t,e){var n=t.url,r=t.body;return pt(this,void 0,void 0,function(){var i,o,a,u,c,h,f,v,g,x;return dt(this,function(m){switch(m.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},m.label=1;case 1:return m.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return u=m.sent(),[3,4];case 3:throw c=m.sent(),oi.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(u.status!==200)throw oi.create("fetch-status-error",{httpStatus:u.status});m.label=5;case 5:return m.trys.push([5,7,,8]),[4,u.json()];case 6:return h=m.sent(),[3,8];case 7:throw f=m.sent(),oi.create("fetch-parse-error",{originalErrorMessage:f.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return g=Number(v[1])*1e3,x=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:x+g,issuedAtTimeMillis:x}]}})})}function Wlt(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:cV+"/projects/"+r+"/apps/"+i+":"+jlt+"?key="+o,body:{recaptcha_token:e}}}function Hlt(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:cV+"/projects/"+r+"/apps/"+i+":"+Blt+"?key="+o,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Glt="firebase-app-check-database",Klt=1,Od="firebase-app-check-store",dV="debug-token",ag=null;function pV(){return ag||(ag=new Promise(function(t,e){try{var n=indexedDB.open(Glt,Klt);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Od,{keyPath:"compositeKey"})}}}catch(r){e(oi.create("storage-open",{originalErrorMessage:r.message}))}}),ag)}function Xlt(t){return gV(mV(t))}function Ylt(t,e){return vV(mV(t),e)}function qlt(t){return vV(dV,t)}function Qlt(){return gV(dV)}function vV(t,e){return pt(this,void 0,void 0,function(){var n,r,i,o;return dt(this,function(a){switch(a.label){case 0:return[4,pV()];case 1:return n=a.sent(),r=n.transaction(Od,"readwrite"),i=r.objectStore(Od),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(u,c){o.onsuccess=function(h){u()},r.onerror=function(h){var f;c(oi.create("storage-set",{originalErrorMessage:(f=h.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function gV(t){return pt(this,void 0,void 0,function(){var e,n,r,i;return dt(this,function(o){switch(o.label){case 0:return[4,pV()];case 1:return e=o.sent(),n=e.transaction(Od,"readonly"),r=n.objectStore(Od),i=r.get(t),[2,new Promise(function(a,u){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;u(oi.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function mV(t){return t.options.appId+"-"+t.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N0=new Lu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jlt(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:if(!qd())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Xlt(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),N0.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function mL(t,e){return qd()?Ylt(t,e).catch(function(n){N0.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Zlt(){return pt(this,void 0,void 0,function(){var t,e;return dt(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Qlt()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=Vlt(),qlt(e).catch(function(r){return N0.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tct(){var t=YC();return t.enabled}function ect(){return pt(this,void 0,void 0,function(){var t;return dt(this,function(e){if(t=YC(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function nct(){var t=s9();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=YC();e.enabled=!0;var n=new Nn;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Zlt())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rct={error:"UNKNOWN_ERROR"};function Km(t,e,n){return n===void 0&&(n=!1),pt(this,void 0,void 0,function(){var r,i,o,a,u,c,h,f,v,g;return dt(this,function(x){switch(x.label){case 0:return hV(t),r=Ar(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=x.sent(),a&&Md(a)&&(i=a,Eo(t,qt(qt({},r),{token:i})),yL(t,{token:i.token})),x.label=2;case 2:return!n&&i&&Md(i)?[2,{token:i.token}]:tct()?(c=fV,h=Hlt,f=[t],[4,ect()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,f.concat([x.sent()])),e])];case 4:return u=x.sent(),[4,mL(t,u)];case 5:return x.sent(),Eo(t,qt(qt({},r),{token:u})),[2,{token:u.token}];case 6:return x.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=x.sent(),[3,9];case 8:return v=x.sent(),N0.error(v),o=v,[3,9];case 9:return i?[3,10]:(g=oct(o),[3,12]);case 10:return g={token:i.token},Eo(t,qt(qt({},r),{token:i})),[4,mL(t,i)];case 11:x.sent(),x.label=12;case 12:return yL(t,g),[2,g]}})})}function yV(t,e,n,r,i){var o=Ar(t),a={next:r,error:i,type:n},u=qt(qt({},o),{tokenObservers:se(se([],o.tokenObservers),[a])});if(!u.tokenRefresher){var c=ict(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&Md(o.token)){var h=o.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else o.token==null&&o.cachedTokenPromise.then(function(f){f&&Md(f)&&r({token:f.token})}).catch(function(){});Eo(t,u)}function qC(t,e){var n=Ar(t),r=n.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Eo(t,qt(qt({},n),{tokenObservers:r}))}function ict(t,e){var n=this;return new Ult(function(){return pt(n,void 0,void 0,function(){var r,i;return dt(this,function(o){switch(o.label){case 0:return r=Ar(t),r.token?[3,2]:[4,Km(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,Km(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Ar(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},vL.RETRIAL_MIN_WAIT,vL.RETRIAL_MAX_WAIT)}function yL(t,e){for(var n=Ar(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{o.type==="EXTERNAL"&&e.error!=null?o.error(e.error):o.next(e)}catch{}}}function Md(t){return t.expireTimeMillis-Date.now()>0}function oct(t){return{token:$lt(rct),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sct="https://www.google.com/recaptcha/api.js";function act(t,e){var n=Ar(t),r=new Nn;Eo(t,qt(qt({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=gL();return a?a.ready(function(){wL(t,e,a,i),r.resolve(a)}):lct(function(){var u=gL();if(!u)throw new Error("no recaptcha");u.ready(function(){wL(t,e,u,i),r.resolve(u)})}),r.promise}function uct(t){return pt(this,void 0,void 0,function(){var e,n;return dt(this,function(r){switch(r.label){case 0:return hV(t),e=Ar(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Ar(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function wL(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=Ar(t);Eo(t,qt(qt({},o),{reCAPTCHAState:qt(qt({},o.reCAPTCHAState),{widgetId:i})}))}function lct(t){var e=document.createElement("script");e.src=""+sct,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nE=function(){function t(e){this._siteKey=e}return t.prototype.getToken=function(){return pt(this,void 0,void 0,function(){var e;return dt(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw oi.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,uct(this._app)];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),oi.create("recaptcha-error");case 4:return[2,fV(Wlt(this._app,e),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(e,n){this._app=e,this._platformLoggerProvider=n,act(e,this._siteKey).catch(function(){})},t}(),rE=function(){function t(e){this._customProviderOptions=e}return t.prototype.getToken=function(){return pt(this,void 0,void 0,function(){var e,n,r;return dt(this,function(i){switch(i.label){case 0:if(!this._app)throw oi.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),n=c9(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,qt(qt({},e),{issuedAtTimeMillis:r})]}})})},t.prototype.initialize=function(e){this._app=e},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cct(t,e,n,r){var i=Ar(t);if(i.activated)throw oi.create("already-activated",{appName:t.name});var o=qt(qt({},i),{activated:!0});o.cachedTokenPromise=Jlt(t).then(function(a){return a&&Md(a)&&Eo(t,qt(qt({},Ar(t)),{token:a})),a}),typeof e=="string"?o.provider=new nE(e):e instanceof nE||e instanceof rE?o.provider=e:o.provider=new rE({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,Eo(t,o),o.provider.initialize(t,n)}function hct(t,e){var n=Ar(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Eo(t,qt(qt({},n),{isTokenAutoRefreshEnabled:e}))}function fct(t,e,n){return pt(this,void 0,void 0,function(){var r;return dt(this,function(i){switch(i.label){case 0:return[4,Km(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function dct(t,e,n,r,i){var o=function(){},a=function(){};return n.next!=null?o=n.next.bind(n):o=n,n.error!=null?a=n.error.bind(n):r&&(a=r),yV(t,e,"EXTERNAL",o,a),function(){return qC(t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pct(t,e){return{app:t,activate:function(n,r){return cct(t,n,e,r)},setTokenAutoRefreshEnabled:function(n){return hct(t,n)},getToken:function(n){return fct(t,e,n)},onTokenChanged:function(n,r,i){return dct(t,e,n,r)},INTERNAL:{delete:function(){for(var n=Ar(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];qC(t,o.next)}return Promise.resolve()}}}}function vct(t,e){return{getToken:function(n){return Km(t,e,n)},addTokenListener:function(n){return yV(t,e,"INTERNAL",n)},removeTokenListener:function(n){return qC(t,n)}}}var gct="@firebase/app-check",mct="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yct="appCheck",xL="app-check-internal";function wct(t){t.INTERNAL.registerComponent(new dr(yct,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return pct(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:nE,CustomProvider:rE}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(xL);i.initialize()})),t.INTERNAL.registerComponent(new dr(xL,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return vct(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(gct,mct)}wct(Ht);nct();var xct="firebase",wV="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.registerVersion(xct,wV,"app");Ht.SDK_VERSION=wV;var bct="firebase",_ct="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);Ht.registerVersion(bct,_ct);const Sct={apiKey:"AIzaSyB3lFBBU09nxOWfxymDhU3FQakoXAHOFiw",authDomain:"financial-flow-fe.firebaseapp.com",projectId:"financial-flow-fe",storageBucket:"financial-flow-fe.appspot.com",messagingSenderId:"7995863534",appId:"1:7995863534:web:9b0dfaf43acd0da12fdeff"};Ht.initializeApp(Sct);const Xm=Ht.firestore();var iE={},Ect={get exports(){return iE},set exports(t){iE=t}};(function(t){(function(e,n){t.exports?(n.default=n,t.exports=e.document?n(e):n):(e.Highcharts&&e.Highcharts.error(16,!0),e.Highcharts=n(e))})(typeof window<"u"?window:bL,function(e){function n(i,o,a,u){i.hasOwnProperty(o)||(i[o]=u.apply(null,a),typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:i[o]}})))}var r={};return n(r,"Core/Globals.js",[],function(){var i;return function(o){o.SVG_NS="http://www.w3.org/2000/svg",o.product="Highcharts",o.version="10.3.3",o.win=typeof e<"u"?e:{},o.doc=o.win.document,o.svg=o.doc&&o.doc.createElementNS&&!!o.doc.createElementNS(o.SVG_NS,"svg").createSVGRect,o.userAgent=o.win.navigator&&o.win.navigator.userAgent||"",o.isChrome=o.userAgent.indexOf("Chrome")!==-1,o.isFirefox=o.userAgent.indexOf("Firefox")!==-1,o.isMS=/(edge|msie|trident)/i.test(o.userAgent)&&!o.win.opera,o.isSafari=!o.isChrome&&o.userAgent.indexOf("Safari")!==-1,o.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(o.userAgent),o.isWebKit=o.userAgent.indexOf("AppleWebKit")!==-1,o.deg2rad=2*Math.PI/360,o.hasBidiBug=o.isFirefox&&4>parseInt(o.userAgent.split("Firefox/")[1],10),o.hasTouch=!!o.win.TouchEvent,o.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],o.noop=function(){},o.supportsPassiveEvents=function(){var a=!1;if(!o.isMS){var u=Object.defineProperty({},"passive",{get:function(){a=!0}});o.win.addEventListener&&o.win.removeEventListener&&(o.win.addEventListener("testPassive",o.noop,u),o.win.removeEventListener("testPassive",o.noop,u))}return a}(),o.charts=[],o.dateFormats={},o.seriesTypes={},o.symbolSizes={},o.chartCount=0}(i||(i={})),i}),n(r,"Core/Utilities.js",[r["Core/Globals.js"]],function(i){function o(d,w,O,S){var F=w?"Highcharts error":"Highcharts warning";d===32&&(d=""+F+": Deprecated member");var V=x(d),K=V?""+F+" #"+d+": www.highcharts.com/errors/"+d+"/":d.toString();if(typeof S<"u"){var Y="";V&&(K+="?"),z(S,function(M,B){Y+=`
 - `.concat(B,": ").concat(M),V&&(K+=encodeURI(B)+"="+encodeURI(M))}),K+=Y}D(i,"displayError",{chart:O,code:d,message:K,params:S},function(){if(w)throw Error(K);A.console&&o.messages.indexOf(K)===-1&&console.warn(K)}),o.messages.push(K)}function a(d,w){var O={};return z(d,function(S,F){f(d[F],!0)&&!d.nodeType&&w[F]?(S=a(d[F],w[F]),Object.keys(S).length&&(O[F]=S)):(f(d[F])||d[F]!==w[F]||F in d&&!(F in w))&&(O[F]=d[F])}),O}function u(d,w){return parseInt(d,w||10)}function c(d){return typeof d=="string"}function h(d){return d=Object.prototype.toString.call(d),d==="[object Array]"||d==="[object Array Iterator]"}function f(d,w){return!!d&&typeof d=="object"&&(!w||!h(d))}function v(d){return f(d)&&typeof d.nodeType=="number"}function g(d){var w=d&&d.constructor;return!(!f(d,!0)||v(d)||!w||!w.name||w.name==="Object")}function x(d){return typeof d=="number"&&!isNaN(d)&&1/0>d&&-1/0<d}function m(d){return typeof d<"u"&&d!==null}function E(d,w,O){var S=c(w)&&!m(O),F,V=function(K,Y){m(K)?d.setAttribute(Y,K):S?(F=d.getAttribute(Y))||Y!=="class"||(F=d.getAttribute(Y+"Name")):d.removeAttribute(Y)};return c(w)?V(O,w):z(w,V),F}function R(d,w){var O;d||(d={});for(O in w)d[O]=w[O];return d}function C(){for(var d=arguments,w=d.length,O=0;O<w;O++){var S=d[O];if(typeof S<"u"&&S!==null)return S}}function _(d,w){i.isMS&&!i.svg&&w&&m(w.opacity)&&(w.filter="alpha(opacity=".concat(100*w.opacity,")")),R(d.style,w)}function T(d){return Math.pow(10,Math.floor(Math.log(d)/Math.LN10))}function L(d,w){return 1e14<d?d:parseFloat(d.toPrecision(w||14))}function j(d,w,O){var S=i.getStyle||j;if(w==="width")return w=Math.min(d.offsetWidth,d.scrollWidth),O=d.getBoundingClientRect&&d.getBoundingClientRect().width,O<w&&O>=w-1&&(w=Math.floor(O)),Math.max(0,w-(S(d,"padding-left",!0)||0)-(S(d,"padding-right",!0)||0));if(w==="height")return Math.max(0,Math.min(d.offsetHeight,d.scrollHeight)-(S(d,"padding-top",!0)||0)-(S(d,"padding-bottom",!0)||0));if(A.getComputedStyle||o(27,!0),d=A.getComputedStyle(d,void 0)){var F=d.getPropertyValue(w);C(O,w!=="opacity")&&(F=u(F))}return F}function z(d,w,O){for(var S in d)Object.hasOwnProperty.call(d,S)&&w.call(O||d[S],d[S],S,d)}function $(d,w,O){function S(Y,M){var B=d.removeEventListener||i.removeEventListenerPolyfill;B&&B.call(d,Y,M,!1)}function F(Y){var M;if(d.nodeName){if(w){var B={};B[w]=!0}else B=Y;z(B,function(H,q){if(Y[q])for(M=Y[q].length;M--;)S(q,Y[q][M].fn)})}}var V=typeof d=="function"&&d.prototype||d;if(Object.hasOwnProperty.call(V,"hcEvents")){var K=V.hcEvents;w?(V=K[w]||[],O?(K[w]=V.filter(function(Y){return O!==Y.fn}),S(w,O)):(F(K),K[w]=[])):(F(K),delete V.hcEvents)}}function D(d,w,O,S){if(O=O||{},I.createEvent&&(d.dispatchEvent||d.fireEvent&&d!==i)){var F=I.createEvent("Events");F.initEvent(w,!0,!0),O=R(F,O),d.dispatchEvent?d.dispatchEvent(O):d.fireEvent(w,O)}else if(d.hcEvents){O.target||R(O,{preventDefault:function(){O.defaultPrevented=!0},target:d,type:w}),F=[];for(var V=d,K=!1;V.hcEvents;)Object.hasOwnProperty.call(V,"hcEvents")&&V.hcEvents[w]&&(F.length&&(K=!0),F.unshift.apply(F,V.hcEvents[w])),V=Object.getPrototypeOf(V);K&&F.sort(function(Y,M){return Y.order-M.order}),F.forEach(function(Y){Y.fn.call(d,O)===!1&&O.preventDefault()})}S&&!O.defaultPrevented&&S.call(d,O)}var P=i.charts,I=i.doc,A=i.win;(o||(o={})).messages=[],Math.easeInOutSine=function(d){return-.5*(Math.cos(Math.PI*d)-1)};var k=Array.prototype.find?function(d,w){return d.find(w)}:function(d,w){var O,S=d.length;for(O=0;O<S;O++)if(w(d[O],O))return d[O]};z({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(d,w){i[w]=function(O){var S;return o(32,!1,void 0,(S={},S["Highcharts.".concat(w)]="use Array.".concat(d),S)),Array.prototype[d].apply(O,[].slice.call(arguments,1))}});var b,y=function(){var d=Math.random().toString(36).substring(2,9)+"-",w=0;return function(){return"highcharts-"+(b?"":d)+w++}}();return A.jQuery&&(A.jQuery.fn.highcharts=function(){var d=[].slice.call(arguments);if(this[0])return d[0]?(new i[c(d[0])?d.shift():"Chart"](this[0],d[0],d[1]),this):P[E(this[0],"data-highcharts-chart")]}),k={addEvent:function(d,w,O,S){S===void 0&&(S={});var F=typeof d=="function"&&d.prototype||d;Object.hasOwnProperty.call(F,"hcEvents")||(F.hcEvents={}),F=F.hcEvents,i.Point&&d instanceof i.Point&&d.series&&d.series.chart&&(d.series.chart.runTrackerClick=!0);var V=d.addEventListener||i.addEventListenerPolyfill;return V&&V.call(d,w,O,i.supportsPassiveEvents?{passive:S.passive===void 0?w.indexOf("touch")!==-1:S.passive,capture:!1}:!1),F[w]||(F[w]=[]),F[w].push({fn:O,order:typeof S.order=="number"?S.order:1/0}),F[w].sort(function(K,Y){return K.order-Y.order}),function(){$(d,w,O)}},arrayMax:function(d){for(var w=d.length,O=d[0];w--;)d[w]>O&&(O=d[w]);return O},arrayMin:function(d){for(var w=d.length,O=d[0];w--;)d[w]<O&&(O=d[w]);return O},attr:E,clamp:function(d,w,O){return d>w?d<O?d:O:w},cleanRecursively:a,clearTimeout:function(d){m(d)&&clearTimeout(d)},correctFloat:L,createElement:function(d,w,O,S,F){return d=I.createElement(d),w&&R(d,w),F&&_(d,{padding:"0",border:"none",margin:"0"}),O&&_(d,O),S&&S.appendChild(d),d},css:_,defined:m,destroyObjectProperties:function(d,w){z(d,function(O,S){O&&O!==w&&O.destroy&&O.destroy(),delete d[S]})},discardElement:function(d){d&&d.parentElement&&d.parentElement.removeChild(d)},erase:function(d,w){for(var O=d.length;O--;)if(d[O]===w){d.splice(O,1);break}},error:o,extend:R,extendClass:function(d,w){var O=function(){};return O.prototype=new d,R(O.prototype,w),O},find:k,fireEvent:D,getMagnitude:T,getNestedProperty:function(d,w){for(d=d.split(".");d.length&&m(w);){var O=d.shift();if(typeof O>"u"||O==="__proto__"||(w=w[O],!m(w)||typeof w=="function"||typeof w.nodeType=="number"||w===A))return}return w},getStyle:j,inArray:function(d,w,O){return o(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),w.indexOf(d,O)},isArray:h,isClass:g,isDOMElement:v,isFunction:function(d){return typeof d=="function"},isNumber:x,isObject:f,isString:c,keys:function(d){return o(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(d)},merge:function(){var d,w=arguments,O={},S=function(V,K){return typeof V!="object"&&(V={}),z(K,function(Y,M){M!=="__proto__"&&M!=="constructor"&&(!f(Y,!0)||g(Y)||v(Y)?V[M]=K[M]:V[M]=S(V[M]||{},Y))}),V};w[0]===!0&&(O=w[1],w=Array.prototype.slice.call(w,2));var F=w.length;for(d=0;d<F;d++)O=S(O,w[d]);return O},normalizeTickInterval:function(d,w,O,S,F){var V=d;O=C(O,T(d));var K=d/O;for(w||(w=F?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],S===!1&&(O===1?w=w.filter(function(Y){return Y%1===0}):.1>=O&&(w=[1/O]))),S=0;S<w.length&&(V=w[S],!(F&&V*O>=d||!F&&K<=(w[S]+(w[S+1]||w[S]))/2));S++);return V=L(V*O,-Math.round(Math.log(.001)/Math.LN10))},objectEach:z,offset:function(d){var w=I.documentElement;return d=d.parentElement||d.parentNode?d.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:d.top+(A.pageYOffset||w.scrollTop)-(w.clientTop||0),left:d.left+(A.pageXOffset||w.scrollLeft)-(w.clientLeft||0),width:d.width,height:d.height}},pad:function(d,w,O){return Array((w||2)+1-String(d).replace("-","").length).join(O||"0")+d},pick:C,pInt:u,relativeLength:function(d,w,O){return/%$/.test(d)?w*parseFloat(d)/100+(O||0):parseFloat(d)},removeEvent:$,splat:function(d){return h(d)?d:[d]},stableSort:function(d,w){var O=d.length,S,F;for(F=0;F<O;F++)d[F].safeI=F;for(d.sort(function(V,K){return S=w(V,K),S===0?V.safeI-K.safeI:S}),F=0;F<O;F++)delete d[F].safeI},syncTimeout:function(d,w,O){return 0<w?setTimeout(d,w,O):(d.call(0,O),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:y,useSerialIds:function(d){return b=C(d,b)},wrap:function(d,w,O){var S=d[w];d[w]=function(){var F=arguments,V=this;return O.apply(this,[function(){return S.apply(V,arguments.length?arguments:F)}].concat([].slice.call(arguments)))}}},k}),n(r,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),n(r,"Core/Color/Color.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){var a=o.isNumber,u=o.merge,c=o.pInt;return o=function(){function h(f){this.rgba=[NaN,NaN,NaN,NaN],this.input=f;var v=i.Color;if(v&&v!==h)return new v(f);if(!(this instanceof h))return new h(f);this.init(f)}return h.parse=function(f){return f?new h(f):h.None},h.prototype.init=function(f){var v;if(typeof f=="object"&&typeof f.stops<"u")this.stops=f.stops.map(function(E){return new h(E[1])});else if(typeof f=="string"){if(this.input=f=h.names[f.toLowerCase()]||f,f.charAt(0)==="#"){var g=f.length,x=parseInt(f.substr(1),16);g===7?v=[(x&16711680)>>16,(x&65280)>>8,x&255,1]:g===4&&(v=[(x&3840)>>4|(x&3840)>>8,(x&240)>>4|x&240,(x&15)<<4|x&15,1])}if(!v)for(x=h.parsers.length;x--&&!v;){var m=h.parsers[x];(g=m.regex.exec(f))&&(v=m.parse(g))}}v&&(this.rgba=v)},h.prototype.get=function(f){var v=this.input,g=this.rgba;if(typeof v=="object"&&typeof this.stops<"u"){var x=u(v);return x.stops=[].slice.call(x.stops),this.stops.forEach(function(m,E){x.stops[E]=[x.stops[E][0],m.get(f)]}),x}return g&&a(g[0])?f==="rgb"||!f&&g[3]===1?"rgb("+g[0]+","+g[1]+","+g[2]+")":f==="a"?"".concat(g[3]):"rgba("+g.join(",")+")":v},h.prototype.brighten=function(f){var v=this.rgba;if(this.stops)this.stops.forEach(function(x){x.brighten(f)});else if(a(f)&&f!==0)for(var g=0;3>g;g++)v[g]+=c(255*f),0>v[g]&&(v[g]=0),255<v[g]&&(v[g]=255);return this},h.prototype.setOpacity=function(f){return this.rgba[3]=f,this},h.prototype.tweenTo=function(f,v){var g=this.rgba,x=f.rgba;return!a(g[0])||!a(x[0])?f.input||"none":(f=x[3]!==1||g[3]!==1,(f?"rgba(":"rgb(")+Math.round(x[0]+(g[0]-x[0])*(1-v))+","+Math.round(x[1]+(g[1]-x[1])*(1-v))+","+Math.round(x[2]+(g[2]-x[2])*(1-v))+(f?","+(x[3]+(g[3]-x[3])*(1-v)):"")+")")},h.names={white:"#ffffff",black:"#000000"},h.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(f){return[c(f[1]),c(f[2]),c(f[3]),parseFloat(f[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(f){return[c(f[1]),c(f[2]),c(f[3]),1]}}],h.None=new h(""),h}(),o}),n(r,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),n(r,"Core/Time.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){var a=i.win,u=o.defined,c=o.error,h=o.extend,f=o.isObject,v=o.merge,g=o.objectEach,x=o.pad,m=o.pick,E=o.splat,R=o.timeUnits,C=i.isSafari&&a.Intl&&a.Intl.DateTimeFormat.prototype.formatRange,_=i.isSafari&&a.Intl&&!a.Intl.DateTimeFormat.prototype.formatRange;return o=function(){function T(L){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=a.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(L)}return T.prototype.get=function(L,j){if(this.variableTimezone||this.timezoneOffset){var z=j.getTime(),$=z-this.getTimezoneOffset(j);return j.setTime($),L=j["getUTC"+L](),j.setTime(z),L}return this.useUTC?j["getUTC"+L]():j["get"+L]()},T.prototype.set=function(L,j,z){if(this.variableTimezone||this.timezoneOffset){if(L==="Milliseconds"||L==="Seconds"||L==="Minutes"&&this.getTimezoneOffset(j)%36e5===0)return j["setUTC"+L](z);var $=this.getTimezoneOffset(j);return $=j.getTime()-$,j.setTime($),j["setUTC"+L](z),L=this.getTimezoneOffset(j),$=j.getTime()+L,j.setTime($)}return this.useUTC||C&&L==="FullYear"?j["setUTC"+L](z):j["set"+L](z)},T.prototype.update=function(L){L===void 0&&(L={});var j=m(L.useUTC,!0);this.options=L=v(!0,this.options,L),this.Date=L.Date||a.Date||Date,this.timezoneOffset=(this.useUTC=j)&&L.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=j&&!(!L.getTimezoneOffset&&!L.timezone)},T.prototype.makeTime=function(L,j,z,$,D,P){if(this.useUTC){var I=this.Date.UTC.apply(0,arguments),A=this.getTimezoneOffset(I);I+=A;var k=this.getTimezoneOffset(I);A!==k?I+=k-A:A-36e5!==this.getTimezoneOffset(I-36e5)||_||(I-=36e5)}else I=new this.Date(L,j,m(z,1),m($,0),m(D,0),m(P,0)).getTime();return I},T.prototype.timezoneOffsetFunction=function(){var L=this,j=this.options,z=j.getTimezoneOffset,$=j.moment||a.moment;if(!this.useUTC)return function(D){return 6e4*new Date(D.toString()).getTimezoneOffset()};if(j.timezone){if($)return function(D){return 6e4*-$.tz(D,j.timezone).utcOffset()};c(25)}return this.useUTC&&z?function(D){return 6e4*z(D.valueOf())}:function(){return 6e4*(L.timezoneOffset||0)}},T.prototype.dateFormat=function(L,j,z){if(!u(j)||isNaN(j))return i.defaultOptions.lang&&i.defaultOptions.lang.invalidDate||"";L=m(L,"%Y-%m-%d %H:%M:%S");var $=this,D=new this.Date(j),P=this.get("Hours",D),I=this.get("Day",D),A=this.get("Date",D),k=this.get("Month",D),b=this.get("FullYear",D),y=i.defaultOptions.lang,d=y&&y.weekdays,w=y&&y.shortWeekdays;return D=h({a:w?w[I]:d[I].substr(0,3),A:d[I],d:x(A),e:x(A,2," "),w:I,b:y.shortMonths[k],B:y.months[k],m:x(k+1),o:k+1,y:b.toString().substr(2,2),Y:b,H:x(P),k:P,I:x(P%12||12),l:P%12||12,M:x(this.get("Minutes",D)),p:12>P?"AM":"PM",P:12>P?"am":"pm",S:x(D.getSeconds()),L:x(Math.floor(j%1e3),3)},i.dateFormats),g(D,function(O,S){for(;L.indexOf("%"+S)!==-1;)L=L.replace("%"+S,typeof O=="function"?O.call($,j):O)}),z?L.substr(0,1).toUpperCase()+L.substr(1):L},T.prototype.resolveDTLFormat=function(L){return f(L,!0)?L:(L=E(L),{main:L[0],from:L[1],to:L[2]})},T.prototype.getTimeTicks=function(L,j,z,$){var D=this,P=[],I={},A=new D.Date(j),k=L.unitRange,b=L.count||1,y;if($=m($,1),u(j)){if(D.set("Milliseconds",A,k>=R.second?0:b*Math.floor(D.get("Milliseconds",A)/b)),k>=R.second&&D.set("Seconds",A,k>=R.minute?0:b*Math.floor(D.get("Seconds",A)/b)),k>=R.minute&&D.set("Minutes",A,k>=R.hour?0:b*Math.floor(D.get("Minutes",A)/b)),k>=R.hour&&D.set("Hours",A,k>=R.day?0:b*Math.floor(D.get("Hours",A)/b)),k>=R.day&&D.set("Date",A,k>=R.month?1:Math.max(1,b*Math.floor(D.get("Date",A)/b))),k>=R.month){D.set("Month",A,k>=R.year?0:b*Math.floor(D.get("Month",A)/b));var d=D.get("FullYear",A)}k>=R.year&&D.set("FullYear",A,d-d%b),k===R.week&&(d=D.get("Day",A),D.set("Date",A,D.get("Date",A)-d+$+(d<$?-7:0))),d=D.get("FullYear",A),$=D.get("Month",A);var w=D.get("Date",A),O=D.get("Hours",A);for(j=A.getTime(),!D.variableTimezone&&D.useUTC||!u(z)||(y=z-j>4*R.month||D.getTimezoneOffset(j)!==D.getTimezoneOffset(z)),j=A.getTime(),A=1;j<z;)P.push(j),j=k===R.year?D.makeTime(d+A*b,0):k===R.month?D.makeTime(d,$+A*b):!y||k!==R.day&&k!==R.week?y&&k===R.hour&&1<b?D.makeTime(d,$,w,O+A*b):j+k*b:D.makeTime(d,$,w+A*b*(k===R.day?1:7)),A++;P.push(j),k<=R.hour&&1e4>P.length&&P.forEach(function(S){S%18e5===0&&D.dateFormat("%H%M%S%L",S)==="000000000"&&(I[S]="day")})}return P.info=h(L,{higherRanks:I,totalRange:k*b}),P},T.prototype.getDateFormat=function(L,j,z,$){var D=this.dateFormat("%m-%d %H:%M:%S.%L",j),P={millisecond:15,second:12,minute:9,hour:6,day:3},I="millisecond";for(A in R){if(L===R.week&&+this.dateFormat("%w",j)===z&&D.substr(6)==="00:00:00.000"){var A="week";break}if(R[A]>L){A=I;break}if(P[A]&&D.substr(P[A])!=="01-01 00:00:00.000".substr(P[A]))break;A!=="week"&&(I=A)}return this.resolveDTLFormat($[A]).main},T}(),o}),n(r,"Core/Defaults.js",[r["Core/Chart/ChartDefaults.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Color/Palettes.js"],r["Core/Time.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){o=o.parse;var f=h.merge,v={colors:u.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:i,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:a.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:o("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};v.chart.styledMode=!1;var g=new c(f(v.global,v.time));return i={defaultOptions:v,defaultTime:g,getOptions:function(){return v},setOptions:function(x){return f(!0,v,x),(x.time||x.global)&&(a.time?a.time.update(f(v.global,v.time,x.global,x.time)):a.time=g),v}},i}),n(r,"Core/Animation/Fx.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.parse,c=o.win,h=a.isNumber,f=a.objectEach;return function(){function v(g,x,m){this.pos=NaN,this.options=x,this.elem=g,this.prop=m}return v.prototype.dSetter=function(){var g=this.paths,x=g&&g[0];g=g&&g[1];var m=this.now||0,E=[];if(m!==1&&x&&g)if(x.length===g.length&&1>m)for(var R=0;R<g.length;R++){for(var C=x[R],_=g[R],T=[],L=0;L<_.length;L++){var j=C[L],z=_[L];h(j)&&h(z)&&(_[0]!=="A"||L!==4&&L!==5)?T[L]=j+m*(z-j):T[L]=z}E.push(T)}else E=g;else E=this.toD||[];this.elem.attr("d",E,void 0,!0)},v.prototype.update=function(){var g=this.elem,x=this.prop,m=this.now,E=this.options.step;this[x+"Setter"]?this[x+"Setter"]():g.attr?g.element&&g.attr(x,m,null,!0):g.style[x]=m+this.unit,E&&E.call(g,m,this)},v.prototype.run=function(g,x,m){var E=this,R=E.options,C=function(L){return C.stopped?!1:E.step(L)},_=c.requestAnimationFrame||function(L){setTimeout(L,13)},T=function(){for(var L=0;L<v.timers.length;L++)v.timers[L]()||v.timers.splice(L--,1);v.timers.length&&_(T)};g!==x||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=g,this.end=x,this.unit=m,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&v.timers.push(C)===1&&_(T)):(delete R.curAnim[this.prop],R.complete&&Object.keys(R.curAnim).length===0&&R.complete.call(this.elem))},v.prototype.step=function(g){var x=+new Date,m=this.options,E=this.elem,R=m.complete,C=m.duration,_=m.curAnim;if(E.attr&&!E.element)g=!1;else if(g||x>=C+this.startTime){this.now=this.end,this.pos=1,this.update();var T=_[this.prop]=!0;f(_,function(L){L!==!0&&(T=!1)}),T&&R&&R.call(E),g=!1}else this.pos=m.easing((x-this.startTime)/C),this.now=this.start+(this.end-this.start)*this.pos,this.update(),g=!0;return g},v.prototype.initPath=function(g,x,m){function E(D,P){for(;D.length<$;){var I=D[0],A=P[$-D.length];A&&I[0]==="M"&&(D[0]=A[0]==="C"?["C",I[1],I[2],I[1],I[2],I[1],I[2]]:["L",I[1],I[2]]),D.unshift(I),T&&(I=D.pop(),D.push(D[D.length-1],I))}}function R(D,P){for(;D.length<$;)if(P=D[Math.floor(D.length/L)-1].slice(),P[0]==="C"&&(P[1]=P[5],P[2]=P[6]),T){var I=D[Math.floor(D.length/L)].slice();D.splice(D.length/2,0,P,I)}else D.push(P)}var C=g.startX,_=g.endX;m=m.slice();var T=g.isArea,L=T?2:1;if(x=x&&x.slice(),!x)return[m,m];if(C&&_&&_.length){for(g=0;g<C.length;g++)if(C[g]===_[0]){var j=g;break}else if(C[0]===_[_.length-C.length+g]){j=g;var z=!0;break}else if(C[C.length-1]===_[_.length-C.length+g]){j=C.length-g;break}typeof j>"u"&&(x=[])}if(x.length&&h(j)){var $=m.length+j*L;z?(E(x,m),R(m,x)):(E(m,x),R(x,m))}return[x,m]},v.prototype.fillSetter=function(){v.prototype.strokeSetter.apply(this,arguments)},v.prototype.strokeSetter=function(){this.elem.attr(this.prop,u(this.start).tweenTo(u(this.end),this.pos),void 0,!0)},v.timers=[],v}()}),n(r,"Core/Animation/AnimationUtilities.js",[r["Core/Animation/Fx.js"],r["Core/Utilities.js"]],function(i,o){function a(R){return g(R)?x({duration:500,defer:0},R):{duration:R?500:0,defer:0}}function u(R,C){for(var _=i.timers.length;_--;)i.timers[_].elem!==R||C&&C!==i.timers[_].prop||(i.timers[_].stopped=!0)}var c=o.defined,h=o.getStyle,f=o.isArray,v=o.isNumber,g=o.isObject,x=o.merge,m=o.objectEach,E=o.pick;return{animate:function(R,C,_){var T,L="",j,z;if(!g(_)){var $=arguments;_={duration:$[2],easing:$[3],complete:$[4]}}v(_.duration)||(_.duration=400),_.easing=typeof _.easing=="function"?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=x(C),m(C,function(D,P){u(R,P),z=new i(R,_,P),j=void 0,P==="d"&&f(C.d)?(z.paths=z.initPath(R,R.pathArray,C.d),z.toD=C.d,T=0,j=1):R.attr?T=R.attr(P):(T=parseFloat(h(R,P))||0,P!=="opacity"&&(L="px")),j||(j=D),typeof j=="string"&&j.match("px")&&(j=j.replace(/px/g,"")),z.run(T,j,L)})},animObject:a,getDeferredAnimation:function(R,C,_){var T=a(C),L=0,j=0;return(_?[_]:R.series).forEach(function(z){z=a(z.options.animation),L=C&&c(C.defer)?T.defer:Math.max(L,z.duration+z.defer),j=Math.min(T.duration,z.duration)}),R.renderer.forExport&&(L=0),{defer:Math.max(0,L-j),duration:Math.min(L,j)}},setAnimation:function(R,C){C.renderer.globalAnimation=E(R,C.options.chart.animation,!0)},stop:u}}),n(r,"Core/Renderer/HTML/AST.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){var a=i.SVG_NS,u=o.attr,c=o.createElement,h=o.css,f=o.error,v=o.isFunction,g=o.isString,x=o.objectEach,m=o.splat,E=(o=i.win.trustedTypes)&&v(o.createPolicy)&&o.createPolicy("highcharts",{createHTML:function(_){return _}}),R=E?E.createHTML(""):"";try{var C=!!new DOMParser().parseFromString(R,"text/html")}catch{C=!1}return v=function(){function _(T){this.nodes=typeof T=="string"?this.parseMarkup(T):T}return _.filterUserAttributes=function(T){return x(T,function(L,j){var z=!0;_.allowedAttributes.indexOf(j)===-1&&(z=!1),["background","dynsrc","href","lowsrc","src"].indexOf(j)!==-1&&(z=g(L)&&_.allowedReferences.some(function($){return L.indexOf($)===0})),z||(f(33,!1,void 0,{"Invalid attribute in config":"".concat(j)}),delete T[j]),g(L)&&T[j]&&(T[j]=L.replace(/</g,"&lt;"))}),T},_.parseStyle=function(T){return T.split(";").reduce(function(L,j){j=j.split(":").map(function($){return $.trim()});var z=j.shift();return z&&j.length&&(L[z.replace(/-([a-z])/g,function($){return $[1].toUpperCase()})]=j.join(":")),L},{})},_.setElementHTML=function(T,L){T.innerHTML=_.emptyHTML,L&&new _(L).addToDOM(T)},_.prototype.addToDOM=function(T){function L(j,z){var $;return m(j).forEach(function(D){var P=D.tagName,I=D.textContent?i.doc.createTextNode(D.textContent):void 0,A=_.bypassHTMLFiltering;if(P)if(P==="#text")var k=I;else if(_.allowedTags.indexOf(P)!==-1||A){P=i.doc.createElementNS(P==="svg"?a:z.namespaceURI||a,P);var b=D.attributes||{};x(D,function(y,d){d!=="tagName"&&d!=="attributes"&&d!=="children"&&d!=="style"&&d!=="textContent"&&(b[d]=y)}),u(P,A?b:_.filterUserAttributes(b)),D.style&&h(P,D.style),I&&P.appendChild(I),L(D.children||[],P),k=P}else f(33,!1,void 0,{"Invalid tagName in config":P});k&&z.appendChild(k),$=k}),$}return L(this.nodes,T)},_.prototype.parseMarkup=function(T){var L=[];if(T=T.trim().replace(/ style=(["'])/g," data-style=$1"),C)T=new DOMParser().parseFromString(E?E.createHTML(T):T,"text/html");else{var j=c("div");j.innerHTML=T,T={body:j}}var z=function($,D){var P=$.nodeName.toLowerCase(),I={tagName:P};if(P==="#text"&&(I.textContent=$.textContent||""),P=$.attributes){var A={};[].forEach.call(P,function(b){b.name==="data-style"?I.style=_.parseStyle(b.value):A[b.name]=b.value}),I.attributes=A}if($.childNodes.length){var k=[];[].forEach.call($.childNodes,function(b){z(b,k)}),k.length&&(I.children=k)}D.push(I)};return[].forEach.call(T.body.childNodes,function($){return z($,L)}),L},_.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),_.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),_.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),_.emptyHTML=R,_.bypassHTMLFiltering=!1,_}(),v}),n(r,"Core/FormatUtilities.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(i,o){function a(x,m,E,R){x=+x||0,m=+m;var C=u.lang,_=(x.toString().split(".")[1]||"").split("e")[0].length,T=x.toString().split("e"),L=m;if(m===-1)m=Math.min(_,20);else if(!f(m))m=2;else if(m&&T[1]&&0>T[1]){var j=m+ +T[1];0<=j?(T[0]=(+T[0]).toExponential(j).split("e")[0],m=j):(T[0]=T[0].split(".")[0]||0,x=20>m?(T[0]*Math.pow(10,T[1])).toFixed(m):0,T[1]=0)}j=(Math.abs(T[1]?T[0]:x)+Math.pow(10,-Math.max(m,_)-1)).toFixed(m),_=String(g(j));var z=3<_.length?_.length%3:0;return E=v(E,C.decimalPoint),R=v(R,C.thousandsSep),x=(0>x?"-":"")+(z?_.substr(0,z)+R:""),x=0>+T[1]&&!L?"0":x+_.substr(z).replace(/(\d{3})(?=\d)/g,"$1"+R),m&&(x+=E+j.slice(-m)),T[1]&&+x!=0&&(x+="e"+T[1]),x}var u=i.defaultOptions,c=i.defaultTime,h=o.getNestedProperty,f=o.isNumber,v=o.pick,g=o.pInt;return{dateFormat:function(x,m,E){return c.dateFormat(x,m,E)},format:function(x,m,E){var R="{",C=!1,_=/f$/,T=/\.([0-9])/,L=u.lang,j=E&&E.time||c;E=E&&E.numberFormatter||a;for(var z=[];x;){var $=x.indexOf(R);if($===-1)break;var D=x.slice(0,$);if(C){if(D=D.split(":"),R=h(D.shift()||"",m),D.length&&typeof R=="number")if(D=D.join(":"),_.test(D)){var P=parseInt((D.match(T)||["","-1"])[1],10);R!==null&&(R=E(R,P,L.decimalPoint,-1<D.indexOf(",")?L.thousandsSep:""))}else R=j.dateFormat(D,R);z.push(R)}else z.push(D);x=x.slice($+1),R=(C=!C)?"}":"{"}return z.push(x),z.join("")},numberFormat:a}}),n(r,"Core/Renderer/RendererUtilities.js",[r["Core/Utilities.js"]],function(i){var o=i.clamp,a=i.pick,u=i.stableSort,c;return function(h){function f(v,g,x){var m=v,E=m.reducedLen||g,R=function(z,$){return($.rank||0)-(z.rank||0)},C=function(z,$){return z.target-$.target},_,T=!0,L=[],j=0;for(_=v.length;_--;)j+=v[_].size;if(j>E){for(u(v,R),j=_=0;j<=E;)j+=v[_].size,_++;L=v.splice(_-1,v.length)}for(u(v,C),v=v.map(function(z){return{size:z.size,targets:[z.target],align:a(z.align,.5)}});T;){for(_=v.length;_--;)E=v[_],R=(Math.min.apply(0,E.targets)+Math.max.apply(0,E.targets))/2,E.pos=o(R-E.size*E.align,0,g-E.size);for(_=v.length,T=!1;_--;)0<_&&v[_-1].pos+v[_-1].size>v[_].pos&&(v[_-1].size+=v[_].size,v[_-1].targets=v[_-1].targets.concat(v[_].targets),v[_-1].align=.5,v[_-1].pos+v[_-1].size>g&&(v[_-1].pos=g-v[_-1].size),v.splice(_,1),T=!0)}return m.push.apply(m,L),_=0,v.some(function(z){var $=0;return(z.targets||[]).some(function(){return m[_].pos=z.pos+$,typeof x<"u"&&Math.abs(m[_].pos-m[_].target)>x?(m.slice(0,_+1).forEach(function(D){return delete D.pos}),m.reducedLen=(m.reducedLen||g)-.1*g,m.reducedLen>.1*g&&f(m,g,x),!0):($+=m[_].size,_++,!1)})}),u(m,C),m}h.distribute=f}(c||(c={})),c}),n(r,"Core/Renderer/SVG/SVGElement.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=i.animate,h=i.animObject,f=i.stop,v=a.deg2rad,g=a.doc,x=a.svg,m=a.SVG_NS,E=a.win,R=u.addEvent,C=u.attr,_=u.createElement,T=u.css,L=u.defined,j=u.erase,z=u.extend,$=u.fireEvent,D=u.isArray,P=u.isFunction,I=u.isString,A=u.merge,k=u.objectEach,b=u.pick,y=u.pInt,d=u.syncTimeout,w=u.uniqueKey;return i=function(){function O(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=m,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return O.prototype._defaultGetter=function(S){return S=b(this[S+"Value"],this[S],this.element?this.element.getAttribute(S):null,0),/^[\-0-9\.]+$/.test(S)&&(S=parseFloat(S)),S},O.prototype._defaultSetter=function(S,F,V){V.setAttribute(F,S)},O.prototype.add=function(S){var F=this.renderer,V=this.element;if(S&&(this.parentGroup=S),typeof this.textStr<"u"&&this.element.nodeName==="text"&&F.buildText(this),this.added=!0,!S||S.handleZ||this.zIndex)var K=this.zIndexSetter();return K||(S?S.element:F.box).appendChild(V),this.onAdd&&this.onAdd(),this},O.prototype.addClass=function(S,F){var V=F?"":this.attr("class")||"";return S=(S||"").split(/ /g).reduce(function(K,Y){return V.indexOf(Y)===-1&&K.push(Y),K},V?[V]:[]).join(" "),S!==V&&this.attr("class",S),this},O.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},O.prototype.align=function(S,F,V){var K={},Y=this.renderer,M=Y.alignedObjects,B,H,q;S?(this.alignOptions=S,this.alignByTranslate=F,(!V||I(V))&&(this.alignTo=B=V||"renderer",j(M,this),M.push(this),V=void 0)):(S=this.alignOptions,F=this.alignByTranslate,B=this.alignTo),V=b(V,Y[B],B==="scrollablePlotBox"?Y.plotBox:void 0,Y),B=S.align;var Q=S.verticalAlign;return Y=(V.x||0)+(S.x||0),M=(V.y||0)+(S.y||0),B==="right"?H=1:B==="center"&&(H=2),H&&(Y+=(V.width-(S.width||0))/H),K[F?"translateX":"x"]=Math.round(Y),Q==="bottom"?q=1:Q==="middle"&&(q=2),q&&(M+=(V.height-(S.height||0))/q),K[F?"translateY":"y"]=Math.round(M),this[this.placed?"animate":"attr"](K),this.placed=!0,this.alignAttr=K,this},O.prototype.alignSetter=function(S){var F={left:"start",center:"middle",right:"end"};F[S]&&(this.alignValue=S,this.element.setAttribute("text-anchor",F[S]))},O.prototype.animate=function(S,F,V){var K=this,Y=h(b(F,this.renderer.globalAnimation,!0));return F=Y.defer,b(g.hidden,g.msHidden,g.webkitHidden,!1)&&(Y.duration=0),Y.duration!==0?(V&&(Y.complete=V),d(function(){K.element&&c(K,S,Y)},F)):(this.attr(S,void 0,V||Y.complete),k(S,function(M,B){Y.step&&Y.step.call(this,M,{prop:B,pos:1,elem:this})},this)),this},O.prototype.applyTextOutline=function(S){var F=this.element;S.indexOf("contrast")!==-1&&(S=S.replace(/contrast/g,this.renderer.getContrast(F.style.fill)));var V=S.split(" ");if(S=V[V.length-1],(V=V[0])&&V!=="none"&&a.svg){this.fakeTS=!0,V=V.replace(/(^[\d\.]+)(.*?)$/g,function(M,B,H){return 2*Number(B)+H}),this.removeTextOutline();var K=g.createElementNS(m,"tspan");C(K,{class:"highcharts-text-outline",fill:S,stroke:S,"stroke-width":V,"stroke-linejoin":"round"}),S=F.querySelector("textPath")||F,[].forEach.call(S.childNodes,function(M){var B=M.cloneNode(!0);B.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(H){return B.removeAttribute(H)}),K.appendChild(B)});var Y=0;[].forEach.call(S.querySelectorAll("text tspan"),function(M){Y+=Number(M.getAttribute("dy"))}),V=g.createElementNS(m,"tspan"),V.textContent="​",C(V,{x:Number(F.getAttribute("x")),dy:-Y}),K.appendChild(V),S.insertBefore(K,S.firstChild)}},O.prototype.attr=function(S,F,V,K){var Y=this.element,M=this.symbolCustomAttribs,B,H=this,q,Q;if(typeof S=="string"&&typeof F<"u"){var U=S;S={},S[U]=F}return typeof S=="string"?H=(this[S+"Getter"]||this._defaultGetter).call(this,S,Y):(k(S,function(X,G){q=!1,K||f(this,G),this.symbolName&&M.indexOf(G)!==-1&&(B||(this.symbolAttr(S),B=!0),q=!0),!this.rotation||G!=="x"&&G!=="y"||(this.doTransform=!0),q||(Q=this[G+"Setter"]||this._defaultSetter,Q.call(this,X,G,Y),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(G)&&this.updateShadows(G,X,Q))},this),this.afterSetters()),V&&V.call(this),H},O.prototype.clip=function(S){return this.attr("clip-path",S?"url("+this.renderer.url+"#"+S.id+")":"none")},O.prototype.crisp=function(S,F){F=F||S.strokeWidth||0;var V=Math.round(F)%2/2;return S.x=Math.floor(S.x||this.x||0)+V,S.y=Math.floor(S.y||this.y||0)+V,S.width=Math.floor((S.width||this.width||0)-2*V),S.height=Math.floor((S.height||this.height||0)-2*V),L(S.strokeWidth)&&(S.strokeWidth=F),S},O.prototype.complexColor=function(S,F,V){var K=this.renderer,Y,M,B,H,q,Q,U,X,G,Z,J=[],et;$(this.renderer,"complexColor",{args:arguments},function(){if(S.radialGradient?M="radialGradient":S.linearGradient&&(M="linearGradient"),M){if(B=S[M],q=K.gradients,Q=S.stops,G=V.radialReference,D(B)&&(S[M]=B={x1:B[0],y1:B[1],x2:B[2],y2:B[3],gradientUnits:"userSpaceOnUse"}),M==="radialGradient"&&G&&!L(B.gradientUnits)&&(H=B,B=A(B,K.getRadialAttr(G,H),{gradientUnits:"userSpaceOnUse"})),k(B,function(at,st){st!=="id"&&J.push(st,at)}),k(Q,function(at){J.push(at)}),J=J.join(","),q[J])Z=q[J].attr("id");else{B.id=Z=w();var nt=q[J]=K.createElement(M).attr(B).add(K.defs);nt.radAttr=H,nt.stops=[],Q.forEach(function(at){at[1].indexOf("rgba")===0?(Y=o.parse(at[1]),U=Y.get("rgb"),X=Y.get("a")):(U=at[1],X=1),at=K.createElement("stop").attr({offset:at[0],"stop-color":U,"stop-opacity":X}).add(nt),nt.stops.push(at)})}et="url("+K.url+"#"+Z+")",V.setAttribute(F,et),V.gradient=J,S.toString=function(){return et}}})},O.prototype.css=function(S){var F=this.styles,V={},K=this.element,Y=!F;if(S.color&&(S.fill=S.color),F&&k(S,function(H,q){F&&F[q]!==H&&(V[q]=H,Y=!0)}),Y){if(F&&(S=z(F,V)),S.width===null||S.width==="auto")delete this.textWidth;else if(K.nodeName.toLowerCase()==="text"&&S.width)var M=this.textWidth=y(S.width);this.styles=S,M&&!x&&this.renderer.forExport&&delete S.width;var B=A(S);K.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(H){return B&&delete B[H]}),T(K,B),this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),S.textOutline&&this.applyTextOutline(S.textOutline))}return this},O.prototype.dashstyleSetter=function(S){var F=this["stroke-width"];if(F==="inherit"&&(F=1),S=S&&S.toLowerCase()){var V=S.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(S=V.length;S--;)V[S]=""+y(V[S])*b(F,NaN);S=V.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",S)}},O.prototype.destroy=function(){var S=this,F=S.element||{},V=S.renderer,K=F.ownerSVGElement,Y=V.isSVG&&F.nodeName==="SPAN"&&S.parentGroup||void 0;if(F.onclick=F.onmouseout=F.onmouseover=F.onmousemove=F.point=null,f(S),S.clipPath&&K){var M=S.clipPath;[].forEach.call(K.querySelectorAll("[clip-path],[CLIP-PATH]"),function(B){-1<B.getAttribute("clip-path").indexOf(M.element.id)&&B.removeAttribute("clip-path")}),S.clipPath=M.destroy()}if(S.stops){for(K=0;K<S.stops.length;K++)S.stops[K].destroy();S.stops.length=0,S.stops=void 0}for(S.safeRemoveChild(F),V.styledMode||S.destroyShadows();Y&&Y.div&&Y.div.childNodes.length===0;)F=Y.parentGroup,S.safeRemoveChild(Y.div),delete Y.div,Y=F;S.alignTo&&j(V.alignedObjects,S),k(S,function(B,H){S[H]&&S[H].parentGroup===S&&S[H].destroy&&S[H].destroy(),delete S[H]})},O.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(S){this.safeRemoveChild(S)},this),this.shadows=void 0},O.prototype.dSetter=function(S,F,V){D(S)&&(typeof S[0]=="string"&&(S=this.renderer.pathToSegments(S)),this.pathArray=S,S=S.reduce(function(K,Y,M){return Y&&Y.join?(M?K+" ":"")+Y.join(" "):(Y||"").toString()},"")),/(NaN| {2}|^$)/.test(S)&&(S="M 0 0"),this[F]!==S&&(V.setAttribute(F,S),this[F]=S)},O.prototype.fadeOut=function(S){var F=this;F.animate({opacity:0},{duration:b(S,150),complete:function(){F.hide()}})},O.prototype.fillSetter=function(S,F,V){typeof S=="string"?V.setAttribute(F,S):S&&this.complexColor(S,F,V)},O.prototype.getBBox=function(S,F){var V=this.alignValue,K=this.element,Y=this.renderer,M=this.styles,B=this.textStr,H=Y.cache,q=Y.cacheKeys,Q=K.namespaceURI===this.SVG_NS;F=b(F,this.rotation,0);var U=Y.styledMode?K&&O.prototype.getStyle.call(K,"font-size"):M&&M.fontSize,X;if(L(B)){var G=B.toString();G.indexOf("<")===-1&&(G=G.replace(/[0-9]/g,"0")),G+=["",F,U,this.textWidth,V,M&&M.textOverflow,M&&M.fontWeight].join()}if(G&&!S&&(X=H[G]),!X){if(Q||Y.forExport){try{var Z=this.fakeTS&&function(et){var nt=K.querySelector(".highcharts-text-outline");nt&&T(nt,{display:et})};P(Z)&&Z("none"),X=K.getBBox?z({},K.getBBox()):{width:K.offsetWidth,height:K.offsetHeight,x:0,y:0},P(Z)&&Z("")}catch{}(!X||0>X.width)&&(X={x:0,y:0,width:0,height:0})}else X=this.htmlGetBBox();if(Y.isSVG&&(Y=X.width,S=X.height,Q&&(X.height=S={"11px,17":14,"13px,20":16}[""+(U||"")+",".concat(Math.round(S))]||S),F)){Q=Number(K.getAttribute("y")||0)-X.y,V={right:1,center:.5}[V||0]||0,M=F*v,U=(F-90)*v;var J=Y*Math.cos(M);F=Y*Math.sin(M),Z=Math.cos(U),M=Math.sin(U),Y=X.x+V*(Y-J)+Q*Z,U=Y+J,Z=U-S*Z,J=Z-J,Q=X.y+Q-V*F+Q*M,V=Q+F,S=V-S*M,F=S-F,X.x=Math.min(Y,U,Z,J),X.y=Math.min(Q,V,S,F),X.width=Math.max(Y,U,Z,J)-X.x,X.height=Math.max(Q,V,S,F)-X.y}if(G&&(B===""||0<X.height)){for(;250<q.length;)delete H[q.shift()];H[G]||q.push(G),H[G]=X}}return X},O.prototype.getStyle=function(S){return E.getComputedStyle(this.element||this,"").getPropertyValue(S)},O.prototype.hasClass=function(S){return(""+this.attr("class")).split(" ").indexOf(S)!==-1},O.prototype.hide=function(){return this.attr({visibility:"hidden"})},O.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},O.prototype.init=function(S,F){this.element=F==="span"?_(F):g.createElementNS(this.SVG_NS,F),this.renderer=S,$(this,"afterInit")},O.prototype.on=function(S,F){var V=this.onEvents;return V[S]&&V[S](),V[S]=R(this.element,S,F),this},O.prototype.opacitySetter=function(S,F,V){this.opacity=S=Number(Number(S).toFixed(3)),V.setAttribute(F,S)},O.prototype.removeClass=function(S){return this.attr("class",(""+this.attr("class")).replace(I(S)?new RegExp("(^| )".concat(S,"( |$)")):S," ").replace(/ +/g," ").trim())},O.prototype.removeTextOutline=function(){var S=this.element.querySelector("tspan.highcharts-text-outline");S&&this.safeRemoveChild(S)},O.prototype.safeRemoveChild=function(S){var F=S.parentNode;F&&F.removeChild(S)},O.prototype.setRadialReference=function(S){var F=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=S,F&&F.radAttr&&F.animate(this.renderer.getRadialAttr(S,F.radAttr)),this},O.prototype.setTextPath=function(S,F){var V=this;F=A(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},F);var K=this.renderer.url,Y=this.text||this,M=Y.textPath,B=F.attributes,H=F.enabled;return S=S||M&&M.path,M&&M.undo(),S&&H?(F=R(Y,"afterModifyTree",function(q){if(S&&H){var Q=S.attr("id");Q||S.attr("id",Q=w());var U={x:0,y:0};L(B.dx)&&(U.dx=B.dx,delete B.dx),L(B.dy)&&(U.dy=B.dy,delete B.dy),Y.attr(U),V.attr({transform:""}),V.box&&(V.box=V.box.destroy()),U=q.nodes.slice(0),q.nodes.length=0,q.nodes[0]={tagName:"textPath",attributes:z(B,{"text-anchor":B.textAnchor,href:""+K+"#".concat(Q)}),children:U}}}),Y.textPath={path:S,undo:F}):(Y.attr({dx:0,dy:0}),delete Y.textPath),this.added&&(Y.textCache="",this.renderer.buildText(Y)),this},O.prototype.shadow=function(S,F,V){var K=[],Y=this.element,M=this.oldShadowOptions,B=this.parentGroup,H=B&&B.rotation===90;B={color:"#000000",offsetX:H?-1:1,offsetY:H?-1:1,opacity:.15,width:3};var q=!1,Q;if(S===!0?Q=B:typeof S=="object"&&(Q=z(B,S)),Q&&(Q&&M&&k(Q,function(Z,J){Z!==M[J]&&(q=!0)}),q&&this.destroyShadows(),this.oldShadowOptions=Q),!Q)this.destroyShadows();else if(!this.shadows){B=Q.opacity/Q.width;var U=H?"translate(".concat(Q.offsetY,", ").concat(Q.offsetX,")"):"translate(".concat(Q.offsetX,", ").concat(Q.offsetY,")");for(H=1;H<=Q.width;H++){var X=Y.cloneNode(!1),G=2*Q.width+1-2*H;C(X,{stroke:S.color||"#000000","stroke-opacity":B*H,"stroke-width":G,transform:U,fill:"none"}),X.setAttribute("class",(X.getAttribute("class")||"")+" highcharts-shadow"),V&&(C(X,"height",Math.max(C(X,"height")-G,0)),X.cutHeight=G),F?F.element.appendChild(X):Y.parentNode&&Y.parentNode.insertBefore(X,Y),K.push(X)}this.shadows=K}return this},O.prototype.show=function(S){return S===void 0&&(S=!0),this.attr({visibility:S?"inherit":"visible"})},O.prototype["stroke-widthSetter"]=function(S,F,V){this[F]=S,V.setAttribute(F,S)},O.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var S=this.getStyle("stroke-width"),F=0;if(S.indexOf("px")===S.length-2)F=y(S);else if(S!==""){var V=g.createElementNS(m,"rect");C(V,{width:S,"stroke-width":0}),this.element.parentNode.appendChild(V),F=V.getBBox().width,V.parentNode.removeChild(V)}return F},O.prototype.symbolAttr=function(S){var F=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(V){F[V]=b(S[V],F[V])}),F.attr({d:F.renderer.symbols[F.symbolName](F.x,F.y,F.width,F.height,F)})},O.prototype.textSetter=function(S){S!==this.textStr&&(delete this.textPxLength,this.textStr=S,this.added&&this.renderer.buildText(this))},O.prototype.titleSetter=function(S){var F=this.element,V=F.getElementsByTagName("title")[0]||g.createElementNS(this.SVG_NS,"title");F.insertBefore?F.insertBefore(V,F.firstChild):F.appendChild(V),V.textContent=String(b(S,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},O.prototype.toFront=function(){var S=this.element;return S.parentNode.appendChild(S),this},O.prototype.translate=function(S,F){return this.attr({translateX:S,translateY:F})},O.prototype.updateShadows=function(S,F,V){var K=this.shadows;if(K)for(var Y=K.length;Y--;)V.call(K[Y],S==="height"?Math.max(F-(K[Y].cutHeight||0),0):S==="d"?this.d:F,S,K[Y])},O.prototype.updateTransform=function(){var S=this.element,F=this.matrix,V=this.rotation;V=V===void 0?0:V;var K=this.scaleX,Y=this.scaleY,M=this.translateX,B=this.translateY;M=["translate("+(M===void 0?0:M)+","+(B===void 0?0:B)+")"],L(F)&&M.push("matrix("+F.join(",")+")"),V&&M.push("rotate("+V+" "+b(this.rotationOriginX,S.getAttribute("x"),0)+" "+b(this.rotationOriginY,S.getAttribute("y")||0)+")"),(L(K)||L(Y))&&M.push("scale("+b(K,1)+" "+b(Y,1)+")"),M.length&&!(this.text||this).textPath&&S.setAttribute("transform",M.join(" "))},O.prototype.visibilitySetter=function(S,F,V){S==="inherit"?V.removeAttribute(F):this[F]!==S&&V.setAttribute(F,S),this[F]=S},O.prototype.xGetter=function(S){return this.element.nodeName==="circle"&&(S==="x"?S="cx":S==="y"&&(S="cy")),this._defaultGetter(S)},O.prototype.zIndexSetter=function(S,F){var V=this.renderer,K=this.parentGroup,Y=(K||V).element||V.box,M=this.element;V=Y===V.box;var B=!1,H=this.added,q;if(L(S)?(M.setAttribute("data-z-index",S),S=+S,this[F]===S&&(H=!1)):L(this[F])&&M.removeAttribute("data-z-index"),this[F]=S,H){for((S=this.zIndex)&&K&&(K.handleZ=!0),F=Y.childNodes,q=F.length-1;0<=q&&!B;q--){K=F[q],H=K.getAttribute("data-z-index");var Q=!L(H);K!==M&&(0>S&&Q&&!V&&!q?(Y.insertBefore(M,F[q]),B=!0):(y(H)<=S||Q&&(!L(S)||0<=S))&&(Y.insertBefore(M,F[q+1]||null),B=!0))}B||(Y.insertBefore(M,F[V?3:0]||null),B=!0)}return B},O}(),i.prototype.strokeSetter=i.prototype.fillSetter,i.prototype.yGetter=i.prototype.xGetter,i.prototype.matrixSetter=i.prototype.rotationOriginXSetter=i.prototype.rotationOriginYSetter=i.prototype.rotationSetter=i.prototype.scaleXSetter=i.prototype.scaleYSetter=i.prototype.translateXSetter=i.prototype.translateYSetter=i.prototype.verticalAlignSetter=function(O,S){this[S]=O,this.doTransform=!0},i}),n(r,"Core/Renderer/RendererRegistry.js",[r["Core/Globals.js"]],function(i){var o;return function(a){a.rendererTypes={};var u;a.getRendererType=function(c){return c===void 0&&(c=u),a.rendererTypes[c]||a.rendererTypes[u]},a.registerRendererType=function(c,h,f){a.rendererTypes[c]=h,(!u||f)&&(u=c,i.Renderer=h)}}(o||(o={})),o}),n(r,"Core/Renderer/SVG/SVGLabel.js",[r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o){var a=this&&this.__extends||function(){var x=function(m,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,C){R.__proto__=C}||function(R,C){for(var _ in C)C.hasOwnProperty(_)&&(R[_]=C[_])},x(m,E)};return function(m,E){function R(){this.constructor=m}x(m,E),m.prototype=E===null?Object.create(E):(R.prototype=E.prototype,new R)}}(),u=o.defined,c=o.extend,h=o.isNumber,f=o.merge,v=o.pick,g=o.removeEvent;return function(x){function m(E,R,C,_,T,L,j,z,$,D){var P=x.call(this)||this;P.paddingLeftSetter=P.paddingSetter,P.paddingRightSetter=P.paddingSetter,P.init(E,"g"),P.textStr=R,P.x=C,P.y=_,P.anchorX=L,P.anchorY=j,P.baseline=$,P.className=D,P.addClass(D==="button"?"highcharts-no-tooltip":"highcharts-label"),D&&P.addClass("highcharts-"+D),P.text=E.text(void 0,0,0,z).attr({zIndex:1});var I;return typeof T=="string"&&((I=/^url\((.*?)\)$/.test(T))||P.renderer.symbols[T])&&(P.symbolKey=T),P.bBox=m.emptyBBox,P.padding=3,P.baselineOffset=0,P.needsBox=E.styledMode||I,P.deferredAttr={},P.alignFactor=0,P}return a(m,x),m.prototype.alignSetter=function(E){E={left:0,center:.5,right:1}[E],E!==this.alignFactor&&(this.alignFactor=E,this.bBox&&h(this.xSetting)&&this.attr({x:this.xSetting}))},m.prototype.anchorXSetter=function(E,R){this.anchorX=E,this.boxAttr(R,Math.round(E)-this.getCrispAdjust()-this.xSetting)},m.prototype.anchorYSetter=function(E,R){this.anchorY=E,this.boxAttr(R,E-this.ySetting)},m.prototype.boxAttr=function(E,R){this.box?this.box.attr(E,R):this.deferredAttr[E]=R},m.prototype.css=function(E){if(E){var R={};E=f(E),m.textProps.forEach(function(C){typeof E[C]<"u"&&(R[C]=E[C],delete E[C])}),this.text.css(R),"fontSize"in R||"fontWeight"in R?this.updateTextPadding():("width"in R||"textOverflow"in R)&&this.updateBoxSize()}return i.prototype.css.call(this,E)},m.prototype.destroy=function(){g(this.element,"mouseenter"),g(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),i.prototype.destroy.call(this)},m.prototype.fillSetter=function(E,R){E&&(this.needsBox=!0),this.fill=E,this.boxAttr(R,E)},m.prototype.getBBox=function(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();var E=this.padding,R=v(this.paddingLeft,E);return{width:this.width,height:this.height,x:this.bBox.x-R,y:this.bBox.y-E}},m.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},m.prototype.heightSetter=function(E){this.heightSetting=E},m.prototype.onAdd=function(){this.text.add(this),this.attr({text:v(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&u(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},m.prototype.paddingSetter=function(E,R){h(E)?E!==this[R]&&(this[R]=E,this.updateTextPadding()):this[R]=void 0},m.prototype.rSetter=function(E,R){this.boxAttr(R,E)},m.prototype.shadow=function(E){return E&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(E)),this},m.prototype.strokeSetter=function(E,R){this.stroke=E,this.boxAttr(R,E)},m.prototype["stroke-widthSetter"]=function(E,R){E&&(this.needsBox=!0),this["stroke-width"]=E,this.boxAttr(R,E)},m.prototype["text-alignSetter"]=function(E){this.textAlign=E},m.prototype.textSetter=function(E){typeof E<"u"&&this.text.attr({text:E}),this.updateTextPadding()},m.prototype.updateBoxSize=function(){var E=this.text,R=E.element.style,C={},_=this.padding,T=this.bBox=h(this.widthSetting)&&h(this.heightSetting)&&!this.textAlign||!u(E.textStr)?m.emptyBBox:E.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||T.height||0)+2*_,R=this.renderer.fontMetrics(R&&R.fontSize,E),this.baselineOffset=_+Math.min((this.text.firstLineMetrics||R).b,T.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-R.h)/2),this.needsBox&&!E.textPath&&(this.box||(E=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),E.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),E.add(this)),E=this.getCrispAdjust(),C.x=E,C.y=(this.baseline?-this.baselineOffset:0)+E,C.width=Math.round(this.width),C.height=Math.round(this.height),this.box.attr(c(C,this.deferredAttr)),this.deferredAttr={})},m.prototype.updateTextPadding=function(){var E=this.text;if(!E.textPath){this.updateBoxSize();var R=this.baseline?0:this.baselineOffset,C=v(this.paddingLeft,this.padding);u(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(C+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(C!==E.x||R!==E.y)&&(E.attr("x",C),E.hasBoxWidthChanged&&(this.bBox=E.getBBox(!0)),typeof R<"u"&&E.attr("y",R)),E.x=C,E.y=R}},m.prototype.widthSetter=function(E){this.widthSetting=h(E)?E:void 0},m.prototype.getPaddedWidth=function(){var E=this.padding,R=v(this.paddingLeft,E);return E=v(this.paddingRight,E),(this.widthSetting||this.bBox.width||0)+R+E},m.prototype.xSetter=function(E){this.x=E,this.alignFactor&&(E-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(E),this.attr("translateX",this.xSetting)},m.prototype.ySetter=function(E){this.ySetting=this.y=Math.round(E),this.attr("translateY",this.ySetting)},m.emptyBBox={width:0,height:0,x:0,y:0},m.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),m}(i)}),n(r,"Core/Renderer/SVG/Symbols.js",[r["Core/Utilities.js"]],function(i){function o(v,g,x,m,E){var R=[];if(E){var C=E.start||0,_=f(E.r,x);x=f(E.r,m||x);var T=(E.end||0)-.001;m=E.innerR;var L=f(E.open,.001>Math.abs((E.end||0)-C-2*Math.PI)),j=Math.cos(C),z=Math.sin(C),$=Math.cos(T),D=Math.sin(T);C=f(E.longArc,.001>T-C-Math.PI?0:1),R.push(["M",v+_*j,g+x*z],["A",_,x,0,C,f(E.clockwise,1),v+_*$,g+x*D]),c(m)&&R.push(L?["M",v+m*$,g+m*D]:["L",v+m*$,g+m*D],["A",m,m,0,C,c(E.clockwise)?1-E.clockwise:0,v+m*j,g+m*z]),L||R.push(["Z"])}return R}function a(v,g,x,m,E){return E&&E.r?u(v,g,x,m,E):[["M",v,g],["L",v+x,g],["L",v+x,g+m],["L",v,g+m],["Z"]]}function u(v,g,x,m,E){return E=E&&E.r||0,[["M",v+E,g],["L",v+x-E,g],["C",v+x,g,v+x,g,v+x,g+E],["L",v+x,g+m-E],["C",v+x,g+m,v+x,g+m,v+x-E,g+m],["L",v+E,g+m],["C",v,g+m,v,g+m,v,g+m-E],["L",v,g+E],["C",v,g,v,g,v+E,g]]}var c=i.defined,h=i.isNumber,f=i.pick;return{arc:o,callout:function(v,g,x,m,E){var R=Math.min(E&&E.r||0,x,m),C=R+6,_=E&&E.anchorX;E=E&&E.anchorY||0;var T=u(v,g,x,m,{r:R});return h(_)&&(v+_>=x?E>g+C&&E<g+m-C?T.splice(3,1,["L",v+x,E-6],["L",v+x+6,E],["L",v+x,E+6],["L",v+x,g+m-R]):T.splice(3,1,["L",v+x,m/2],["L",_,E],["L",v+x,m/2],["L",v+x,g+m-R]):0>=v+_?E>g+C&&E<g+m-C?T.splice(7,1,["L",v,E+6],["L",v-6,E],["L",v,E-6],["L",v,g+R]):T.splice(7,1,["L",v,m/2],["L",_,E],["L",v,m/2],["L",v,g+R]):E&&E>m&&_>v+C&&_<v+x-C?T.splice(5,1,["L",_+6,g+m],["L",_,g+m+6],["L",_-6,g+m],["L",v+R,g+m]):E&&0>E&&_>v+C&&_<v+x-C&&T.splice(1,1,["L",_-6,g],["L",_,g-6],["L",_+6,g],["L",x-R,g])),T},circle:function(v,g,x,m){return o(v+x/2,g+m/2,x/2,m/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(v,g,x,m){return[["M",v+x/2,g],["L",v+x,g+m/2],["L",v+x/2,g+m],["L",v,g+m/2],["Z"]]},rect:a,roundedRect:u,square:a,triangle:function(v,g,x,m){return[["M",v+x/2,g],["L",v+x,g+m],["L",v,g+m],["Z"]]},"triangle-down":function(v,g,x,m){return[["M",v,g],["L",v+x,g],["L",v+x/2,g+m],["Z"]]}}}),n(r,"Core/Renderer/SVG/TextBuilder.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a){var u=o.doc,c=o.SVG_NS,h=o.win,f=a.attr,v=a.extend,g=a.fireEvent,x=a.isString,m=a.objectEach,E=a.pick;return function(){function R(C){var _=C.styles;this.renderer=C.renderer,this.svgElement=C,this.width=C.textWidth,this.textLineHeight=_&&_.lineHeight,this.textOutline=_&&_.textOutline,this.ellipsis=!(!_||_.textOverflow!=="ellipsis"),this.noWrap=!(!_||_.whiteSpace!=="nowrap"),this.fontSize=_&&_.fontSize}return R.prototype.buildSVG=function(){var C=this.svgElement,_=C.element,T=C.renderer,L=E(C.textStr,"").toString(),j=L.indexOf("<")!==-1,z=_.childNodes;T=this.width&&!C.added&&T.box;var $=/<br.*?>/g,D=[L,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(D!==C.textCache){for(C.textCache=D,delete C.actualWidth,D=z.length;D--;)_.removeChild(z[D]);j||this.ellipsis||this.width||C.textPath||L.indexOf(" ")!==-1&&(!this.noWrap||$.test(L))?L!==""&&(T&&T.appendChild(_),L=new i(L),this.modifyTree(L.nodes),L.addToDOM(_),this.modifyDOM(),this.ellipsis&&(_.textContent||"").indexOf("…")!==-1&&C.attr("title",this.unescapeEntities(C.textStr||"",["&lt;","&gt;"])),T&&T.removeChild(_)):_.appendChild(u.createTextNode(this.unescapeEntities(L))),x(this.textOutline)&&C.applyTextOutline&&C.applyTextOutline(this.textOutline)}},R.prototype.modifyDOM=function(){var C=this,_=this.svgElement,T=f(_.element,"x");_.firstLineMetrics=void 0;for(var L;(L=_.element.firstChild)&&/^[\s\u200B]*$/.test(L.textContent||" ");)_.element.removeChild(L);[].forEach.call(_.element.querySelectorAll("tspan.highcharts-br"),function(D,P){D.nextSibling&&D.previousSibling&&(P===0&&D.previousSibling.nodeType===1&&(_.firstLineMetrics=_.renderer.fontMetrics(void 0,D.previousSibling)),f(D,{dy:C.getLineHeight(D.nextSibling),x:T}))});var j=this.width||0;if(j){var z=function(D,P){var I=D.textContent||"",A=I.replace(/([^\^])-/g,"$1- ").split(" "),k=!C.noWrap&&(1<A.length||1<_.element.childNodes.length),b=C.getLineHeight(P),y=0,d=_.actualWidth;if(C.ellipsis)I&&C.truncate(D,I,void 0,0,Math.max(0,j-parseInt(C.fontSize||12,10)),function(w,O){return w.substring(0,O)+"…"});else if(k){for(I=[],k=[];P.firstChild&&P.firstChild!==D;)k.push(P.firstChild),P.removeChild(P.firstChild);for(;A.length;)A.length&&!C.noWrap&&0<y&&(I.push(D.textContent||""),D.textContent=A.join(" ").replace(/- /g,"-")),C.truncate(D,void 0,A,y===0&&d||0,j,function(w,O){return A.slice(0,O).join(" ").replace(/- /g,"-")}),d=_.actualWidth,y++;k.forEach(function(w){P.insertBefore(w,D)}),I.forEach(function(w){P.insertBefore(u.createTextNode(w),D),w=u.createElementNS(c,"tspan"),w.textContent="​",f(w,{dy:b,x:T}),P.insertBefore(w,D)})}},$=function(D){[].slice.call(D.childNodes).forEach(function(P){P.nodeType===h.Node.TEXT_NODE?z(P,D):(P.className.baseVal.indexOf("highcharts-br")!==-1&&(_.actualWidth=0),$(P))})};$(_.element)}},R.prototype.getLineHeight=function(C){var _;return C=C.nodeType===h.Node.TEXT_NODE?C.parentElement:C,this.renderer.styledMode||(_=C&&/(px|em)$/.test(C.style.fontSize)?C.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(_,C||this.svgElement.element).h},R.prototype.modifyTree=function(C){var _=this,T=function(L,j){var z=L.attributes;z=z===void 0?{}:z;var $=L.children,D=L.style;D=D===void 0?{}:D;var P=L.tagName,I=_.renderer.styledMode;P==="b"||P==="strong"?I?z.class="highcharts-strong":D.fontWeight="bold":(P==="i"||P==="em")&&(I?z.class="highcharts-emphasized":D.fontStyle="italic"),D&&D.color&&(D.fill=D.color),P==="br"?(z.class="highcharts-br",L.textContent="​",(j=C[j+1])&&j.textContent&&(j.textContent=j.textContent.replace(/^ +/gm,""))):P==="a"&&$&&$.some(function(A){return A.tagName==="#text"})&&(L.children=[{children:$,tagName:"tspan"}]),P!=="#text"&&P!=="a"&&(L.tagName="tspan"),v(L,{attributes:z,style:D}),$&&$.filter(function(A){return A.tagName!=="#text"}).forEach(T)};C.forEach(T),g(this.svgElement,"afterModifyTree",{nodes:C})},R.prototype.truncate=function(C,_,T,L,j,z){var $=this.svgElement,D=$.renderer,P=$.rotation,I=[],A=T?1:0,k=(_||T||"").length,b=k,y,d=function(O,S){S=S||O;var F=C.parentNode;if(F&&typeof I[S]>"u")if(F.getSubStringLength)try{I[S]=L+F.getSubStringLength(0,T?S+1:S)}catch{}else D.getSpanWidth&&(C.textContent=z(_||T,O),I[S]=L+D.getSpanWidth($,C));return I[S]};$.rotation=0;var w=d(C.textContent.length);if(L+w>j){for(;A<=k;)b=Math.ceil((A+k)/2),T&&(y=z(T,b)),w=d(b,y&&y.length-1),A===k?A=k+1:w>j?k=b-1:A=b;k===0?C.textContent="":_&&k===_.length-1||(C.textContent=y||z(_||T,b))}T&&T.splice(0,b),$.actualWidth=w,$.rotation=P},R.prototype.unescapeEntities=function(C,_){return m(this.renderer.escapes,function(T,L){_&&_.indexOf(T)!==-1||(C=C.toString().replace(new RegExp(T,"g"),L))}),C},R}()}),n(r,"Core/Renderer/SVG/SVGRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGLabel.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Renderer/SVG/TextBuilder.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g){var x=a.charts,m=a.deg2rad,E=a.doc,R=a.isFirefox,C=a.isMS,_=a.isWebKit,T=a.noop,L=a.SVG_NS,j=a.symbolSizes,z=a.win,$=g.addEvent,D=g.attr,P=g.createElement,I=g.css,A=g.defined,k=g.destroyObjectProperties,b=g.extend,y=g.isArray,d=g.isNumber,w=g.isObject,O=g.isString,S=g.merge,F=g.pick,V=g.pInt,K=g.uniqueKey,Y;return a=function(){function M(B,H,q,Q,U,X,G){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(B,H,q,Q,U,X,G)}return M.prototype.init=function(B,H,q,Q,U,X,G){var Z=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),J=Z.element;G||Z.css(this.getStyle(Q)),B.appendChild(J),D(B,"dir","ltr"),B.innerHTML.indexOf("xmlns")===-1&&D(J,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=J,this.boxWrapper=Z,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(E.createTextNode("Created with Highcharts 10.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=X,this.forExport=U,this.styledMode=G,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(H,q,!1);var et;R&&B.getBoundingClientRect&&(H=function(){I(B,{left:0,top:0}),et=B.getBoundingClientRect(),I(B,{left:Math.ceil(et.left)-et.left+"px",top:Math.ceil(et.top)-et.top+"px"})},H(),this.unSubPixelFix=$(z,"resize",H))},M.prototype.definition=function(B){return new i([B]).addToDOM(this.defs.element)},M.prototype.getReferenceURL=function(){if((R||_)&&E.getElementsByTagName("base").length){if(!A(Y)){var B=K();B=new i([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:B},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(B,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(E.body),I(B,{position:"fixed",top:0,left:0,zIndex:9e5});var H=E.elementFromPoint(6,6);Y=(H&&H.id)==="hitme",E.body.removeChild(B)}if(Y)return z.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},M.prototype.getStyle=function(B){return this.style=b({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},B)},M.prototype.setStyle=function(B){this.boxWrapper.css(this.getStyle(B))},M.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},M.prototype.destroy=function(){var B=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,B&&(this.defs=B.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},M.prototype.createElement=function(B){var H=new this.Element;return H.init(this,B),H},M.prototype.getRadialAttr=function(B,H){return{cx:B[0]-B[2]/2+(H.cx||0)*B[2],cy:B[1]-B[2]/2+(H.cy||0)*B[2],r:(H.r||0)*B[2]}},M.prototype.buildText=function(B){new v(B).buildSVG()},M.prototype.getContrast=function(B){return B=o.parse(B).rgba.map(function(H){return H/=255,.03928>=H?H/12.92:Math.pow((H+.055)/1.055,2.4)}),B=.2126*B[0]+.7152*B[1]+.0722*B[2],1.05/(B+.05)>(B+.05)/.05?"#FFFFFF":"#000000"},M.prototype.button=function(B,H,q,Q,U,X,G,Z,J,et){U===void 0&&(U={});var nt=this.label(B,H,q,J,void 0,void 0,et,void 0,"button"),at=this.styledMode;B=U.states||{};var st=0;U=S(U),delete U.states;var mt=S({color:"#333333",cursor:"pointer",fontWeight:"normal"},U.style);delete U.style;var wt=i.filterUserAttributes(U);if(nt.attr(S({padding:8,r:2},wt)),!at){wt=S({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},wt),X=S(wt,{fill:"#e6e6e6"},i.filterUserAttributes(X||B.hover||{}));var yt=X.style;delete X.style,G=S(wt,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},i.filterUserAttributes(G||B.select||{}));var gt=G.style;delete G.style,Z=S(wt,{style:{color:"#cccccc"}},i.filterUserAttributes(Z||B.disabled||{}));var bt=Z.style;delete Z.style}return $(nt.element,C?"mouseover":"mouseenter",function(){st!==3&&nt.setState(1)}),$(nt.element,C?"mouseout":"mouseleave",function(){st!==3&&nt.setState(st)}),nt.setState=function(ht){ht!==1&&(nt.state=st=ht),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ht||0]),at||(nt.attr([wt,X,G,Z][ht||0]),ht=[mt,yt,gt,bt][ht||0],w(ht)&&nt.css(ht))},at||(nt.attr(wt).css(b({cursor:"default"},mt)),et&&nt.text.css({pointerEvents:"none"})),nt.on("touchstart",function(ht){return ht.stopPropagation()}).on("click",function(ht){st!==3&&Q.call(nt,ht)})},M.prototype.crispLine=function(B,H,q){q===void 0&&(q="round");var Q=B[0],U=B[1];return A(Q[1])&&Q[1]===U[1]&&(Q[1]=U[1]=Math[q](Q[1])-H%2/2),A(Q[2])&&Q[2]===U[2]&&(Q[2]=U[2]=Math[q](Q[2])+H%2/2),B},M.prototype.path=function(B){var H=this.styledMode?{}:{fill:"none"};return y(B)?H.d=B:w(B)&&b(H,B),this.createElement("path").attr(H)},M.prototype.circle=function(B,H,q){return B=w(B)?B:typeof B>"u"?{}:{x:B,y:H,r:q},H=this.createElement("circle"),H.xSetter=H.ySetter=function(Q,U,X){X.setAttribute("c"+U,Q)},H.attr(B)},M.prototype.arc=function(B,H,q,Q,U,X){return w(B)?(Q=B,H=Q.y,q=Q.r,B=Q.x):Q={innerR:Q,start:U,end:X},B=this.symbol("arc",B,H,q,q,Q),B.r=q,B},M.prototype.rect=function(B,H,q,Q,U,X){U=w(B)?B.r:U;var G=this.createElement("rect");return B=w(B)?B:typeof B>"u"?{}:{x:B,y:H,width:Math.max(q,0),height:Math.max(Q,0)},this.styledMode||(typeof X<"u"&&(B["stroke-width"]=X,B=G.crisp(B)),B.fill="none"),U&&(B.r=U),G.rSetter=function(Z,J,et){G.r=Z,D(et,{rx:Z,ry:Z})},G.rGetter=function(){return G.r||0},G.attr(B)},M.prototype.setSize=function(B,H,q){this.width=B,this.height=H,this.boxWrapper.animate({width:B,height:H},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:F(q,!0)?void 0:0}),this.alignElements()},M.prototype.g=function(B){var H=this.createElement("g");return B?H.attr({class:"highcharts-"+B}):H},M.prototype.image=function(B,H,q,Q,U,X){var G={preserveAspectRatio:"none"},Z=function(et,nt){et.setAttributeNS?et.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):et.setAttribute("hc-svg-href",nt)};d(H)&&(G.x=H),d(q)&&(G.y=q),d(Q)&&(G.width=Q),d(U)&&(G.height=U);var J=this.createElement("image").attr(G);return H=function(et){Z(J.element,B),X.call(J,et)},X?(Z(J.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),q=new z.Image,$(q,"load",H),q.src=B,q.complete&&H({})):Z(J.element,B),J},M.prototype.symbol=function(B,H,q,Q,U,X){var G=this,Z=/^url\((.*?)\)$/,J=Z.test(B),et=!J&&(this.symbols[B]?B:"circle"),nt=et&&this.symbols[et],at;if(nt){typeof H=="number"&&(at=nt.call(this.symbols,Math.round(H||0),Math.round(q||0),Q||0,U||0,X));var st=this.path(at);G.styledMode||st.attr("fill","none"),b(st,{symbolName:et||void 0,x:H,y:q,width:Q,height:U}),X&&b(st,X)}else if(J){var mt=B.match(Z)[1],wt=st=this.image(mt);wt.imgwidth=F(j[mt]&&j[mt].width,X&&X.width),wt.imgheight=F(j[mt]&&j[mt].height,X&&X.height);var yt=function(gt){return gt.attr({width:gt.width,height:gt.height})};["width","height"].forEach(function(gt){wt[gt+"Setter"]=function(bt,ht){this[ht]=bt,bt=this.alignByTranslate;var it=this.element,ot=this.width,ct=this.height,ft=this.imgwidth,vt=this.imgheight,xt=this["img"+ht];if(A(xt)){var St=1;X&&X.backgroundSize==="within"&&ot&&ct?(St=Math.min(ot/ft,ct/vt),xt=Math.round(xt*St),D(it,{width:Math.round(ft*St),height:Math.round(vt*St)})):it&&it.setAttribute(ht,xt),bt||this.translate(((ot||0)-xt*St)/2,((ct||0)-xt*St)/2)}}}),A(H)&&wt.attr({x:H,y:q}),wt.isImg=!0,A(wt.imgwidth)&&A(wt.imgheight)?yt(wt):(wt.attr({width:0,height:0}),P("img",{onload:function(){var gt=x[G.chartIndex];this.width===0&&(I(this,{position:"absolute",top:"-999em"}),E.body.appendChild(this)),j[mt]={width:this.width,height:this.height},wt.imgwidth=this.width,wt.imgheight=this.height,wt.element&&yt(wt),this.parentNode&&this.parentNode.removeChild(this),G.imgCount--,!G.imgCount&&gt&&!gt.hasLoaded&&gt.onload()},src:mt}),this.imgCount++)}return st},M.prototype.clipRect=function(B,H,q,Q){var U=K()+"-",X=this.createElement("clipPath").attr({id:U}).add(this.defs);return B=this.rect(B,H,q,Q,0).add(X),B.id=U,B.clipPath=X,B.count=0,B},M.prototype.text=function(B,H,q,Q){var U={};return Q&&(this.allowHTML||!this.forExport)?this.html(B,H,q):(U.x=Math.round(H||0),q&&(U.y=Math.round(q)),A(B)&&(U.text=B),B=this.createElement("text").attr(U),(!Q||this.forExport&&!this.allowHTML)&&(B.xSetter=function(X,G,Z){for(var J=Z.getElementsByTagName("tspan"),et=Z.getAttribute(G),nt=0,at;nt<J.length;nt++)at=J[nt],at.getAttribute(G)===et&&at.setAttribute(G,X);Z.setAttribute(G,X)}),B)},M.prototype.fontMetrics=function(B,H){return B=!this.styledMode&&/px/.test(B)||!z.getComputedStyle?B||H&&H.style&&H.style.fontSize||this.style&&this.style.fontSize:H&&c.prototype.getStyle.call(H,"font-size"),B=/px/.test(B)?V(B):12,H=24>B?B+3:Math.round(1.2*B),{h:H,b:Math.round(.8*H),f:B}},M.prototype.rotCorr=function(B,H,q){var Q=B;return H&&q&&(Q=Math.max(Q*Math.cos(H*m),4)),{x:-B/3*Math.sin(H*m),y:Q}},M.prototype.pathToSegments=function(B){for(var H=[],q=[],Q={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},U=0;U<B.length;U++)O(q[0])&&d(B[U])&&q.length===Q[q[0].toUpperCase()]&&B.splice(U,0,q[0].replace("M","L").replace("m","l")),typeof B[U]=="string"&&(q.length&&H.push(q.slice(0)),q.length=0),q.push(B[U]);return H.push(q.slice(0)),H},M.prototype.label=function(B,H,q,Q,U,X,G,Z,J){return new h(this,B,H,q,Q,U,X,G,Z,J)},M.prototype.alignElements=function(){this.alignedObjects.forEach(function(B){return B.align()})},M}(),b(a.prototype,{Element:c,SVG_NS:L,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:f,draw:T}),u.registerRendererType("svg",a,!0),a}),n(r,"Core/Renderer/HTML/HTMLElement.js",[r["Core/Globals.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var C=function(_,T){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,j){L.__proto__=j}||function(L,j){for(var z in j)j.hasOwnProperty(z)&&(L[z]=j[z])},C(_,T)};return function(_,T){function L(){this.constructor=_}C(_,T),_.prototype=T===null?Object.create(T):(L.prototype=T.prototype,new L)}}(),c=i.isFirefox,h=i.isMS,f=i.isWebKit,v=i.win,g=a.css,x=a.defined,m=a.extend,E=a.pick,R=a.pInt;return function(C){function _(){return C!==null&&C.apply(this,arguments)||this}return u(_,C),_.compose=function(T){if(_.composedClasses.indexOf(T)===-1){_.composedClasses.push(T);var L=_.prototype,j=T.prototype;j.getSpanCorrection=L.getSpanCorrection,j.htmlCss=L.htmlCss,j.htmlGetBBox=L.htmlGetBBox,j.htmlUpdateTransform=L.htmlUpdateTransform,j.setSpanRotation=L.setSpanRotation}return T},_.prototype.getSpanCorrection=function(T,L,j){this.xCorr=-T*j,this.yCorr=-L},_.prototype.htmlCss=function(T){var L=this.element.tagName==="SPAN"&&T&&"width"in T,j=E(L&&T.width,void 0);if(L){delete T.width,this.textWidth=j;var z=!0}return T&&T.textOverflow==="ellipsis"&&(T.whiteSpace="nowrap",T.overflow="hidden"),this.styles=m(this.styles,T),g(this.element,T),z&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var T=this.element;return{x:T.offsetLeft,y:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var T=this.renderer,L=this.element,j=this.translateX||0,z=this.translateY||0,$=this.x||0,D=this.y||0,P=this.textAlign||"left",I={left:0,center:.5,right:1}[P],A=this.styles;if(A=A&&A.whiteSpace,g(L,{marginLeft:j,marginTop:z}),!T.styledMode&&this.shadows&&this.shadows.forEach(function(O){g(O,{marginLeft:j+1,marginTop:z+1})}),this.inverted&&[].forEach.call(L.childNodes,function(O){T.invertChild(O,L)}),L.tagName==="SPAN"){var k=this.rotation,b=this.textWidth&&R(this.textWidth),y=[k,P,L.innerHTML,this.textWidth,this.textAlign].join(),d=void 0;if(d=!1,b!==this.oldTextWidth){if(this.textPxLength)var w=this.textPxLength;else g(L,{width:"",whiteSpace:A||"nowrap"}),w=L.offsetWidth;(b>this.oldTextWidth||w>b)&&(/[ \-]/.test(L.textContent||L.innerText)||L.style.textOverflow==="ellipsis")&&(g(L,{width:w>b||k?b+"px":"auto",display:"block",whiteSpace:A||"normal"}),this.oldTextWidth=b,d=!0)}this.hasBoxWidthChanged=d,y!==this.cTT&&(d=T.fontMetrics(L.style.fontSize,L).b,!x(k)||k===(this.oldRotation||0)&&P===this.oldAlign||this.setSpanRotation(k,I,d),this.getSpanCorrection(!x(k)&&this.textPxLength||L.offsetWidth,d,I,k,P)),g(L,{left:$+(this.xCorr||0)+"px",top:D+(this.yCorr||0)+"px"}),this.cTT=y,this.oldRotation=k,this.oldAlign=P}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(T,L,j){var z={},$=h&&!/Edge/.test(v.navigator.userAgent)?"-ms-transform":f?"-webkit-transform":c?"MozTransform":v.opera?"-o-transform":void 0;$&&(z[$]=z.transform="rotate("+T+"deg)",z[$+(c?"Origin":"-origin")]=z.transformOrigin=100*L+"% "+j+"px",g(this.element,z))},_.composedClasses=[],_}(o)}),n(r,"Core/Renderer/HTML/HTMLRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var x=function(m,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,C){R.__proto__=C}||function(R,C){for(var _ in C)C.hasOwnProperty(_)&&(R[_]=C[_])},x(m,E)};return function(m,E){function R(){this.constructor=m}x(m,E),m.prototype=E===null?Object.create(E):(R.prototype=E.prototype,new R)}}(),h=u.attr,f=u.createElement,v=u.extend,g=u.pick;return function(x){function m(){return x!==null&&x.apply(this,arguments)||this}return c(m,x),m.compose=function(E){return m.composedClasses.indexOf(E)===-1&&(m.composedClasses.push(E),E.prototype.html=m.prototype.html),E},m.prototype.html=function(E,R,C){var _=this.createElement("span"),T=_.element,L=_.renderer,j=L.isSVG,z=function($,D){["opacity","visibility"].forEach(function(P){$[P+"Setter"]=function(I,A,k){var b=$.div?$.div.style:D;o.prototype[P+"Setter"].call(this,I,A,k),b&&(b[A]=I)}}),$.addedSetters=!0};return _.textSetter=function($){$!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,i.setElementHTML(this.element,g($,"")),this.textStr=$,_.doTransform=!0)},j&&z(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function($,D){D==="align"?_.alignValue=_.textAlign=$:_[D]=$,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:E,x:Math.round(R),y:Math.round(C)}).css({position:"absolute"}),L.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),T.style.whiteSpace="nowrap",_.css=_.htmlCss,j&&(_.add=function($){var D=L.box.parentNode,P=[];if(this.parentGroup=$){var I=$.div;if(!I){for(;$;)P.push($),$=$.parentGroup;P.reverse().forEach(function(A){function k(w,O){A[O]=w,O==="translateX"?d.left=w+"px":d.top=w+"px",A.doTransform=!0}var b=h(A.element,"class"),y=A.styles||{};I=A.div=A.div||f("div",b?{className:b}:void 0,{position:"absolute",left:(A.translateX||0)+"px",top:(A.translateY||0)+"px",display:A.display,opacity:A.opacity,cursor:y.cursor,pointerEvents:y.pointerEvents,visibility:A.visibility},I||D);var d=I.style;v(A,{classSetter:function(w){return function(O){this.element.setAttribute("class",O),w.className=O}}(I),on:function(){return P[0].div&&_.on.apply({element:P[0].div,onEvents:A.onEvents},arguments),A},translateXSetter:k,translateYSetter:k}),A.addedSetters||z(A)})}}else I=D;return I.appendChild(T),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},m.composedClasses=[],m}(a)}),n(r,"Core/Axis/AxisDefaults.js",[],function(){var i;return function(o){o.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},o.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var a=this.axis.chart.numberFormatter;return a(this.total||0,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},o.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},o.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},o.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},o.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}}(i||(i={})),i}),n(r,"Core/Foundation.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.isFunction,u=i.objectEach,c=i.removeEvent,h;return function(f){f.registerEventOptions=function(v,g){v.eventOptions=v.eventOptions||{},u(g.events,function(x,m){v.eventOptions[m]!==x&&(v.eventOptions[m]&&(c(v,m,v.eventOptions[m]),delete v.eventOptions[m]),a(x)&&(v.eventOptions[m]=x,o(v,m,x)))})}}(h||(h={})),h}),n(r,"Core/Axis/Tick.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o,a){var u=o.deg2rad,c=a.clamp,h=a.correctFloat,f=a.defined,v=a.destroyObjectProperties,g=a.extend,x=a.fireEvent,m=a.isNumber,E=a.merge,R=a.objectEach,C=a.pick;return o=function(){function _(T,L,j,z,$){this.isNewLabel=this.isNew=!0,this.axis=T,this.pos=L,this.type=j||"",this.parameters=$||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,x(this,"init"),j||z||this.addLabel()}return _.prototype.addLabel=function(){var T=this,L=T.axis,j=L.options,z=L.chart,$=L.categories,D=L.logarithmic,P=L.names,I=T.pos,A=C(T.options&&T.options.labels,j.labels),k=L.tickPositions,b=I===k[0],y=I===k[k.length-1],d=(!A.step||A.step===1)&&L.tickInterval===1;k=k.info;var w=T.label,O;if($=this.parameters.category||($?C($[I],P[I],I):I),D&&m($)&&($=h(D.lin2log($))),L.dateTime)if(k)var S=z.time.resolveDTLFormat(j.dateTimeLabelFormats[!j.grid&&k.higherRanks[I]||k.unitName]),F=S.main;else m($)&&(F=L.dateTime.getXDateFormat($,j.dateTimeLabelFormats||{}));T.isFirst=b,T.isLast=y;var V={axis:L,chart:z,dateTimeLabelFormat:F,isFirst:b,isLast:y,pos:I,tick:T,tickPositionInfo:k,value:$};x(this,"labelFormat",V);var K=function(M){return A.formatter?A.formatter.call(M,M):A.format?(M.text=L.defaultLabelFormatter.call(M,M),i.format(A.format,M,z)):L.defaultLabelFormatter.call(M,M)};j=K.call(V,V);var Y=S&&S.list;T.shortenLabel=Y?function(){for(O=0;O<Y.length;O++)if(g(V,{dateTimeLabelFormat:Y[O]}),w.attr({text:K.call(V,V)}),w.getBBox().width<L.getSlotWidth(T)-2*A.padding)return;w.attr({text:""})}:void 0,d&&L._addedPlotLB&&T.moveLabel(j,A),f(w)||T.movedLabel?w&&w.textStr!==j&&!d&&(!w.textWidth||A.style.width||w.styles.width||w.css({width:null}),w.attr({text:j}),w.textPxLength=w.getBBox().width):(T.label=w=T.createLabel({x:0,y:0},j,A),T.rotation=0)},_.prototype.createLabel=function(T,L,j){var z=this.axis,$=z.chart;return(T=f(L)&&j.enabled?$.renderer.text(L,T.x,T.y,j.useHTML).add(z.labelGroup):null)&&($.styledMode||T.css(E(j.style)),T.textPxLength=T.getBBox().width),T},_.prototype.destroy=function(){v(this,this.axis)},_.prototype.getPosition=function(T,L,j,z){var $=this.axis,D=$.chart,P=z&&D.oldChartHeight||D.chartHeight;return T={x:T?h($.translate(L+j,void 0,void 0,z)+$.transB):$.left+$.offset+($.opposite?(z&&D.oldChartWidth||D.chartWidth)-$.right-$.left:0),y:T?P-$.bottom+$.offset-($.opposite?$.height:0):h(P-$.translate(L+j,void 0,void 0,z)-$.transB)},T.y=c(T.y,-1e5,1e5),x(this,"afterGetPosition",{pos:T}),T},_.prototype.getLabelPosition=function(T,L,j,z,$,D,P,I){var A=this.axis,k=A.transA,b=A.isLinked&&A.linkedParent?A.linkedParent.reversed:A.reversed,y=A.staggerLines,d=A.tickRotCorr||{x:0,y:0},w=z||A.reserveSpaceDefault?0:-A.labelOffset*(A.labelAlign==="center"?.5:1),O={};return j=A.side===0?j.rotation?-8:-j.getBBox().height:A.side===2?d.y+8:Math.cos(j.rotation*u)*(d.y-j.getBBox(!1,0).height/2),f($.y)&&(j=A.side===0&&A.horiz?$.y+j:$.y),T=T+$.x+w+d.x-(D&&z?D*k*(b?-1:1):0),L=L+j-(D&&!z?D*k*(b?1:-1):0),y&&(z=P/(I||1)%y,A.opposite&&(z=y-z-1),L+=A.labelOffset/y*z),O.x=T,O.y=Math.round(L),x(this,"afterGetLabelPosition",{pos:O,tickmarkOffset:D,index:P}),O},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(T,L,j,z,$,D){return D.crispLine([["M",T,L],["L",T+($?0:-j),L+($?j:0)]],z)},_.prototype.handleOverflow=function(T){var L=this.axis,j=L.options.labels,z=T.x,$=L.chart.chartWidth,D=L.chart.spacing,P=C(L.labelLeft,Math.min(L.pos,D[3]));D=C(L.labelRight,Math.max(L.isRadial?0:L.pos+L.len,$-D[1]));var I=this.label,A=this.rotation,k={left:0,center:.5,right:1}[L.labelAlign||I.attr("align")],b=I.getBBox().width,y=L.getSlotWidth(this),d={},w=y,O=1,S;A||j.overflow!=="justify"?0>A&&z-k*b<P?S=Math.round(z/Math.cos(A*u)-P):0<A&&z+k*b>D&&(S=Math.round(($-z)/Math.cos(A*u))):($=z+(1-k)*b,z-k*b<P?w=T.x+w*(1-k)-P:$>D&&(w=D-T.x+w*k,O=-1),w=Math.min(y,w),w<y&&L.labelAlign==="center"&&(T.x+=O*(y-w-k*(y-Math.min(b,w)))),(b>w||L.autoRotation&&(I.styles||{}).width)&&(S=w)),S&&(this.shortenLabel?this.shortenLabel():(d.width=Math.floor(S)+"px",(j.style||{}).textOverflow||(d.textOverflow="ellipsis"),I.css(d)))},_.prototype.moveLabel=function(T,L){var j=this,z=j.label,$=j.axis,D=$.reversed,P=!1;if(z&&z.textStr===T?(j.movedLabel=z,P=!0,delete j.label):R($.ticks,function(A){P||A.isNew||A===j||!A.label||A.label.textStr!==T||(j.movedLabel=A.label,P=!0,A.labelPos=j.movedLabel.xy,delete A.label)}),!P&&(j.labelPos||z)){var I=j.labelPos||z.xy;z=$.horiz?D?0:$.width+$.left:I.x,$=$.horiz?I.y:D?$.width+$.left:0,j.movedLabel=j.createLabel({x:z,y:$},T,L),j.movedLabel&&j.movedLabel.attr({opacity:0})}},_.prototype.render=function(T,L,j){var z=this.axis,$=z.horiz,D=this.pos,P=C(this.tickmarkOffset,z.tickmarkOffset);D=this.getPosition($,D,P,L),P=D.x;var I=D.y;z=$&&P===z.pos+z.len||!$&&I===z.pos?-1:1,$=C(j,this.label&&this.label.newOpacity,1),j=C(j,1),this.isActive=!0,this.renderGridLine(L,j,z),this.renderMark(D,j,z),this.renderLabel(D,L,$,T),this.isNew=!1,x(this,"afterRender")},_.prototype.renderGridLine=function(T,L,j){var z=this.axis,$=z.options,D={},P=this.pos,I=this.type,A=C(this.tickmarkOffset,z.tickmarkOffset),k=z.chart.renderer,b=this.gridLine,y=$.gridLineWidth,d=$.gridLineColor,w=$.gridLineDashStyle;this.type==="minor"&&(y=$.minorGridLineWidth,d=$.minorGridLineColor,w=$.minorGridLineDashStyle),b||(z.chart.styledMode||(D.stroke=d,D["stroke-width"]=y||0,D.dashstyle=w),I||(D.zIndex=1),T&&(L=0),this.gridLine=b=k.path().attr(D).addClass("highcharts-"+(I?I+"-":"")+"grid-line").add(z.gridGroup)),b&&(j=z.getPlotLinePath({value:P+A,lineWidth:b.strokeWidth()*j,force:"pass",old:T,acrossPanes:!1}))&&b[T||this.isNew?"attr":"animate"]({d:j,opacity:L})},_.prototype.renderMark=function(T,L,j){var z=this.axis,$=z.options,D=z.chart.renderer,P=this.type,I=z.tickSize(P?P+"Tick":"tick"),A=T.x;T=T.y;var k=C($[P!=="minor"?"tickWidth":"minorTickWidth"],!P&&z.isXAxis?1:0);$=$[P!=="minor"?"tickColor":"minorTickColor"];var b=this.mark,y=!b;I&&(z.opposite&&(I[0]=-I[0]),b||(this.mark=b=D.path().addClass("highcharts-"+(P?P+"-":"")+"tick").add(z.axisGroup),z.chart.styledMode||b.attr({stroke:$,"stroke-width":k})),b[y?"attr":"animate"]({d:this.getMarkPath(A,T,I[0],b.strokeWidth()*j,z.horiz,D),opacity:L}))},_.prototype.renderLabel=function(T,L,j,z){var $=this.axis,D=$.horiz,P=$.options,I=this.label,A=P.labels,k=A.step;$=C(this.tickmarkOffset,$.tickmarkOffset);var b=T.x;T=T.y;var y=!0;I&&m(b)&&(I.xy=T=this.getLabelPosition(b,T,I,D,A,$,z,k),this.isFirst&&!this.isLast&&!P.showFirstLabel||this.isLast&&!this.isFirst&&!P.showLastLabel?y=!1:!D||A.step||A.rotation||L||j===0||this.handleOverflow(T),k&&z%k&&(y=!1),y&&m(T.y)?(T.opacity=j,I[this.isNewLabel?"attr":"animate"](T).show(!0),this.isNewLabel=!1):(I.hide(),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var T=this.label,L=this.axis,j=L.reversed;if(T&&!this.isNew){var z=L.horiz?j?L.left:L.width+L.left:T.xy.x;j=L.horiz?T.xy.y:j?L.width+L.top:L.top,T.animate({x:z,y:j,opacity:0},void 0,T.destroy),delete this.label}L.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}(),o}),n(r,"Core/Axis/Axis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/AxisDefaults.js"],r["Core/Color/Color.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Axis/Tick.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v){var g=i.animObject,x=u.defaultOptions,m=c.registerEventOptions,E=h.deg2rad,R=v.arrayMax,C=v.arrayMin,_=v.clamp,T=v.correctFloat,L=v.defined,j=v.destroyObjectProperties,z=v.erase,$=v.error,D=v.extend,P=v.fireEvent,I=v.isArray,A=v.isNumber,k=v.isString,b=v.merge,y=v.normalizeTickInterval,d=v.objectEach,w=v.pick,O=v.relativeLength,S=v.removeEvent,F=v.splat,V=v.syncTimeout,K=function(Y,M){return y(M,void 0,void 0,w(Y.options.allowDecimals,.5>M||Y.tickAmount!==void 0),!!Y.tickAmount)};return i=function(){function Y(M,B){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(M,B)}return Y.prototype.init=function(M,B){var H=B.isX;this.chart=M,this.horiz=M.inverted&&!this.isZAxis?!H:H,this.isXAxis=H,this.coll=this.coll||(H?"xAxis":"yAxis"),P(this,"init",{userOptions:B}),this.opposite=w(B.opposite,this.opposite),this.side=w(B.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(B);var q=this.options,Q=q.labels,U=q.type;this.userOptions=B,this.minPixelPadding=0,this.reversed=w(q.reversed,this.reversed),this.visible=q.visible,this.zoomEnabled=q.zoomEnabled,this.hasNames=U==="category"||q.categories===!0,this.categories=q.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=L(q.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=q.minRange||q.maxZoom,this.range=q.range,this.offset=q.offset||0,this.min=this.max=null,B=w(q.crosshair,F(M.options.tooltip.crosshairs)[H?0:1]),this.crosshair=B===!0?{}:B,M.axes.indexOf(this)===-1&&(H?M.axes.splice(M.xAxis.length,0,this):M.axes.push(this),M[this.coll].push(this)),this.series=this.series||[],M.inverted&&!this.isZAxis&&H&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=A(Q.rotation)?Q.rotation:void 0,m(this,q),P(this,"afterInit")},Y.prototype.setOptions=function(M){this.options=b(o.defaultXAxisOptions,this.coll==="yAxis"&&o.defaultYAxisOptions,[o.defaultTopAxisOptions,o.defaultRightAxisOptions,o.defaultBottomAxisOptions,o.defaultLeftAxisOptions][this.side],b(x[this.coll],M)),P(this,"afterSetOptions",{userOptions:M})},Y.prototype.defaultLabelFormatter=function(M){var B=this.axis;M=this.chart.numberFormatter;var H=A(this.value)?this.value:NaN,q=B.chart.time,Q=this.dateTimeLabelFormat,U=x.lang,X=U.numericSymbols;U=U.numericSymbolMagnitude||1e3;var G=B.logarithmic?Math.abs(H):B.tickInterval,Z=X&&X.length;if(B.categories)var J="".concat(this.value);else if(Q)J=q.dateFormat(Q,H);else if(Z&&1e3<=G)for(;Z--&&typeof J>"u";)B=Math.pow(U,Z+1),G>=B&&10*H%B===0&&X[Z]!==null&&H!==0&&(J=M(H/B,-1)+X[Z]);return typeof J>"u"&&(J=1e4<=Math.abs(H)?M(H,-1):M(H,-1,void 0,"")),J},Y.prototype.getSeriesExtremes=function(){var M=this,B=M.chart,H;P(this,"getSeriesExtremes",null,function(){M.hasVisibleSeries=!1,M.dataMin=M.dataMax=M.threshold=null,M.softThreshold=!M.isXAxis,M.series.forEach(function(q){if(q.visible||!B.options.chart.ignoreHiddenSeries){var Q=q.options,U=Q.threshold;if(M.hasVisibleSeries=!0,M.positiveValuesOnly&&0>=U&&(U=null),M.isXAxis){if(Q=q.xData,Q.length){Q=M.logarithmic?Q.filter(M.validatePositiveValue):Q,H=q.getXExtremes(Q);var X=H.min,G=H.max;A(X)||X instanceof Date||(Q=Q.filter(A),H=q.getXExtremes(Q),X=H.min,G=H.max),Q.length&&(M.dataMin=Math.min(w(M.dataMin,X),X),M.dataMax=Math.max(w(M.dataMax,G),G))}}else q=q.applyExtremes(),A(q.dataMin)&&(X=q.dataMin,M.dataMin=Math.min(w(M.dataMin,X),X)),A(q.dataMax)&&(G=q.dataMax,M.dataMax=Math.max(w(M.dataMax,G),G)),L(U)&&(M.threshold=U),(!Q.softThreshold||M.positiveValuesOnly)&&(M.softThreshold=!1)}})}),P(this,"afterGetSeriesExtremes")},Y.prototype.translate=function(M,B,H,q,Q,U){var X=this.linkedParent||this,G=q&&X.old?X.old.min:X.min;if(!A(G))return NaN;var Z=X.minPixelPadding;Q=(X.isOrdinal||X.brokenAxis&&X.brokenAxis.hasBreaks||X.logarithmic&&Q)&&X.lin2val;var J=1,et=0;return q=q&&X.old?X.old.transA:X.transA,q||(q=X.transA),H&&(J*=-1,et=X.len),X.reversed&&(J*=-1,et-=J*(X.sector||X.len)),B?(U=(M*J+et-Z)/q+G,Q&&(U=X.lin2val(U))):(Q&&(M=X.val2lin(M)),M=J*(M-G)*q,U=(X.isRadial?M:T(M))+et+J*Z+(A(U)?q*U:0)),U},Y.prototype.toPixels=function(M,B){return this.translate(M,!1,!this.horiz,void 0,!0)+(B?0:this.pos)},Y.prototype.toValue=function(M,B){return this.translate(M-(B?0:this.pos),!0,!this.horiz,void 0,!0)},Y.prototype.getPlotLinePath=function(M){function B(ht,it,ot){return st!=="pass"&&(ht<it||ht>ot)&&(st?ht=_(ht,it,ot):bt=!0),ht}var H=this,q=H.chart,Q=H.left,U=H.top,X=M.old,G=M.value,Z=M.lineWidth,J=X&&q.oldChartHeight||q.chartHeight,et=X&&q.oldChartWidth||q.chartWidth,nt=H.transB,at=M.translatedValue,st=M.force,mt,wt,yt,gt,bt;return M={value:G,lineWidth:Z,old:X,force:st,acrossPanes:M.acrossPanes,translatedValue:at},P(this,"getPlotLinePath",M,function(ht){at=w(at,H.translate(G,void 0,void 0,X)),at=_(at,-1e5,1e5),mt=yt=Math.round(at+nt),wt=gt=Math.round(J-at-nt),A(at)?H.horiz?(wt=U,gt=J-H.bottom,mt=yt=B(mt,Q,Q+H.width)):(mt=Q,yt=et-H.right,wt=gt=B(wt,U,U+H.height)):(bt=!0,st=!1),ht.path=bt&&!st?null:q.renderer.crispLine([["M",mt,wt],["L",yt,gt]],Z||1)}),M.path},Y.prototype.getLinearTickPositions=function(M,B,H){var q=T(Math.floor(B/M)*M);H=T(Math.ceil(H/M)*M);var Q=[],U;if(T(q+M)===q&&(U=20),this.single)return[B];for(B=q;B<=H&&(Q.push(B),B=T(B+M,U),B!==X);)var X=B;return Q},Y.prototype.getMinorTickInterval=function(){var M=this.options;return M.minorTicks===!0?w(M.minorTickInterval,"auto"):M.minorTicks===!1?null:M.minorTickInterval},Y.prototype.getMinorTickPositions=function(){var M=this.options,B=this.tickPositions,H=this.minorTickInterval,q=this.pointRangePadding||0,Q=this.min-q;q=this.max+q;var U=q-Q,X=[];if(U&&U/H<this.len/3){var G=this.logarithmic;if(G)this.paddedTicks.forEach(function(Z,J,et){J&&X.push.apply(X,G.getLogTickPositions(H,et[J-1],et[J],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")X=X.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(H),Q,q,M.startOfWeek));else for(M=Q+(B[0]-Q)%H;M<=q&&M!==X[0];M+=H)X.push(M)}return X.length!==0&&this.trimTicks(X),X},Y.prototype.adjustForMinRange=function(){var M=this.options,B=this.logarithmic,H=this.min,q=this.max,Q=0,U,X,G,Z;if(this.isXAxis&&typeof this.minRange>"u"&&!B&&(L(M.min)||L(M.max)||L(M.floor)||L(M.ceiling)?this.minRange=null:(this.series.forEach(function(at){if(G=at.xData,Z=at.xIncrement?1:G.length-1,1<G.length)for(U=Z;0<U;U--)X=G[U]-G[U-1],(!Q||X<Q)&&(Q=X)}),this.minRange=Math.min(5*Q,this.dataMax-this.dataMin))),q-H<this.minRange){var J=this.dataMax-this.dataMin>=this.minRange,et=this.minRange,nt=(et-q+H)/2;nt=[H-nt,w(M.min,H-nt)],J&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),H=R(nt),q=[H+et,w(M.max,H+et)],J&&(q[2]=B?B.log2lin(this.dataMax):this.dataMax),q=C(q),q-H<et&&(nt[0]=q-et,nt[1]=w(M.min,q-et),H=R(nt))}this.min=H,this.max=q},Y.prototype.getClosest=function(){var M;return this.categories?M=1:this.series.forEach(function(B){var H=B.closestPointRange,q=B.visible||!B.chart.options.chart.ignoreHiddenSeries;!B.noSharedTooltip&&L(H)&&q&&(M=L(M)?Math.min(M,H):H)}),M},Y.prototype.nameToX=function(M){var B=I(this.options.categories),H=B?this.categories:this.names,q=M.options.x;if(M.series.requireSorting=!1,L(q)||(q=this.options.uniqueNames&&H?B?H.indexOf(M.name):w(H.keys[M.name],-1):M.series.autoIncrement()),q===-1){if(!B&&H)var Q=H.length}else Q=q;return typeof Q<"u"?(this.names[Q]=M.name,this.names.keys[M.name]=Q):M.x&&(Q=M.x),Q},Y.prototype.updateNames=function(){var M=this,B=this.names;0<B.length&&(Object.keys(B.keys).forEach(function(H){delete B.keys[H]}),B.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(H){H.xIncrement=null,(!H.points||H.isDirtyData)&&(M.max=Math.max(M.max,H.xData.length-1),H.processData(),H.generatePoints()),H.data.forEach(function(q,Q){if(q&&q.options&&typeof q.name<"u"){var U=M.nameToX(q);typeof U<"u"&&U!==q.x&&(q.x=U,H.xData[Q]=U)}})}))},Y.prototype.setAxisTranslation=function(){var M=this,B=M.max-M.min,H=M.linkedParent,q=!!M.categories,Q=M.isXAxis,U=M.axisPointRange||0,X=0,G=0,Z=M.transA;if(Q||q||U){var J=M.getClosest();H?(X=H.minPointOffset,G=H.pointRangePadding):M.series.forEach(function(et){var nt=q?1:Q?w(et.options.pointRange,J,0):M.axisPointRange||0,at=et.options.pointPlacement;U=Math.max(U,nt),(!M.single||q)&&(et=et.is("xrange")?!Q:Q,X=Math.max(X,et&&k(at)?0:nt/2),G=Math.max(G,et&&at==="on"?0:nt))}),H=M.ordinal&&M.ordinal.slope&&J?M.ordinal.slope/J:1,M.minPointOffset=X*=H,M.pointRangePadding=G*=H,M.pointRange=Math.min(U,M.single&&q?1:B),Q&&(M.closestPointRange=J)}M.translationSlope=M.transA=Z=M.staticScale||M.len/(B+G||1),M.transB=M.horiz?M.left:M.bottom,M.minPixelPadding=Z*X,P(this,"afterSetAxisTranslation")},Y.prototype.minFromRange=function(){return this.max-this.range},Y.prototype.setTickInterval=function(M){var B=this.chart,H=this.logarithmic,q=this.options,Q=this.isXAxis,U=this.isLinked,X=q.tickPixelInterval,G=this.categories,Z=this.softThreshold,J=q.maxPadding,et=q.minPadding,nt=A(q.tickInterval)&&0<=q.tickInterval?q.tickInterval:void 0,at=A(this.threshold)?this.threshold:null;this.dateTime||G||U||this.getTickAmount();var st=w(this.userMin,q.min),mt=w(this.userMax,q.max);if(U){this.linkedParent=B[this.coll][q.linkedTo];var wt=this.linkedParent.getExtremes();this.min=w(wt.min,wt.dataMin),this.max=w(wt.max,wt.dataMax),q.type!==this.linkedParent.options.type&&$(11,1,B)}else{if(Z&&L(at)){if(this.dataMin>=at)wt=at,et=0;else if(this.dataMax<=at){var yt=at;J=0}}this.min=w(st,wt,this.dataMin),this.max=w(mt,yt,this.dataMax)}if(H&&(this.positiveValuesOnly&&!M&&0>=Math.min(this.min,w(this.dataMin,this.min))&&$(10,1,B),this.min=T(H.log2lin(this.min),16),this.max=T(H.log2lin(this.max),16)),this.range&&L(this.max)&&(this.userMin=this.min=st=Math.max(this.dataMin,this.minFromRange()),this.userMax=mt=this.max,this.range=null),P(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(G||this.axisPointRange||this.stacking&&this.stacking.usePercentage||U)&&L(this.min)&&L(this.max)&&(B=this.max-this.min)&&(!L(st)&&et&&(this.min-=B*et),!L(mt)&&J&&(this.max+=B*J)),A(this.userMin)||(A(q.softMin)&&q.softMin<this.min&&(this.min=st=q.softMin),A(q.floor)&&(this.min=Math.max(this.min,q.floor))),A(this.userMax)||(A(q.softMax)&&q.softMax>this.max&&(this.max=mt=q.softMax),A(q.ceiling)&&(this.max=Math.min(this.max,q.ceiling))),Z&&L(this.dataMin)&&(at=at||0,!L(st)&&this.min<at&&this.dataMin>=at?this.min=this.options.minRange?Math.min(at,this.max-this.minRange):at:!L(mt)&&this.max>at&&this.dataMax<=at&&(this.max=this.options.minRange?Math.max(at,this.min+this.minRange):at)),A(this.min)&&A(this.max)&&!this.chart.polar&&this.min>this.max&&(L(this.options.min)?this.max=this.min:L(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:U&&this.linkedParent&&!nt&&X===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:w(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,G?1:(this.max-this.min)*X/Math.max(this.len,X)),Q&&!M){var gt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(bt){bt.forceCrop=bt.forceCropping&&bt.forceCropping(),bt.processData(gt)}),P(this,"postProcessData",{hasExtremesChanged:gt})}this.setAxisTranslation(),P(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),M=w(q.minTickInterval,this.dateTime&&!this.series.some(function(bt){return bt.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<M&&(this.tickInterval=M),this.dateTime||this.logarithmic||nt||(this.tickInterval=K(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},Y.prototype.setTickPositions=function(){var M=this.options,B=M.tickPositions,H=M.tickPositioner,q=this.getMinorTickInterval(),Q=this.hasVerticalPanning(),U=this.coll==="colorAxis",X=(U||!Q)&&M.startOnTick;Q=(U||!Q)&&M.endOnTick,U=[];var G;if(this.tickmarkOffset=this.categories&&M.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=q==="auto"&&this.tickInterval?this.tickInterval/5:q,this.single=this.min===this.max&&L(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||M.allowDecimals!==!1),B)U=B.slice();else if(A(this.min)&&A(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)U=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,M.units),this.min,this.max,M.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)U=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(q=M=this.tickInterval;q<=2*M&&(U=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&U.length>this.tickAmount);)this.tickInterval=K(this,q*=1.1);else U=[this.min,this.max],$(19,!1,this.chart);U.length>this.len&&(U=[U[0],U[U.length-1]],U[0]===U[1]&&(U.length=1)),H&&(this.tickPositions=U,(G=H.apply(this,[this.min,this.max]))&&(U=G))}this.tickPositions=U,this.paddedTicks=U.slice(0),this.trimTicks(U,X,Q),!this.isLinked&&A(this.min)&&A(this.max)&&(this.single&&2>U.length&&!this.categories&&!this.series.some(function(Z){return Z.is("heatmap")&&Z.options.pointPlacement==="between"})&&(this.min-=.5,this.max+=.5),B||G||this.adjustTickAmount()),P(this,"afterSetTickPositions")},Y.prototype.trimTicks=function(M,B,H){var q=M[0],Q=M[M.length-1],U=!this.isOrdinal&&this.minPointOffset||0;if(P(this,"trimTicks"),!this.isLinked){if(B&&q!==-1/0)this.min=q;else for(;this.min-U>M[0];)M.shift();if(H)this.max=Q;else for(;this.max+U<M[M.length-1];)M.pop();M.length===0&&L(q)&&!this.options.tickPositions&&M.push((Q+q)/2)}},Y.prototype.alignToOthers=function(){var M=this,B=[this],H=M.options,q=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Q=[],U;if(M.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&H.alignTicks||q)&&H.startOnTick!==!1&&H.endOnTick!==!1&&!M.logarithmic){var X=function(J){var et=J.options;return[J.horiz?et.left:et.top,et.width,et.height,et.pane].join()},G=X(this);this.chart[this.coll].forEach(function(J){var et=J.series;et.length&&et.some(function(nt){return nt.visible})&&J!==M&&X(J)===G&&(U=!0,B.push(J))})}if(U&&q){B.forEach(function(J){J=J.getThresholdAlignment(M),A(J)&&Q.push(J)});var Z=1<Q.length?Q.reduce(function(J,et){return J+et},0)/Q.length:void 0;B.forEach(function(J){J.thresholdAlignment=Z})}return U},Y.prototype.getThresholdAlignment=function(M){if((!A(this.dataMin)||this!==M&&this.series.some(function(B){return B.isDirty||B.isDirtyData}))&&this.getSeriesExtremes(),A(this.threshold))return M=_((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(M=1-M),M},Y.prototype.getTickAmount=function(){var M=this.options,B=M.tickPixelInterval,H=M.tickAmount;!L(M.tickInterval)&&!H&&this.len<B&&!this.isRadial&&!this.logarithmic&&M.startOnTick&&M.endOnTick&&(H=2),!H&&this.alignToOthers()&&(H=Math.ceil(this.len/B)+1),4>H&&(this.finalTickAmt=H,H=5),this.tickAmount=H},Y.prototype.adjustTickAmount=function(){var M=this,B=M.finalTickAmt,H=M.max,q=M.min,Q=M.options,U=M.tickPositions,X=M.tickAmount,G=M.thresholdAlignment,Z=U&&U.length,J=w(M.threshold,M.softThreshold?0:null),et=M.tickInterval;if(A(G)){var nt=.5>G?Math.ceil(G*(X-1)):Math.floor(G*(X-1));Q.reversed&&(nt=X-1-nt)}if(M.hasData()&&A(q)&&A(H)){if(G=function(){M.transA*=(Z-1)/(X-1),M.min=Q.startOnTick?U[0]:Math.min(q,U[0]),M.max=Q.endOnTick?U[U.length-1]:Math.max(H,U[U.length-1])},A(nt)&&A(M.threshold)){for(;U[nt]!==J||U.length!==X||U[0]>q||U[U.length-1]<H;){for(U.length=0,U.push(M.threshold);U.length<X;)U[nt]===void 0||U[nt]>M.threshold?U.unshift(T(U[0]-et)):U.push(T(U[U.length-1]+et));if(et>8*M.tickInterval)break;et*=2}G()}else if(Z<X){for(;U.length<X;)U.length%2||q===J?U.push(T(U[U.length-1]+et)):U.unshift(T(U[0]-et));G()}if(L(B)){for(et=J=U.length;et--;)(B===3&&et%2===1||2>=B&&0<et&&et<J-1)&&U.splice(et,1);M.finalTickAmt=void 0}}},Y.prototype.setScale=function(){var M=!1,B=!1;this.series.forEach(function(q){M=M||q.isDirtyData||q.isDirty,B=B||q.xAxis&&q.xAxis.isDirty||!1}),this.setAxisSize();var H=this.len!==(this.old&&this.old.len);H||M||B||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=H||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),M&&this.panningState&&(this.panningState.isDirty=!0),P(this,"afterSetScale")},Y.prototype.setExtremes=function(M,B,H,q,Q){var U=this,X=U.chart;H=w(H,!0),U.series.forEach(function(G){delete G.kdTree}),Q=D(Q,{min:M,max:B}),P(U,"setExtremes",Q,function(){U.userMin=M,U.userMax=B,U.eventArgs=Q,H&&X.redraw(q)})},Y.prototype.zoom=function(M,B){var H=this,q=this.dataMin,Q=this.dataMax,U=this.options,X=Math.min(q,w(U.min,q)),G=Math.max(Q,w(U.max,Q));return M={newMin:M,newMax:B},P(this,"zoom",M,function(Z){var J=Z.newMin,et=Z.newMax;(J!==H.min||et!==H.max)&&(H.allowZoomOutside||(L(q)&&(J<X&&(J=X),J>G&&(J=G)),L(Q)&&(et<X&&(et=X),et>G&&(et=G))),H.displayBtn=typeof J<"u"||typeof et<"u",H.setExtremes(J,et,!1,void 0,{trigger:"zoom"})),Z.zoomed=!0}),M.zoomed},Y.prototype.setAxisSize=function(){var M=this.chart,B=this.options,H=B.offsets||[0,0,0,0],q=this.horiz,Q=this.width=Math.round(O(w(B.width,M.plotWidth-H[3]+H[1]),M.plotWidth)),U=this.height=Math.round(O(w(B.height,M.plotHeight-H[0]+H[2]),M.plotHeight)),X=this.top=Math.round(O(w(B.top,M.plotTop+H[0]),M.plotHeight,M.plotTop));B=this.left=Math.round(O(w(B.left,M.plotLeft+H[3]),M.plotWidth,M.plotLeft)),this.bottom=M.chartHeight-U-X,this.right=M.chartWidth-Q-B,this.len=Math.max(q?Q:U,0),this.pos=q?B:X},Y.prototype.getExtremes=function(){var M=this.logarithmic;return{min:M?T(M.lin2log(this.min)):this.min,max:M?T(M.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},Y.prototype.getThreshold=function(M){var B=this.logarithmic,H=B?B.lin2log(this.min):this.min;return B=B?B.lin2log(this.max):this.max,M===null||M===-1/0?M=H:M===1/0?M=B:H>M?M=H:B<M&&(M=B),this.translate(M,0,1,0,1)},Y.prototype.autoLabelAlign=function(M){var B=(w(M,0)-90*this.side+720)%360;return M={align:"center"},P(this,"autoLabelAlign",M,function(H){15<B&&165>B?H.align="right":195<B&&345>B&&(H.align="left")}),M.align},Y.prototype.tickSize=function(M){var B=this.options,H=w(B[M==="tick"?"tickWidth":"minorTickWidth"],M==="tick"&&this.isXAxis&&!this.categories?1:0),q=B[M==="tick"?"tickLength":"minorTickLength"];if(H&&q){B[M+"Position"]==="inside"&&(q=-q);var Q=[q,H]}return M={tickSize:Q},P(this,"afterTickSize",M),M.tickSize},Y.prototype.labelMetrics=function(){var M=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[M]&&this.ticks[M].label)},Y.prototype.unsquish=function(){var M=this.options.labels,B=this.horiz,H=this.tickInterval,q=this.len/(((this.categories?1:0)+this.max-this.min)/H),Q=M.rotation,U=this.labelMetrics(),X=Math.max(this.max-this.min,0),G=function(yt){var gt=yt/(q||1);return gt=1<gt?Math.ceil(gt):1,gt*H>X&&yt!==1/0&&q!==1/0&&X&&(gt=Math.ceil(X/H)),T(gt*H)},Z=H,J=Number.MAX_VALUE;if(B){if(!M.staggerLines)if(A(Q))var et=[Q];else q<M.autoRotationLimit&&(et=M.autoRotation);if(et)for(var nt=B=void 0,at=0,st=et;at<st.length;at++){var mt=st[at];if((mt===Q||mt&&-90<=mt&&90>=mt)&&(B=G(Math.abs(U.h/Math.sin(E*mt))),nt=B+Math.abs(mt/360),nt<J)){J=nt;var wt=mt;Z=B}}}else Z=G(U.h);return this.autoRotation=et,this.labelRotation=w(wt,A(Q)?Q:0),M.step?H:Z},Y.prototype.getSlotWidth=function(M){var B=this.chart,H=this.horiz,q=this.options.labels,Q=Math.max(this.tickPositions.length-(this.categories?0:1),1),U=B.margin[3];if(M&&A(M.slotWidth))return M.slotWidth;if(H&&2>q.step)return q.rotation?0:(this.staggerLines||1)*this.len/Q;if(!H){if(M=q.style.width,M!==void 0)return parseInt(String(M),10);if(U)return U-B.spacing[3]}return .33*B.chartWidth},Y.prototype.renderUnsquish=function(){var M=this.chart,B=M.renderer,H=this.tickPositions,q=this.ticks,Q=this.options.labels,U=Q.style,X=this.horiz,G=this.getSlotWidth(),Z=Math.max(1,Math.round(G-2*Q.padding)),J={},et=this.labelMetrics(),nt=U.textOverflow,at=0;if(k(Q.rotation)||(J.rotation=Q.rotation||0),H.forEach(function(yt){yt=q[yt],yt.movedLabel&&yt.replaceMovedLabel(),yt&&yt.label&&yt.label.textPxLength>at&&(at=yt.label.textPxLength)}),this.maxLabelLength=at,this.autoRotation)at>Z&&at>et.h?J.rotation=this.labelRotation:this.labelRotation=0;else if(G){var st=Z;if(!nt){var mt="clip";for(Z=H.length;!X&&Z--;){var wt=H[Z];(wt=q[wt].label)&&(wt.styles&&wt.styles.textOverflow==="ellipsis"?wt.css({textOverflow:"clip"}):wt.textPxLength>G&&wt.css({width:G+"px"}),wt.getBBox().height>this.len/H.length-(et.h-et.f)&&(wt.specificTextOverflow="ellipsis"))}}}J.rotation&&(st=at>.5*M.chartHeight?.33*M.chartHeight:at,nt||(mt="ellipsis")),(this.labelAlign=Q.align||this.autoLabelAlign(this.labelRotation))&&(J.align=this.labelAlign),H.forEach(function(yt){var gt=(yt=q[yt])&&yt.label,bt=U.width,ht={};gt&&(gt.attr(J),yt.shortenLabel?yt.shortenLabel():st&&!bt&&U.whiteSpace!=="nowrap"&&(st<gt.textPxLength||gt.element.tagName==="SPAN")?(ht.width=st+"px",nt||(ht.textOverflow=gt.specificTextOverflow||mt),gt.css(ht)):gt.styles&&gt.styles.width&&!ht.width&&!bt&&gt.css({width:null}),delete gt.specificTextOverflow,yt.rotation=J.rotation)},this),this.tickRotCorr=B.rotCorr(et.b,this.labelRotation||0,this.side!==0)},Y.prototype.hasData=function(){return this.series.some(function(M){return M.hasData()})||this.options.showEmpty&&L(this.min)&&L(this.max)},Y.prototype.addTitle=function(M){var B=this.chart.renderer,H=this.horiz,q=this.opposite,Q=this.options.title,U=this.chart.styledMode,X;this.axisTitle||((X=Q.textAlign)||(X=(H?{low:"left",middle:"center",high:"right"}:{low:q?"right":"left",middle:"center",high:q?"left":"right"})[Q.align]),this.axisTitle=B.text(Q.text||"",0,0,Q.useHTML).attr({zIndex:7,rotation:Q.rotation,align:X}).addClass("highcharts-axis-title"),U||this.axisTitle.css(b(Q.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),U||Q.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[M?"show":"hide"](M)},Y.prototype.generateTick=function(M){var B=this.ticks;B[M]?B[M].addLabel():B[M]=new f(this,M)},Y.prototype.getOffset=function(){var M=this,B=this,H=B.chart,q=B.horiz,Q=B.options,U=B.side,X=B.ticks,G=B.tickPositions,Z=B.coll,J=B.axisParent,et=H.renderer,nt=H.inverted&&!B.isZAxis?[1,0,3,2][U]:U,at=B.hasData(),st=Q.title,mt=Q.labels,wt=H.axisOffset;H=H.clipOffset;var yt=[-1,1,1,-1][U],gt=Q.className,bt,ht=0,it=0,ot=0;if(B.showAxis=bt=at||Q.showEmpty,B.staggerLines=B.horiz&&mt.staggerLines||void 0,!B.axisGroup){var ct=function(vt,xt,St){return et.g(vt).attr({zIndex:St}).addClass("highcharts-".concat(Z.toLowerCase()).concat(xt," ")+(M.isRadial?"highcharts-radial-axis".concat(xt," "):"")+(gt||"")).add(J)};B.gridGroup=ct("grid","-grid",Q.gridZIndex),B.axisGroup=ct("axis","",Q.zIndex),B.labelGroup=ct("axis-labels","-labels",mt.zIndex)}if(at||B.isLinked?(G.forEach(function(vt){B.generateTick(vt)}),B.renderUnsquish(),B.reserveSpaceDefault=U===0||U===2||{1:"left",3:"right"}[U]===B.labelAlign,w(mt.reserveSpace,B.labelAlign==="center"?!0:null,B.reserveSpaceDefault)&&G.forEach(function(vt){ot=Math.max(X[vt].getLabelSize(),ot)}),B.staggerLines&&(ot*=B.staggerLines),B.labelOffset=ot*(B.opposite?-1:1)):d(X,function(vt,xt){vt.destroy(),delete X[xt]}),st&&st.text&&st.enabled!==!1&&(B.addTitle(bt),bt&&st.reserveSpace!==!1)){B.titleOffset=ht=B.axisTitle.getBBox()[q?"height":"width"];var ft=st.offset;it=L(ft)?0:w(st.margin,q?5:10)}B.renderLine(),B.offset=yt*w(Q.offset,wt[U]?wt[U]+(Q.margin||0):0),B.tickRotCorr=B.tickRotCorr||{x:0,y:0},st=U===0?-B.labelMetrics().h:U===2?B.tickRotCorr.y:0,at=Math.abs(ot)+it,ot&&(at=at-st+yt*(q?w(mt.y,B.tickRotCorr.y+8*yt):mt.x)),B.axisTitleMargin=w(ft,at),B.getMaxLabelDimensions&&(B.maxLabelDimensions=B.getMaxLabelDimensions(X,G)),Z!=="colorAxis"&&(q=this.tickSize("tick"),wt[U]=Math.max(wt[U],(B.axisTitleMargin||0)+ht+yt*B.offset,at,G&&G.length&&q?q[0]+yt*B.offset:0),Q=!B.axisLine||Q.offset?0:2*Math.floor(B.axisLine.strokeWidth()/2),H[nt]=Math.max(H[nt],Q)),P(this,"afterGetOffset")},Y.prototype.getLinePath=function(M){var B=this.chart,H=this.opposite,q=this.offset,Q=this.horiz,U=this.left+(H?this.width:0)+q;return q=B.chartHeight-this.bottom-(H?this.height:0)+q,H&&(M*=-1),B.renderer.crispLine([["M",Q?this.left:U,Q?q:this.top],["L",Q?B.chartWidth-this.right:U,Q?q:B.chartHeight-this.bottom]],M)},Y.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},Y.prototype.getTitlePosition=function(){var M=this.horiz,B=this.left,H=this.top,q=this.len,Q=this.options.title,U=M?B:H,X=this.opposite,G=this.offset,Z=Q.x,J=Q.y,et=this.axisTitle,nt=this.chart.renderer.fontMetrics(Q.style.fontSize,et);return et=et?Math.max(et.getBBox(!1,0).height-nt.h-1,0):0,q={low:U+(M?0:q),middle:U+q/2,high:U+(M?q:0)}[Q.align],B=(M?H+this.height:B)+(M?1:-1)*(X?-1:1)*(this.axisTitleMargin||0)+[-et,et,nt.f,-et][this.side],M={x:M?q+Z:B+(X?this.width:0)+G+Z,y:M?B+J-(X?this.height:0)+G:q+J},P(this,"afterGetTitlePosition",{titlePosition:M}),M},Y.prototype.renderMinorTick=function(M,B){var H=this.minorTicks;H[M]||(H[M]=new f(this,M,"minor")),B&&H[M].isNew&&H[M].render(null,!0),H[M].render(null,!1,1)},Y.prototype.renderTick=function(M,B,H){var q=this.ticks;(!this.isLinked||M>=this.min&&M<=this.max||this.grid&&this.grid.isColumn)&&(q[M]||(q[M]=new f(this,M)),H&&q[M].isNew&&q[M].render(B,!0,-1),q[M].render(B))},Y.prototype.render=function(){var M=this,B=M.chart,H=M.logarithmic,q=M.options,Q=M.isLinked,U=M.tickPositions,X=M.axisTitle,G=M.ticks,Z=M.minorTicks,J=M.alternateBands,et=q.stackLabels,nt=q.alternateGridColor,at=M.tickmarkOffset,st=M.axisLine,mt=M.showAxis,wt=g(B.renderer.globalAnimation),yt,gt;if(M.labelEdge.length=0,M.overlap=!1,[G,Z,J].forEach(function(ht){d(ht,function(it){it.isActive=!1})}),M.hasData()||Q){var bt=M.chart.hasRendered&&M.old&&A(M.old.min);M.minorTickInterval&&!M.categories&&M.getMinorTickPositions().forEach(function(ht){M.renderMinorTick(ht,bt)}),U.length&&(U.forEach(function(ht,it){M.renderTick(ht,it,bt)}),at&&(M.min===0||M.single)&&(G[-1]||(G[-1]=new f(M,-1,null,!0)),G[-1].render(-1))),nt&&U.forEach(function(ht,it){gt=typeof U[it+1]<"u"?U[it+1]+at:M.max-at,it%2===0&&ht<M.max&&gt<=M.max+(B.polar?-at:at)&&(J[ht]||(J[ht]=new h.PlotLineOrBand(M)),yt=ht+at,J[ht].options={from:H?H.lin2log(yt):yt,to:H?H.lin2log(gt):gt,color:nt,className:"highcharts-alternate-grid"},J[ht].render(),J[ht].isActive=!0)}),M._addedPlotLB||(M._addedPlotLB=!0,(q.plotLines||[]).concat(q.plotBands||[]).forEach(function(ht){M.addPlotBandOrLine(ht)}))}[G,Z,J].forEach(function(ht){var it=[],ot=wt.duration;d(ht,function(ct,ft){ct.isActive||(ct.render(ft,!1,0),ct.isActive=!1,it.push(ft))}),V(function(){for(var ct=it.length;ct--;)ht[it[ct]]&&!ht[it[ct]].isActive&&(ht[it[ct]].destroy(),delete ht[it[ct]])},ht!==J&&B.hasRendered&&ot?ot:0)}),st&&(st[st.isPlaced?"animate":"attr"]({d:this.getLinePath(st.strokeWidth())}),st.isPlaced=!0,st[mt?"show":"hide"](mt)),X&&mt&&(q=M.getTitlePosition(),X[X.isNew?"attr":"animate"](q),X.isNew=!1),et&&et.enabled&&M.stacking&&M.stacking.renderStackTotals(),M.old={len:M.len,max:M.max,min:M.min,transA:M.transA,userMax:M.userMax,userMin:M.userMin},M.isDirty=!1,P(this,"afterRender")},Y.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(M){M.render()})),this.series.forEach(function(M){M.isDirty=!0})},Y.prototype.getKeepProps=function(){return this.keepProps||Y.keepProps},Y.prototype.destroy=function(M){var B=this,H=B.plotLinesAndBands,q=this.eventOptions;if(P(this,"destroy",{keepEvents:M}),M||S(B),[B.ticks,B.minorTicks,B.alternateBands].forEach(function(U){j(U)}),H)for(M=H.length;M--;)H[M].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(U){B[U]&&(B[U]=B[U].destroy())});for(var Q in B.plotLinesAndBandsGroups)B.plotLinesAndBandsGroups[Q]=B.plotLinesAndBandsGroups[Q].destroy();d(B,function(U,X){B.getKeepProps().indexOf(X)===-1&&delete B[X]}),this.eventOptions=q},Y.prototype.drawCrosshair=function(M,B){var H=this.crosshair,q=w(H&&H.snap,!0),Q=this.chart,U,X=this.cross;if(P(this,"drawCrosshair",{e:M,point:B}),M||(M=this.cross&&this.cross.e),H&&(L(B)||!q)!==!1){if(q?L(B)&&(U=w(this.coll!=="colorAxis"?B.crosshairPos:null,this.isXAxis?B.plotX:this.len-B.plotY)):U=M&&(this.horiz?M.chartX-this.pos:this.len-M.chartY+this.pos),L(U)){var G={value:B&&(this.isXAxis?B.x:w(B.stackY,B.y)),translatedValue:U};Q.polar&&D(G,{isCrosshair:!0,chartX:M&&M.chartX,chartY:M&&M.chartY,point:B}),G=this.getPlotLinePath(G)||null}if(!L(G)){this.hideCrosshair();return}q=this.categories&&!this.isRadial,X||(this.cross=X=Q.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(q?"category ":"thin ")+(H.className||"")).attr({zIndex:w(H.zIndex,2)}).add(),Q.styledMode||(X.attr({stroke:H.color||(q?a.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":w(H.width,1)}).css({"pointer-events":"none"}),H.dashStyle&&X.attr({dashstyle:H.dashStyle}))),X.show().attr({d:G}),q&&!H.width&&X.attr({"stroke-width":this.transA}),this.cross.e=M}else this.hideCrosshair();P(this,"afterDrawCrosshair",{e:M,point:B})},Y.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),P(this,"afterHideCrosshair")},Y.prototype.hasVerticalPanning=function(){var M=this.chart.options.chart.panning;return!!(M&&M.enabled&&/y/.test(M.type))},Y.prototype.validatePositiveValue=function(M){return A(M)&&0<M},Y.prototype.update=function(M,B){var H=this.chart;M=b(this.userOptions,M),this.destroy(!0),this.init(H,M),H.isDirtyBox=!0,w(B,!0)&&H.redraw()},Y.prototype.remove=function(M){for(var B=this.chart,H=this.coll,q=this.series,Q=q.length;Q--;)q[Q]&&q[Q].remove(!1);z(B.axes,this),z(B[H],this),B[H].forEach(function(U,X){U.options.index=U.userOptions.index=X}),this.destroy(),B.isDirtyBox=!0,w(M,!0)&&B.redraw()},Y.prototype.setTitle=function(M,B){this.update({title:M},B)},Y.prototype.setCategories=function(M,B){this.update({categories:M},B)},Y.defaultOptions=o.defaultXAxisOptions,Y.keepProps="extKey hcEvents names series userMax userMin".split(" "),Y}(),i}),n(r,"Core/Axis/DateTimeAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.getMagnitude,u=i.normalizeTickInterval,c=i.timeUnits,h;return function(f){function v(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function g(E){E.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new m(this))}var x=[];f.compose=function(E){return x.indexOf(E)===-1&&(x.push(E),E.keepProps.push("dateTime"),E.prototype.getTimeTicks=v,o(E,"init",g)),E};var m=function(){function E(R){this.axis=R}return E.prototype.normalizeTimeTickInterval=function(R,C){var _=C||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];C=_[_.length-1];var T=c[C[0]],L=C[1],j;for(j=0;j<_.length&&(C=_[j],T=c[C[0]],L=C[1],!(_[j+1]&&R<=(T*L[L.length-1]+c[_[j+1][0]])/2));j++);return T===c.year&&R<5*T&&(L=[1,2,5]),R=u(R/T,L,C[0]==="year"?Math.max(a(R/T),1):1),{unitRange:T,count:R,unitName:C[0]}},E.prototype.getXDateFormat=function(R,C){var _=this.axis,T=_.chart.time;return _.closestPointRange?T.getDateFormat(_.closestPointRange,R,_.options.startOfWeek,C)||T.resolveDTLFormat(C.year).main:T.resolveDTLFormat(C.day).main},E}();f.Additions=m}(h||(h={})),h}),n(r,"Core/Axis/LogarithmicAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.normalizeTickInterval,u=i.pick,c;return function(h){function f(m){var E=this.logarithmic;m.userOptions.type!=="logarithmic"?this.logarithmic=void 0:E||(this.logarithmic=new x(this))}function v(){var m=this.logarithmic;m&&(this.lin2val=function(E){return m.lin2log(E)},this.val2lin=function(E){return m.log2lin(E)})}var g=[];h.compose=function(m){return g.indexOf(m)===-1&&(g.push(m),m.keepProps.push("logarithmic"),o(m,"init",f),o(m,"afterInit",v)),m};var x=function(){function m(E){this.axis=E}return m.prototype.getLogTickPositions=function(E,R,C,_){var T=this.axis,L=T.len,j=T.options,z=[];if(_||(this.minorAutoInterval=void 0),.5<=E)E=Math.round(E),z=T.getLinearTickPositions(E,R,C);else if(.08<=E){var $=Math.floor(R),D,P=j=void 0;for(L=.3<E?[1,2,4]:.15<E?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];$<C+1&&!P;$++){var I=L.length;for(D=0;D<I&&!P;D++){var A=this.log2lin(this.lin2log($)*L[D]);A>R&&(!_||j<=C)&&typeof j<"u"&&z.push(j),j>C&&(P=!0),j=A}}}else R=this.lin2log(R),C=this.lin2log(C),E=_?T.getMinorTickInterval():j.tickInterval,E=u(E==="auto"?null:E,this.minorAutoInterval,j.tickPixelInterval/(_?5:1)*(C-R)/((_?L/T.tickPositions.length:L)||1)),E=a(E),z=T.getLinearTickPositions(E,R,C).map(this.log2lin),_||(this.minorAutoInterval=E/5);return _||(T.tickInterval=E),z},m.prototype.lin2log=function(E){return Math.pow(10,E)},m.prototype.log2lin=function(E){return Math.log(E)/Math.LN10},m}();h.Additions=x}(c||(c={})),c}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.erase,a=i.extend,u=i.isNumber,c;return function(h){var f=[],v;h.compose=function(x,m){return v||(v=x),f.indexOf(m)===-1&&(f.push(m),a(m.prototype,g.prototype)),m};var g=function(){function x(){}return x.prototype.getPlotBandPath=function(m,E,R){R===void 0&&(R=this.options);var C=this.getPlotLinePath({value:E,force:!0,acrossPanes:R.acrossPanes}),_=[],T=this.horiz;if(E=!u(this.min)||!u(this.max)||m<this.min&&E<this.min||m>this.max&&E>this.max,m=this.getPlotLinePath({value:m,force:!0,acrossPanes:R.acrossPanes}),R=1,m&&C){if(E){var L=m.toString()===C.toString();R=0}for(E=0;E<m.length;E+=2){var j=m[E],z=m[E+1],$=C[E],D=C[E+1];j[0]!=="M"&&j[0]!=="L"||z[0]!=="M"&&z[0]!=="L"||$[0]!=="M"&&$[0]!=="L"||D[0]!=="M"&&D[0]!=="L"||(T&&$[1]===j[1]?($[1]+=R,D[1]+=R):T||$[2]!==j[2]||($[2]+=R,D[2]+=R),_.push(["M",j[1],j[2]],["L",z[1],z[2]],["L",D[1],D[2]],["L",$[1],$[2]],["Z"])),_.isFlat=L}}return _},x.prototype.addPlotBand=function(m){return this.addPlotBandOrLine(m,"plotBands")},x.prototype.addPlotLine=function(m){return this.addPlotBandOrLine(m,"plotLines")},x.prototype.addPlotBandOrLine=function(m,E){var R=this,C=this.userOptions,_=new v(this,m);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(C.plotLines||[]).concat(C.plotBands||[]).forEach(function(L){R.addPlotBandOrLine(L)})),E){var T=C[E]||[];T.push(m),C[E]=T}this.plotLinesAndBands.push(_)}return _},x.prototype.removePlotBandOrLine=function(m){var E=this.plotLinesAndBands,R=this.options,C=this.userOptions;if(E){for(var _=E.length;_--;)E[_].id===m&&E[_].destroy();[R.plotLines||[],C.plotLines||[],R.plotBands||[],C.plotBands||[]].forEach(function(T){for(_=T.length;_--;)(T[_]||{}).id===m&&o(T,T[_])})}},x.prototype.removePlotBand=function(m){this.removePlotBandOrLine(m)},x.prototype.removePlotLine=function(m){this.removePlotBandOrLine(m)},x}()}(c||(c={})),c}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[r["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],r["Core/Utilities.js"]],function(i,o){var a=o.arrayMax,u=o.arrayMin,c=o.defined,h=o.destroyObjectProperties,f=o.erase,v=o.fireEvent,g=o.merge,x=o.objectEach,m=o.pick;return o=function(){function E(R,C){this.axis=R,C&&(this.options=C,this.id=C.id)}return E.compose=function(R){return i.compose(E,R)},E.prototype.render=function(){v(this,"render");var R=this,C=R.axis,_=C.horiz,T=C.logarithmic,L=R.options,j=L.color,z=m(L.zIndex,0),$=L.events,D={},P=C.chart.renderer,I=L.label,A=R.label,k=L.to,b=L.from,y=L.value,d=R.svgElem,w=[],O=c(b)&&c(k);w=c(y);var S=!d,F={class:"highcharts-plot-"+(O?"band ":"line ")+(L.className||"")},V=O?"bands":"lines";if(T&&(b=T.log2lin(b),k=T.log2lin(k),y=T.log2lin(y)),C.chart.styledMode||(w?(F.stroke=j||"#999999",F["stroke-width"]=m(L.width,1),L.dashStyle&&(F.dashstyle=L.dashStyle)):O&&(F.fill=j||"#e6ebf5",L.borderWidth&&(F.stroke=L.borderColor,F["stroke-width"]=L.borderWidth))),D.zIndex=z,V+="-"+z,(T=C.plotLinesAndBandsGroups[V])||(C.plotLinesAndBandsGroups[V]=T=P.g("plot-"+V).attr(D).add()),S&&(R.svgElem=d=P.path().attr(F).add(T)),w)w=C.getPlotLinePath({value:y,lineWidth:d.strokeWidth(),acrossPanes:L.acrossPanes});else if(O)w=C.getPlotBandPath(b,k,L);else return;return!R.eventsAdded&&$&&(x($,function(K,Y){d.on(Y,function(M){$[Y].apply(R,[M])})}),R.eventsAdded=!0),(S||!d.d)&&w&&w.length?d.attr({d:w}):d&&(w?(d.show(),d.animate({d:w})):d.d&&(d.hide(),A&&(R.label=A=A.destroy()))),I&&(c(I.text)||c(I.formatter))&&w&&w.length&&0<C.width&&0<C.height&&!w.isFlat?(I=g({align:_&&O&&"center",x:_?!O&&4:10,verticalAlign:!_&&O&&"middle",y:_?O?16:10:O?6:-4,rotation:_&&!O&&90},I),this.renderLabel(I,w,O,z)):A&&A.hide(),R},E.prototype.renderLabel=function(R,C,_,T){var L=this.axis,j=L.chart.renderer,z=this.label;z||(this.label=z=j.text(this.getLabelText(R),0,0,R.useHTML).attr({align:R.textAlign||R.align,rotation:R.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(R.className||""),zIndex:T}).add(),L.chart.styledMode||z.css(g({textOverflow:"ellipsis"},R.style))),T=C.xBounds||[C[0][1],C[1][1],_?C[2][1]:C[0][1]],C=C.yBounds||[C[0][2],C[1][2],_?C[2][2]:C[0][2]],_=u(T),j=u(C),z.align(R,!1,{x:_,y:j,width:a(T)-_,height:a(C)-j}),z.alignValue&&z.alignValue!=="left"||(R=R.clip?L.width:L.chart.chartWidth,z.css({width:(z.rotation===90?L.height-(z.alignAttr.y-L.top):R-(z.alignAttr.x-L.left))+"px"})),z.show(!0)},E.prototype.getLabelText=function(R){return c(R.formatter)?R.formatter.call(this):R.text},E.prototype.destroy=function(){f(this.axis.plotLinesAndBands,this),delete this.axis,h(this)},E}(),o}),n(r,"Core/Tooltip.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=i.format,f=o.doc,v=a.distribute,g=c.clamp,x=c.css,m=c.discardElement,E=c.extend,R=c.fireEvent,C=c.isArray,_=c.isNumber,T=c.isString,L=c.merge,j=c.pick,z=c.splat,$=c.syncTimeout;return i=function(){function D(P,I){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=P,this.init(P,I)}return D.prototype.applyFilter=function(){var P=this.chart;P.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+P.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},D.prototype.bodyFormatter=function(P){return P.map(function(I){var A=I.series.tooltipOptions;return(A[(I.point.formatPrefix||"point")+"Formatter"]||I.point.tooltipFormatter).call(I.point,A[(I.point.formatPrefix||"point")+"Format"]||"")})},D.prototype.cleanSplit=function(P){this.chart.series.forEach(function(I){var A=I&&I.tt;A&&(!A.isActive||P?I.tt=A.destroy():A.isActive=!1)})},D.prototype.defaultFormatter=function(P){var I=this.points||z(this),A=[P.tooltipFooterHeaderFormatter(I[0])];return A=A.concat(P.bodyFormatter(I)),A.push(P.tooltipFooterHeaderFormatter(I[0],!0)),A},D.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),m(this.container)),c.clearTimeout(this.hideTimer),c.clearTimeout(this.tooltipTimeout)},D.prototype.getAnchor=function(P,I){var A=this.chart,k=A.pointer,b=A.inverted,y=A.plotTop;if(A=A.plotLeft,P=z(P),P[0].series&&P[0].series.yAxis&&!P[0].series.yAxis.options.reversedStacks&&(P=P.slice().reverse()),this.followPointer&&I)typeof I.chartX>"u"&&(I=k.normalize(I)),P=[I.chartX-A,I.chartY-y];else if(P[0].tooltipPos)P=P[0].tooltipPos;else{var d=0,w=0;P.forEach(function(O){(O=O.pos(!0))&&(d+=O[0],w+=O[1])}),d/=P.length,w/=P.length,this.shared&&1<P.length&&I&&(b?d=I.chartX:w=I.chartY),P=[d-A,w-y]}return P.map(Math.round)},D.prototype.getClassName=function(P,I,A){var k=P.series,b=k.options;return[this.options.className,"highcharts-label",A&&"highcharts-tooltip-header",I?"highcharts-tooltip-box":"highcharts-tooltip",!A&&"highcharts-color-"+j(P.colorIndex,k.colorIndex),b&&b.className].filter(T).join(" ")},D.prototype.getLabel=function(){var P=this,I=this.chart.styledMode,A=this.options,k=this.split&&this.allowShared,b=A.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none"),y,d=this.chart.renderer;if(P.label){var w=!P.label.hasClass("highcharts-label");(k&&!w||!k&&w)&&P.destroy()}if(!this.label){if(this.outside){w=this.chart.options.chart.style;var O=u.getRendererType();this.container=y=o.doc.createElement("div"),y.className="highcharts-tooltip-container",x(y,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(w&&w.zIndex||0)+3)}),o.doc.body.appendChild(y),this.renderer=d=new O(y,0,0,w,void 0,void 0,d.styledMode)}if(k?this.label=d.g("tooltip"):(this.label=d.label("",0,0,A.shape,void 0,void 0,A.useHTML,void 0,"tooltip").attr({padding:A.padding,r:A.borderRadius}),I||this.label.attr({fill:A.backgroundColor,"stroke-width":A.borderWidth}).css(A.style).css({pointerEvents:b}).shadow(A.shadow)),I&&A.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),P.outside&&!P.split){var S=this.label,F=S.xSetter,V=S.ySetter;S.xSetter=function(K){F.call(S,P.distance),y.style.left=K+"px"},S.ySetter=function(K){V.call(S,P.distance),y.style.top=K+"px"}}this.label.attr({zIndex:8}).add()}return this.label},D.prototype.getPosition=function(P,I,A){var k=this.chart,b=this.distance,y={},d=k.inverted&&A.h||0,w=this.outside,O=w?f.documentElement.clientWidth-2*b:k.chartWidth,S=w?Math.max(f.body.scrollHeight,f.documentElement.scrollHeight,f.body.offsetHeight,f.documentElement.offsetHeight,f.documentElement.clientHeight):k.chartHeight,F=k.pointer.getChartPosition(),V=function(X){var G=X==="x";return[X,G?O:S,G?P:I].concat(w?[G?P*F.scaleX:I*F.scaleY,G?F.left-b+(A.plotX+k.plotLeft)*F.scaleX:F.top-b+(A.plotY+k.plotTop)*F.scaleY,0,G?O:S]:[G?P:I,G?A.plotX+k.plotLeft:A.plotY+k.plotTop,G?k.plotLeft:k.plotTop,G?k.plotLeft+k.plotWidth:k.plotTop+k.plotHeight])},K=V("y"),Y=V("x"),M;V=!!A.negative,!k.polar&&k.hoverSeries&&k.hoverSeries.yAxis&&k.hoverSeries.yAxis.reversed&&(V=!V);var B=!this.followPointer&&j(A.ttBelow,!k.inverted===V),H=function(X,G,Z,J,et,nt,at){var st=w?X==="y"?b*F.scaleY:b*F.scaleX:b,mt=(Z-J)/2,wt=J<et-b,yt=et+b+J<G,gt=et-st-Z+mt;if(et=et+st-mt,B&&yt)y[X]=et;else if(!B&&wt)y[X]=gt;else if(wt)y[X]=Math.min(at-J,0>gt-d?gt:gt-d);else if(yt)y[X]=Math.max(nt,et+d+Z>G?et:et+d);else return!1},q=function(X,G,Z,J,et){var nt;return et<b||et>G-b?nt=!1:y[X]=et<Z/2?1:et>G-J/2?G-J-2:et-Z/2,nt},Q=function(X){var G=K;K=Y,Y=G,M=X},U=function(){H.apply(0,K)!==!1?q.apply(0,Y)!==!1||M||(Q(!0),U()):M?y.x=y.y=0:(Q(!0),U())};return(k.inverted||1<this.len)&&Q(),U(),y},D.prototype.hide=function(P){var I=this;c.clearTimeout(this.hideTimer),P=j(P,this.options.hideDelay),this.isHidden||(this.hideTimer=$(function(){I.getLabel().fadeOut(P&&void 0),I.isHidden=!0},P))},D.prototype.init=function(P,I){this.chart=P,this.options=I,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=I.split&&!P.inverted&&!P.polar,this.shared=I.shared||this.split,this.outside=j(I.outside,!(!P.scrollablePixelsX&&!P.scrollablePixelsY))},D.prototype.shouldStickOnContact=function(P){return!(this.followPointer||!this.options.stickOnContact||P&&!this.chart.pointer.inClass(P.target,"highcharts-tooltip"))},D.prototype.move=function(P,I,A,k){var b=this,y=b.now,d=b.options.animation!==!1&&!b.isHidden&&(1<Math.abs(P-y.x)||1<Math.abs(I-y.y)),w=b.followPointer||1<b.len;E(y,{x:d?(2*y.x+P)/3:P,y:d?(y.y+I)/2:I,anchorX:w?void 0:d?(2*y.anchorX+A)/3:A,anchorY:w?void 0:d?(y.anchorY+k)/2:k}),b.getLabel().attr(y),b.drawTracker(),d&&(c.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(P,I,A,k)},32))},D.prototype.refresh=function(P,I){var A=this.chart,k=this.options,b=A.pointer,y=z(P),d=y[0],w=[],O=k.formatter||this.defaultFormatter,S=this.shared,F=A.styledMode,V={};if(k.enabled&&d.series){c.clearTimeout(this.hideTimer),this.allowShared=!(!C(P)&&P.series&&P.series.noSharedTooltip),this.followPointer=!this.split&&d.series.tooltipOptions.followPointer,P=this.getAnchor(P,I);var K=P[0],Y=P[1];if(S&&this.allowShared?(b.applyInactiveState(y),y.forEach(function(H){H.setState("hover"),w.push(H.getLabelConfig())}),V={x:d.category,y:d.y},V.points=w):V=d.getLabelConfig(),this.len=w.length,O=O.call(V,this),S=d.series,this.distance=j(S.tooltipOptions.distance,16),O===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(O,y);else{var M=K,B=Y;if(I&&b.isDirectTouch&&(M=I.chartX-A.plotLeft,B=I.chartY-A.plotTop),A.polar||S.options.clip===!1||y.some(function(H){return b.isDirectTouch||H.series.shouldShowTooltip(M,B)}))I=this.getLabel(),k.style.width&&!F||I.css({width:A.spacingBox.width+"px"}),I.attr({text:O&&O.join?O.join(""):O}),I.addClass(this.getClassName(d),!0),F||I.attr({stroke:k.borderColor||d.color||S.color||"#666666"}),this.updatePosition({plotX:K,plotY:Y,negative:d.negative,ttBelow:d.ttBelow,h:P[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}R(this,"refresh")}},D.prototype.renderSplit=function(P,I){function A(yt,gt,bt,ht,it){return it===void 0&&(it=!0),bt?(gt=J?0:st,yt=g(yt-ht/2,X.left,X.right-ht-(k.outside?et:0))):(gt-=nt,yt=it?yt-ht-q:yt+q,yt=g(yt,it?yt:X.left,X.right)),{x:yt,y:gt}}var k=this,b=k.chart,y=k.chart,d=y.chartWidth,w=y.chartHeight,O=y.plotHeight,S=y.plotLeft,F=y.plotTop,V=y.pointer,K=y.scrollablePixelsY;K=K===void 0?0:K;var Y=y.scrollablePixelsX,M=y.scrollingContainer;M=M===void 0?{scrollLeft:0,scrollTop:0}:M;var B=M.scrollLeft;M=M.scrollTop;var H=y.styledMode,q=k.distance,Q=k.options,U=k.options.positioner,X=k.outside&&typeof Y!="number"?f.documentElement.getBoundingClientRect():{left:B,right:B+d,top:M,bottom:M+w},G=k.getLabel(),Z=this.renderer||b.renderer,J=!(!b.xAxis[0]||!b.xAxis[0].opposite);b=V.getChartPosition();var et=b.left;b=b.top;var nt=F+M,at=0,st=O-K;T(P)&&(P=[!1,P]),P=P.slice(0,I.length+1).reduce(function(yt,gt,bt){if(gt!==!1&&gt!==""){bt=I[bt-1]||{isHeader:!0,plotX:I[0].plotX,plotY:O,series:{}};var ht=bt.isHeader,it=ht?k:bt.series;gt=gt.toString();var ot=it.tt,ct=bt.isHeader,ft=bt.series;ot||(ot={padding:Q.padding,r:Q.borderRadius},H||(ot.fill=Q.backgroundColor,ot["stroke-width"]=Q.borderWidth),ot=Z.label("",0,0,Q[ct?"headerShape":"shape"],void 0,void 0,Q.useHTML).addClass(k.getClassName(bt,!0,ct)).attr(ot).add(G)),ot.isActive=!0,ot.attr({text:gt}),H||ot.css(Q.style).shadow(Q.shadow).attr({stroke:Q.borderColor||bt.color||ft.color||"#333333"}),it=it.tt=ot,ct=it.getBBox(),gt=ct.width+it.strokeWidth(),ht&&(at=ct.height,st+=at,J&&(nt-=at)),ft=bt.plotX,ft=ft===void 0?0:ft,ot=bt.plotY,ot=ot===void 0?0:ot;var vt=bt.series;if(bt.isHeader){ft=S+ft;var xt=F+O/2}else{var St=vt.xAxis,Lt=vt.yAxis;ft=St.pos+g(ft,-q,St.len+q),vt.shouldShowTooltip(0,Lt.pos-F+ot,{ignoreX:!0})&&(xt=Lt.pos+ot)}ft=g(ft,X.left-q,X.right+q),typeof xt=="number"?(ct=ct.height+1,ot=U?U.call(k,gt,ct,bt):A(ft,xt,ht,gt),yt.push({align:U?0:void 0,anchorX:ft,anchorY:xt,boxWidth:gt,point:bt,rank:j(ot.rank,ht?1:0),size:ct,target:ot.y,tt:it,x:ot.x})):it.isActive=!1}return yt},[]),!U&&P.some(function(yt){var gt=(k.outside?et:0)+yt.anchorX;return gt<X.left&&gt+yt.boxWidth<X.right?!0:gt<et-X.left+yt.boxWidth&&X.right-gt>gt})&&(P=P.map(function(yt){var gt=A(yt.anchorX,yt.anchorY,yt.point.isHeader,yt.boxWidth,!1);return E(yt,{target:gt.y,x:gt.x})})),k.cleanSplit(),v(P,st);var mt=et,wt=et;P.forEach(function(yt){var gt=yt.x,bt=yt.boxWidth;yt=yt.isHeader,yt||(k.outside&&et+gt<mt&&(mt=et+gt),!yt&&k.outside&&mt+bt>wt&&(wt=et+gt))}),P.forEach(function(yt){var gt=yt.x,bt=yt.anchorX,ht=yt.pos,it=yt.point.isHeader;if(ht={visibility:typeof ht>"u"?"hidden":"inherit",x:gt,y:(ht||0)+nt,anchorX:bt,anchorY:yt.anchorY},k.outside&&gt<bt){var ot=et-mt;0<ot&&(it||(ht.x=gt+ot,ht.anchorX=bt+ot),it&&(ht.x=(wt-mt)/2,ht.anchorX=bt+ot))}yt.tt.attr(ht)}),P=k.container,K=k.renderer,k.outside&&P&&K&&(y=G.getBBox(),K.setSize(y.width+y.x,y.height+y.y,!1),P.style.left=mt+"px",P.style.top=b+"px")},D.prototype.drawTracker=function(){if(this.shouldStickOnContact()){var P=this.chart,I=this.label,A=this.shared?P.hoverPoints:P.hoverPoint;if(I&&A){var k={x:0,y:0,width:0,height:0};A=this.getAnchor(A);var b=I.getBBox();A[0]+=P.plotLeft-I.translateX,A[1]+=P.plotTop-I.translateY,k.x=Math.min(0,A[0]),k.y=Math.min(0,A[1]),k.width=0>A[0]?Math.max(Math.abs(A[0]),b.width-A[0]):Math.max(Math.abs(A[0]),b.width),k.height=0>A[1]?Math.max(Math.abs(A[1]),b.height-Math.abs(A[1])):Math.max(Math.abs(A[1]),b.height),this.tracker?this.tracker.attr(k):(this.tracker=I.renderer.rect(k).addClass("highcharts-tracker").add(I),P.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&this.tracker.destroy()},D.prototype.styledModeFormat=function(P){return P.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')},D.prototype.tooltipFooterHeaderFormatter=function(P,I){var A=P.series,k=A.tooltipOptions,b=A.xAxis,y=b&&b.dateTime;b={isFooter:I,labelConfig:P};var d=k.xDateFormat,w=k[I?"footerFormat":"headerFormat"];return R(this,"headerFormatter",b,function(O){y&&!d&&_(P.key)&&(d=y.getXDateFormat(P.key,k.dateTimeLabelFormats)),y&&d&&(P.point&&P.point.tooltipDateKeys||["key"]).forEach(function(S){w=w.replace("{point."+S+"}","{point."+S+":"+d+"}")}),A.chart.styledMode&&(w=this.styledModeFormat(w)),O.text=h(w,{point:P,series:A},this.chart)}),b.text},D.prototype.update=function(P){this.destroy(),L(!0,this.chart.options.tooltip.userOptions,P),this.init(this.chart,L(!0,this.options,P))},D.prototype.updatePosition=function(P){var I=this.chart,A=this.distance,k=this.options,b=I.pointer,y=this.getLabel(),d=b.getChartPosition();b=d.left;var w=d.top,O=d.scaleX;d=d.scaleY;var S=(k.positioner||this.getPosition).call(this,y.width,y.height,P),F=(P.plotX||0)+I.plotLeft;P=(P.plotY||0)+I.plotTop,this.outside&&(k.positioner&&(S.x+=b-A,S.y+=w-A),A=k.borderWidth+2*A,this.renderer.setSize(y.width+A,y.height+A,!1),(O!==1||d!==1)&&(x(this.container,{transform:"scale(".concat(O,", ").concat(d,")")}),F*=O,P*=d),F+=b-S.x,P+=w-S.y),this.move(Math.round(S.x),Math.round(S.y||0),F,P)},D}(),i}),n(r,"Core/Series/Point.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=o.animObject,f=a.defaultOptions,v=u.format,g=c.addEvent,x=c.defined,m=c.erase,E=c.extend,R=c.fireEvent,C=c.getNestedProperty,_=c.isArray,T=c.isFunction,L=c.isNumber,j=c.isObject,z=c.merge,$=c.objectEach,D=c.pick,P=c.syncTimeout,I=c.removeEvent,A=c.uniqueKey;return o=function(){function k(){this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}return k.prototype.animateBeforeDestroy=function(){var b=this,y={x:b.startXPos,opacity:0},d=b.getGraphicalProps();d.singular.forEach(function(w){b[w]=b[w].animate(w==="dataLabel"?{x:b[w].startXPos,y:b[w].startYPos,opacity:0}:y)}),d.plural.forEach(function(w){b[w].forEach(function(O){O.element&&O.animate(E({x:b.startXPos},O.startYPos?{x:O.startXPos,y:O.startYPos}:{}))})})},k.prototype.applyOptions=function(b,y){var d=this.series,w=d.options.pointValKey||d.pointValKey;return b=k.prototype.optionsToObject.call(this,b),E(this,b),this.options=this.options?E(this.options,b):b,b.group&&delete this.group,b.dataLabels&&delete this.dataLabels,w&&(this.y=k.prototype.getNestedProperty.call(this,w)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof y>"u"&&d.xAxis&&d.xAxis.hasNames&&(this.x=d.xAxis.nameToX(this)),typeof this.x>"u"&&d?this.x=typeof y>"u"?d.autoIncrement():y:L(b.x)&&d.options.relativeXValue&&(this.x=d.autoIncrement(b.x)),this},k.prototype.destroy=function(){function b(){(y.graphic||y.graphics||y.dataLabel||y.dataLabels)&&(I(y),y.destroyElements());for(F in y)y[F]=null}var y=this,d=y.series,w=d.chart;d=d.options.dataSorting;var O=w.hoverPoints,S=h(y.series.chart.renderer.globalAnimation),F;y.legendItem&&w.legend.destroyItem(y),O&&(y.setState(),m(O,y),O.length||(w.hoverPoints=null)),y===w.hoverPoint&&y.onMouseOut(),d&&d.enabled?(this.animateBeforeDestroy(),P(b,S.duration)):b(),w.pointCount--},k.prototype.destroyElements=function(b){var y=this;b=y.getGraphicalProps(b),b.singular.forEach(function(d){y[d]=y[d].destroy()}),b.plural.forEach(function(d){y[d].forEach(function(w){w&&w.element&&w.destroy()}),delete y[d]})},k.prototype.firePointEvent=function(b,y,d){var w=this,O=this.series.options;(O.point.events[b]||w.options&&w.options.events&&w.options.events[b])&&w.importEvents(),b==="click"&&O.allowPointSelect&&(d=function(S){w.select&&w.select(null,S.ctrlKey||S.metaKey||S.shiftKey)}),R(w,b,y,d)},k.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},k.prototype.getGraphicalProps=function(b){var y=this,d=[],w={singular:[],plural:[]},O;for(b=b||{graphic:1,dataLabel:1},b.graphic&&d.push("graphic","shadowGroup"),b.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),O=d.length;O--;){var S=d[O];y[S]&&w.singular.push(S)}return["graphic","dataLabel","connector"].forEach(function(F){var V=F+"s";b[F]&&y[V]&&w.plural.push(V)}),w},k.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},k.prototype.getNestedProperty=function(b){if(b)return b.indexOf("custom.")===0?C(b,this.options):this[b]},k.prototype.getZone=function(){var b=this.series,y=b.zones;b=b.zoneAxis||"y";var d,w=0;for(d=y[w];this[b]>=d.value;)d=y[++w];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=d&&d.color&&!this.options.color?d.color:this.nonZonedColor,d},k.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},k.prototype.init=function(b,y,d){return this.series=b,this.applyOptions(y,d),this.id=x(this.id)?this.id:A(),this.resolveColor(),b.chart.pointCount++,R(this,"afterInit"),this},k.prototype.isValid=function(){return this.x!==null&&L(this.y)},k.prototype.optionsToObject=function(b){var y=this.series,d=y.options.keys,w=d||y.pointArrayMap||["y"],O=w.length,S={},F=0,V=0;if(L(b)||b===null)S[w[0]]=b;else if(_(b))for(!d&&b.length>O&&(y=typeof b[0],y==="string"?S.name=b[0]:y==="number"&&(S.x=b[0]),F++);V<O;)d&&typeof b[F]>"u"||(0<w[V].indexOf(".")?k.prototype.setNestedProperty(S,b[F],w[V]):S[w[V]]=b[F]),F++,V++;else typeof b=="object"&&(S=b,b.dataLabels&&(y._hasPointLabels=!0),b.marker&&(y._hasPointMarkers=!0));return S},k.prototype.pos=function(b,y){y===void 0&&(y=this.plotY);var d=this.plotX,w=this.series,O=w.chart,S=w.xAxis;w=w.yAxis;var F=0,V=0;if(L(d)&&L(y))return b&&(F=S?S.pos:O.plotLeft,V=w?w.pos:O.plotTop),O.inverted&&S&&w?[w.len-y+V,S.len-d+F]:[d+F,y+V]},k.prototype.resolveColor=function(){var b=this.series,y=b.chart.styledMode,d=b.chart.options.chart.colorCount;if(delete this.nonZonedColor,b.options.colorByPoint){if(!y){d=b.options.colors||b.chart.options.colors;var w=d[b.colorCounter];d=d.length}y=b.colorCounter,b.colorCounter++,b.colorCounter===d&&(b.colorCounter=0)}else y||(w=b.color),y=b.colorIndex;this.colorIndex=D(this.options.colorIndex,y),this.color=D(this.options.color,w)},k.prototype.setNestedProperty=function(b,y,d){return d.split(".").reduce(function(w,O,S,F){return w[O]=F.length-1===S?y:j(w[O],!0)?w[O]:{},w[O]},b),b},k.prototype.shouldDraw=function(){return!this.isNull},k.prototype.tooltipFormatter=function(b){var y=this.series,d=y.tooltipOptions,w=D(d.valueDecimals,""),O=d.valuePrefix||"",S=d.valueSuffix||"";return y.chart.styledMode&&(b=y.chart.tooltip.styledModeFormat(b)),(y.pointArrayMap||["y"]).forEach(function(F){F="{point."+F,(O||S)&&(b=b.replace(RegExp(F+"}","g"),O+F+"}"+S)),b=b.replace(RegExp(F+"}","g"),F+":,."+w+"f}")}),v(b,{point:this,series:this.series},y.chart)},k.prototype.update=function(b,y,d,w){function O(){S.applyOptions(b);var B=V&&S.hasMockGraphic;B=S.y===null?!B:B,V&&B&&(S.graphic=V.destroy(),delete S.hasMockGraphic),j(b,!0)&&(V&&V.element&&b&&b.marker&&typeof b.marker.symbol<"u"&&(S.graphic=V.destroy()),b&&b.dataLabels&&S.dataLabel&&(S.dataLabel=S.dataLabel.destroy()),S.connector&&(S.connector=S.connector.destroy())),M=S.index,F.updateParallelArrays(S,M),Y.data[M]=j(Y.data[M],!0)||j(b,!0)?S.options:D(b,Y.data[M]),F.isDirty=F.isDirtyData=!0,!F.fixedBox&&F.hasCartesianSeries&&(K.isDirtyBox=!0),Y.legendType==="point"&&(K.isDirtyLegend=!0),y&&K.redraw(d)}var S=this,F=S.series,V=S.graphic,K=F.chart,Y=F.options,M;y=D(y,!0),w===!1?O():S.firePointEvent("update",{options:b},O)},k.prototype.remove=function(b,y){this.series.removePoint(this.series.data.indexOf(this),b,y)},k.prototype.select=function(b,y){var d=this,w=d.series,O=w.chart;this.selectedStaging=b=D(b,!d.selected),d.firePointEvent(b?"select":"unselect",{accumulate:y},function(){d.selected=d.options.selected=b,w.options.data[w.data.indexOf(d)]=d.options,d.setState(b&&"select"),y||O.getSelectedPoints().forEach(function(S){var F=S.series;S.selected&&S!==d&&(S.selected=S.options.selected=!1,F.options.data[F.data.indexOf(S)]=S.options,S.setState(O.hoverPoints&&F.options.inactiveOtherPoints?"inactive":""),S.firePointEvent("unselect"))})}),delete this.selectedStaging},k.prototype.onMouseOver=function(b){var y=this.series.chart,d=y.pointer;b=b?d.normalize(b):d.getChartCoordinatesFromPoint(this,y.inverted),d.runPointActions(b,this)},k.prototype.onMouseOut=function(){var b=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(b.hoverPoints||[]).forEach(function(y){y.setState()}),b.hoverPoints=b.hoverPoint=null},k.prototype.importEvents=function(){if(!this.hasImportedEvents){var b=this,y=z(b.series.options.point,b.options).events;b.events=y,$(y,function(d,w){T(d)&&g(b,w,d)}),this.hasImportedEvents=!0}},k.prototype.setState=function(b,y){var d=this.series,w=this.state,O=d.options.states[b||"normal"]||{},S=f.plotOptions[d.type].marker&&d.options.marker,F=S&&S.enabled===!1,V=S&&S.states&&S.states[b||"normal"]||{},K=V.enabled===!1,Y=this.marker||{},M=d.chart,B=S&&d.markerAttribs,H=d.halo,q,Q=d.stateMarkerGraphic;if(b=b||"",!(b===this.state&&!y||this.selected&&b!=="select"||O.enabled===!1||b&&(K||F&&V.enabled===!1)||b&&Y.states&&Y.states[b]&&Y.states[b].enabled===!1)){if(this.state=b,B&&(q=d.markerAttribs(this,b)),this.graphic&&!this.hasMockGraphic){if(w&&this.graphic.removeClass("highcharts-point-"+w),b&&this.graphic.addClass("highcharts-point-"+b),!M.styledMode){w=d.pointAttribs(this,b);var U=D(M.options.chart.animation,O.animation),X=w.opacity;d.options.inactiveOtherPoints&&L(X)&&((this.dataLabels||[]).forEach(function(G){G&&!G.hasClass("highcharts-data-label-hidden")&&G.animate({opacity:X},U)}),this.connector&&this.connector.animate({opacity:X},U)),this.graphic.animate(w,U)}q&&this.graphic.animate(q,D(M.options.chart.animation,V.animation,S.animation)),Q&&Q.hide()}else b&&V&&(S=Y.symbol||d.symbol,Q&&Q.currentSymbol!==S&&(Q=Q.destroy()),q&&(Q?Q[y?"animate":"attr"]({x:q.x,y:q.y}):S&&(d.stateMarkerGraphic=Q=M.renderer.symbol(S,q.x,q.y,q.width,q.height).add(d.markerGroup),Q.currentSymbol=S)),!M.styledMode&&Q&&this.state!=="inactive"&&Q.attr(d.pointAttribs(this,b))),Q&&(Q[b&&this.isInside?"show":"hide"](),Q.element.point=this,Q.addClass(this.getClassName(),!0));O=O.halo,q=(Q=this.graphic||Q)&&Q.visibility||"inherit",O&&O.size&&Q&&q!=="hidden"&&!this.isCluster?(H||(d.halo=H=M.renderer.path().add(Q.parentGroup)),H.show()[y?"animate":"attr"]({d:this.haloPath(O.size)}),H.attr({class:"highcharts-halo highcharts-color-"+D(this.colorIndex,d.colorIndex)+(this.className?" "+this.className:""),visibility:q,zIndex:-1}),H.point=this,M.styledMode||H.attr(E({fill:this.color||d.color,"fill-opacity":O.opacity},i.filterUserAttributes(O.attributes||{})))):H&&H.point&&H.point.haloPath&&H.animate({d:H.point.haloPath(0)},null,H.hide),R(this,"afterSetState",{state:b})}},k.prototype.haloPath=function(b){var y=this.pos();return y?this.series.chart.renderer.symbols.circle(Math.floor(y[0])-b,y[1]-b,2*b,2*b):[]},k}(),o}),n(r,"Core/Pointer.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Tooltip.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=i.parse,h=o.charts,f=o.noop,v=u.addEvent,g=u.attr,x=u.css,m=u.defined,E=u.extend,R=u.find,C=u.fireEvent,_=u.isNumber,T=u.isObject,L=u.objectEach,j=u.offset,z=u.pick,$=u.splat;return i=function(){function D(P,I){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=P,this.hasDragged=!1,this.options=I,this.init(P,I)}return D.prototype.applyInactiveState=function(P){var I=[],A;(P||[]).forEach(function(k){A=k.series,I.push(A),A.linkedParent&&I.push(A.linkedParent),A.linkedSeries&&(I=I.concat(A.linkedSeries)),A.navigatorSeries&&I.push(A.navigatorSeries)}),this.chart.series.forEach(function(k){I.indexOf(k)===-1?k.setState("inactive",!0):k.options.inactiveOtherPoints&&k.setAllPointsToState("inactive")})},D.prototype.destroy=function(){var P=this;this.eventsToUnbind.forEach(function(I){return I()}),this.eventsToUnbind=[],o.chartCount||(D.unbindDocumentMouseUp&&(D.unbindDocumentMouseUp=D.unbindDocumentMouseUp()),D.unbindDocumentTouchEnd&&(D.unbindDocumentTouchEnd=D.unbindDocumentTouchEnd())),clearInterval(P.tooltipTimeout),L(P,function(I,A){P[A]=void 0})},D.prototype.getSelectionMarkerAttrs=function(P,I){var A=this,k={args:{chartX:P,chartY:I},attrs:{},shapeType:"rect"};return C(this,"getSelectionMarkerAttrs",k,function(b){var y=A.chart,d=A.mouseDownX;d=d===void 0?0:d;var w=A.mouseDownY;w=w===void 0?0:w;var O=A.zoomHor,S=A.zoomVert;b=b.attrs,b.x=y.plotLeft,b.y=y.plotTop,b.width=O?1:y.plotWidth,b.height=S?1:y.plotHeight,O&&(y=P-d,b.width=Math.abs(y),b.x=(0<y?0:y)+d),S&&(y=I-w,b.height=Math.abs(y),b.y=(0<y?0:y)+w)}),k},D.prototype.drag=function(P){var I=this.chart,A=I.options.chart,k=I.plotLeft,b=I.plotTop,y=I.plotWidth,d=I.plotHeight,w=this.mouseDownX||0,O=this.mouseDownY||0,S=T(A.panning)?A.panning&&A.panning.enabled:A.panning,F=A.panKey&&P[A.panKey+"Key"],V=P.chartX,K=P.chartY,Y=this.selectionMarker;Y&&Y.touch||(V<k?V=k:V>k+y&&(V=k+y),K<b?K=b:K>b+d&&(K=b+d),this.hasDragged=Math.sqrt(Math.pow(w-V,2)+Math.pow(O-K,2)),10<this.hasDragged&&(k=I.isInsidePlot(w-k,O-b,{visiblePlotOnly:!0}),K=this.getSelectionMarkerAttrs(V,K),V=K.shapeType,K=K.attrs,!I.hasCartesianSeries&&!I.mapView||!this.zoomX&&!this.zoomY||!k||F||Y||(this.selectionMarker=Y=I.renderer[V](),Y.attr({class:"highcharts-selection-marker",zIndex:7}).add(),I.styledMode||Y.attr({fill:A.selectionMarkerFill||c("#335cad").setOpacity(.25).get()})),Y&&Y.attr(K),k&&!Y&&S&&I.pan(P,A.panning)))},D.prototype.dragStart=function(P){var I=this.chart;I.mouseIsDown=P.type,I.cancelClick=!1,I.mouseDownX=this.mouseDownX=P.chartX,I.mouseDownY=this.mouseDownY=P.chartY},D.prototype.getSelectionBox=function(P){var I={args:{marker:P},result:{}};return C(this,"getSelectionBox",I,function(A){A.result={x:P.attr?+P.attr("x"):P.x,y:P.attr?+P.attr("y"):P.y,width:P.attr?P.attr("width"):P.width,height:P.attr?P.attr("height"):P.height}}),I.result},D.prototype.drop=function(P){var I=this,A=this.chart,k=this.hasPinched;if(this.selectionMarker){var b=this.getSelectionBox(this.selectionMarker),y=b.x,d=b.y,w=b.width,O=b.height,S={originalEvent:P,xAxis:[],yAxis:[],x:y,y:d,width:w,height:O},F=!!A.mapView;(this.hasDragged||k)&&(A.axes.forEach(function(V){if(V.zoomEnabled&&m(V.min)&&(k||I[{xAxis:"zoomX",yAxis:"zoomY"}[V.coll]])&&_(y)&&_(d)&&_(w)&&_(O)){var K=V.horiz,Y=P.type==="touchend"?V.minPixelPadding:0,M=V.toValue((K?y:d)+Y);K=V.toValue((K?y+w:d+O)-Y),S[V.coll].push({axis:V,min:Math.min(M,K),max:Math.max(M,K)}),F=!0}}),F&&C(A,"selection",S,function(V){A.zoom(E(V,k?{animation:!1}:null))})),_(A.index)&&(this.selectionMarker=this.selectionMarker.destroy()),k&&this.scaleGroups()}A&&_(A.index)&&(x(A.container,{cursor:A._cursor}),A.cancelClick=10<this.hasDragged,A.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},D.prototype.findNearestKDPoint=function(P,I,A){var k;return P.forEach(function(b){var y=!(b.noSharedTooltip&&I)&&0>b.options.findNearestPointBy.indexOf("y");if(b=b.searchPoint(A,y),(y=T(b,!0)&&b.series)&&!(y=!T(k,!0))){y=k.distX-b.distX;var d=k.dist-b.dist,w=(b.series.group&&b.series.group.zIndex)-(k.series.group&&k.series.group.zIndex);y=0<(y!==0&&I?y:d!==0?d:w!==0?w:k.series.index>b.series.index?-1:1)}y&&(k=b)}),k},D.prototype.getChartCoordinatesFromPoint=function(P,I){var A=P.series,k=A.xAxis;A=A.yAxis;var b=P.shapeArgs;if(k&&A){var y=z(P.clientX,P.plotX),d=P.plotY||0;return P.isNode&&b&&_(b.x)&&_(b.y)&&(y=b.x,d=b.y),I?{chartX:A.len+A.pos-d,chartY:k.len+k.pos-y}:{chartX:y+k.pos,chartY:d+A.pos}}if(b&&b.x&&b.y)return{chartX:b.x,chartY:b.y}},D.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var P=this.chart.container,I=j(P);this.chartPosition={left:I.left,top:I.top,scaleX:1,scaleY:1};var A=P.offsetWidth;return P=P.offsetHeight,2<A&&2<P&&(this.chartPosition.scaleX=I.width/A,this.chartPosition.scaleY=I.height/P),this.chartPosition},D.prototype.getCoordinates=function(P){var I={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(A){I[A.isXAxis?"xAxis":"yAxis"].push({axis:A,value:A.toValue(P[A.horiz?"chartX":"chartY"])})}),I},D.prototype.getHoverData=function(P,I,A,k,b,y){var d=[];k=!(!k||!P);var w=function(V){return V.visible&&!(!b&&V.directTouch)&&z(V.options.enableMouseTracking,!0)},O={chartX:y?y.chartX:void 0,chartY:y?y.chartY:void 0,shared:b};C(this,"beforeGetHoverData",O);var S=I&&!I.stickyTracking?[I]:A.filter(function(V){return V.stickyTracking&&(O.filter||w)(V)}),F=k||!y?P:this.findNearestKDPoint(S,b,y);return I=F&&F.series,F&&(b&&!I.noSharedTooltip?(S=A.filter(function(V){return O.filter?O.filter(V):w(V)&&!V.noSharedTooltip}),S.forEach(function(V){var K=R(V.points,function(Y){return Y.x===F.x&&!Y.isNull});T(K)&&(V.boosted&&V.boost&&(K=V.boost.getPoint(K)),d.push(K))})):d.push(F)),O={hoverPoint:F},C(this,"afterGetHoverData",O),{hoverPoint:O.hoverPoint,hoverSeries:I,hoverPoints:d}},D.prototype.getPointFromEvent=function(P){P=P.target;for(var I;P&&!I;)I=P.point,P=P.parentNode;return I},D.prototype.onTrackerMouseOut=function(P){P=P.relatedTarget||P.toElement;var I=this.chart.hoverSeries;this.isDirectTouch=!1,!I||!P||I.stickyTracking||this.inClass(P,"highcharts-tooltip")||this.inClass(P,"highcharts-series-"+I.index)&&this.inClass(P,"highcharts-tracker")||I.onMouseOut()},D.prototype.inClass=function(P,I){for(var A;P;){if(A=g(P,"class")){if(A.indexOf(I)!==-1)return!0;if(A.indexOf("highcharts-container")!==-1)return!1}P=P.parentElement}},D.prototype.init=function(P,I){this.options=I,this.chart=P,this.runChartClick=!(!I.chart.events||!I.chart.events.click),this.pinchDown=[],this.lastValidTouch={},a&&(P.tooltip=new a(P,I.tooltip)),this.setDOMEvents()},D.prototype.normalize=function(P,I){var A=P.touches,k=A?A.length?A.item(0):z(A.changedTouches,P.changedTouches)[0]:P;return I||(I=this.getChartPosition()),A=k.pageX-I.left,k=k.pageY-I.top,A/=I.scaleX,k/=I.scaleY,E(P,{chartX:Math.round(A),chartY:Math.round(k)})},D.prototype.onContainerClick=function(P){var I=this.chart,A=I.hoverPoint;P=this.normalize(P);var k=I.plotLeft,b=I.plotTop;I.cancelClick||(A&&this.inClass(P.target,"highcharts-tracker")?(C(A.series,"click",E(P,{point:A})),I.hoverPoint&&A.firePointEvent("click",P)):(E(P,this.getCoordinates(P)),I.isInsidePlot(P.chartX-k,P.chartY-b,{visiblePlotOnly:!0})&&C(I,"click",P)))},D.prototype.onContainerMouseDown=function(P){var I=((P.buttons||P.button)&1)===1;P=this.normalize(P),o.isFirefox&&P.button!==0&&this.onContainerMouseMove(P),(typeof P.button>"u"||I)&&(this.zoomOption(P),I&&P.preventDefault&&P.preventDefault(),this.dragStart(P))},D.prototype.onContainerMouseLeave=function(P){var I=h[z(D.hoverChartIndex,-1)],A=this.chart.tooltip;P=this.normalize(P),I&&(P.relatedTarget||P.toElement)&&(I.pointer.reset(),I.pointer.chartPosition=void 0),A&&!A.isHidden&&this.reset()},D.prototype.onContainerMouseEnter=function(P){delete this.chartPosition},D.prototype.onContainerMouseMove=function(P){var I=this.chart,A=I.tooltip;P=this.normalize(P),this.setHoverChartIndex(),P.preventDefault||(P.returnValue=!1),(I.mouseIsDown==="mousedown"||this.touchSelect(P))&&this.drag(P),I.openMenu||!this.inClass(P.target,"highcharts-tracker")&&!I.isInsidePlot(P.chartX-I.plotLeft,P.chartY-I.plotTop,{visiblePlotOnly:!0})||A&&A.shouldStickOnContact(P)||(this.inClass(P.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(P))},D.prototype.onDocumentTouchEnd=function(P){var I=h[z(D.hoverChartIndex,-1)];I&&I.pointer.drop(P)},D.prototype.onContainerTouchMove=function(P){this.touchSelect(P)?this.onContainerMouseMove(P):this.touch(P)},D.prototype.onContainerTouchStart=function(P){this.touchSelect(P)?this.onContainerMouseDown(P):(this.zoomOption(P),this.touch(P,!0))},D.prototype.onDocumentMouseMove=function(P){var I=this.chart,A=I.tooltip,k=this.chartPosition;P=this.normalize(P,k),!k||I.isInsidePlot(P.chartX-I.plotLeft,P.chartY-I.plotTop,{visiblePlotOnly:!0})||A&&A.shouldStickOnContact(P)||this.inClass(P.target,"highcharts-tracker")||this.reset()},D.prototype.onDocumentMouseUp=function(P){var I=h[z(D.hoverChartIndex,-1)];I&&I.pointer.drop(P)},D.prototype.pinch=function(P){var I=this,A=I.chart,k=I.pinchDown,b=P.touches||[],y=b.length,d=I.lastValidTouch,w=I.hasZoom,O={},S=y===1&&(I.inClass(P.target,"highcharts-tracker")&&A.runTrackerClick||I.runChartClick),F={},V=I.chart.tooltip;V=y===1&&z(V&&V.options.followTouchMove,!0);var K=I.selectionMarker;1<y?I.initiated=!0:V&&(I.initiated=!1),w&&I.initiated&&!S&&P.cancelable!==!1&&P.preventDefault(),[].map.call(b,function(Y){return I.normalize(Y)}),P.type==="touchstart"?([].forEach.call(b,function(Y,M){k[M]={chartX:Y.chartX,chartY:Y.chartY}}),d.x=[k[0].chartX,k[1]&&k[1].chartX],d.y=[k[0].chartY,k[1]&&k[1].chartY],A.axes.forEach(function(Y){if(Y.zoomEnabled){var M=A.bounds[Y.horiz?"h":"v"],B=Y.minPixelPadding,H=Y.toPixels(Math.min(z(Y.options.min,Y.dataMin),Y.dataMin)),q=Y.toPixels(Math.max(z(Y.options.max,Y.dataMax),Y.dataMax)),Q=Math.max(H,q);M.min=Math.min(Y.pos,Math.min(H,q)-B),M.max=Math.max(Y.pos+Y.len,Q+B)}}),I.res=!0):V?this.runPointActions(I.normalize(P)):k.length&&(C(A,"touchpan",{originalEvent:P},function(){K||(I.selectionMarker=K=E({destroy:f,touch:!0},A.plotBox)),I.pinchTranslate(k,b,O,K,F,d),I.hasPinched=w,I.scaleGroups(O,F)}),I.res&&(I.res=!1,this.reset(!1,0)))},D.prototype.pinchTranslate=function(P,I,A,k,b,y){this.zoomHor&&this.pinchTranslateDirection(!0,P,I,A,k,b,y),this.zoomVert&&this.pinchTranslateDirection(!1,P,I,A,k,b,y)},D.prototype.pinchTranslateDirection=function(P,I,A,k,b,y,d,w){var O=this.chart,S=P?"x":"y",F=P?"X":"Y",V="chart"+F,K=P?"width":"height",Y=O["plot"+(P?"Left":"Top")],M=O.inverted,B=O.bounds[P?"h":"v"],H=I.length===1,q=I[0][V],Q=!H&&I[1][V];I=function(){typeof J=="number"&&20<Math.abs(q-Q)&&(G=w||Math.abs(Z-J)/Math.abs(q-Q)),X=(Y-Z)/G+q,U=O["plot"+(P?"Width":"Height")]/G};var U,X,G=w||1,Z=A[0][V],J=!H&&A[1][V];if(I(),A=X,A<B.min){A=B.min;var et=!0}else A+U>B.max&&(A=B.max-U,et=!0);et?(Z-=.8*(Z-d[S][0]),typeof J=="number"&&(J-=.8*(J-d[S][1])),I()):d[S]=[Z,J],M||(y[S]=X-Y,y[K]=U),y=M?1/G:G,b[K]=U,b[S]=A,k[M?P?"scaleY":"scaleX":"scale"+F]=G,k["translate"+F]=y*Y+(Z-y*q)},D.prototype.reset=function(P,I){var A=this.chart,k=A.hoverSeries,b=A.hoverPoint,y=A.hoverPoints,d=A.tooltip,w=d&&d.shared?y:b;P&&w&&$(w).forEach(function(O){O.series.isCartesian&&typeof O.plotX>"u"&&(P=!1)}),P?d&&w&&$(w).length&&(d.refresh(w),d.shared&&y?y.forEach(function(O){O.setState(O.state,!0),O.series.isCartesian&&(O.series.xAxis.crosshair&&O.series.xAxis.drawCrosshair(null,O),O.series.yAxis.crosshair&&O.series.yAxis.drawCrosshair(null,O))}):b&&(b.setState(b.state,!0),A.axes.forEach(function(O){O.crosshair&&b.series[O.coll]===O&&O.drawCrosshair(null,b)}))):(b&&b.onMouseOut(),y&&y.forEach(function(O){O.setState()}),k&&k.onMouseOut(),d&&d.hide(I),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),A.axes.forEach(function(O){O.hideCrosshair()}),this.hoverX=A.hoverPoints=A.hoverPoint=null)},D.prototype.runPointActions=function(P,I,A){var k=this.chart,b=k.tooltip&&k.tooltip.options.enabled?k.tooltip:void 0,y=b?b.shared:!1,d=I||k.hoverPoint,w=d&&d.series||k.hoverSeries;I=this.getHoverData(d,w,k.series,(!P||P.type!=="touchmove")&&(!!I||w&&w.directTouch&&this.isDirectTouch),y,P),d=I.hoverPoint,w=I.hoverSeries;var O=I.hoverPoints;I=w&&w.tooltipOptions.followPointer&&!w.tooltipOptions.split;var S=y&&w&&!w.noSharedTooltip;if(d&&(A||d!==k.hoverPoint||b&&b.isHidden)){if((k.hoverPoints||[]).forEach(function(F){O.indexOf(F)===-1&&F.setState()}),k.hoverSeries!==w&&w.onMouseOver(),this.applyInactiveState(O),(O||[]).forEach(function(F){F.setState("hover")}),k.hoverPoint&&k.hoverPoint.firePointEvent("mouseOut"),!d.series)return;k.hoverPoints=O,k.hoverPoint=d,d.firePointEvent("mouseOver",void 0,function(){b&&d&&b.refresh(S?O:d,P)})}else I&&b&&!b.isHidden&&(A=b.getAnchor([{}],P),k.isInsidePlot(A[0],A[1],{visiblePlotOnly:!0})&&b.updatePosition({plotX:A[0],plotY:A[1]}));this.unDocMouseMove||(this.unDocMouseMove=v(k.container.ownerDocument,"mousemove",function(F){var V=h[D.hoverChartIndex];V&&V.pointer.onDocumentMouseMove(F)}),this.eventsToUnbind.push(this.unDocMouseMove)),k.axes.forEach(function(F){var V=z((F.crosshair||{}).snap,!0),K;V&&((K=k.hoverPoint)&&K.series[F.coll]===F||(K=R(O,function(Y){return Y.series&&Y.series[F.coll]===F}))),K||!V?F.drawCrosshair(P,K):F.hideCrosshair()})},D.prototype.scaleGroups=function(P,I){var A=this.chart;A.series.forEach(function(k){var b=P||k.getPlotBox();k.group&&(k.xAxis&&k.xAxis.zoomEnabled||A.mapView)&&(k.group.attr(b),k.markerGroup&&(k.markerGroup.attr(b),k.markerGroup.clip(I?A.clipRect:null)),k.dataLabelsGroup&&k.dataLabelsGroup.attr(b))}),A.clipRect.attr(I||A.clipBox)},D.prototype.setDOMEvents=function(){var P=this,I=this.chart.container,A=I.ownerDocument;I.onmousedown=this.onContainerMouseDown.bind(this),I.onmousemove=this.onContainerMouseMove.bind(this),I.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(v(I,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(v(I,"mouseleave",this.onContainerMouseLeave.bind(this))),D.unbindDocumentMouseUp||(D.unbindDocumentMouseUp=v(A,"mouseup",this.onDocumentMouseUp.bind(this)));for(var k=this.chart.renderTo.parentElement;k&&k.tagName!=="BODY";)this.eventsToUnbind.push(v(k,"scroll",function(){delete P.chartPosition})),k=k.parentElement;o.hasTouch&&(this.eventsToUnbind.push(v(I,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(v(I,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),D.unbindDocumentTouchEnd||(D.unbindDocumentTouchEnd=v(A,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},D.prototype.setHoverChartIndex=function(){var P=this.chart,I=o.charts[z(D.hoverChartIndex,-1)];I&&I!==P&&I.pointer.onContainerMouseLeave({relatedTarget:P.container}),I&&I.mouseIsDown||(D.hoverChartIndex=P.index)},D.prototype.touch=function(P,I){var A=this.chart;if(this.setHoverChartIndex(),P.touches.length===1)if(P=this.normalize(P),A.isInsidePlot(P.chartX-A.plotLeft,P.chartY-A.plotTop,{visiblePlotOnly:!0})&&!A.openMenu){if(I&&this.runPointActions(P),P.type==="touchmove"){I=this.pinchDown;var k=I[0]?4<=Math.sqrt(Math.pow(I[0].chartX-P.chartX,2)+Math.pow(I[0].chartY-P.chartY,2)):!1}z(k,!0)&&this.pinch(P)}else I&&this.reset();else P.touches.length===2&&this.pinch(P)},D.prototype.touchSelect=function(P){return!(!this.chart.options.chart.zooming.singleTouch||!P.touches||P.touches.length!==1)},D.prototype.zoomOption=function(P){var I=this.chart,A=I.options.chart;I=I.inverted;var k=A.zooming.type||"";/touch/.test(P.type)&&(k=z(A.zooming.pinchType,k)),this.zoomX=P=/x/.test(k),this.zoomY=A=/y/.test(k),this.zoomHor=P&&!I||A&&I,this.zoomVert=A&&!I||P&&I,this.hasZoom=P||A},D}(),i}),n(r,"Core/MSPointer.js",[r["Core/Globals.js"],r["Core/Pointer.js"],r["Core/Utilities.js"]],function(i,o,a){function u(){var j=[];return j.item=function(z){return this[z]},R(T,function(z){j.push({pageX:z.pageX,pageY:z.pageY,target:z.target})}),j}function c(j,z,$,D){var P=f[o.hoverChartIndex||NaN];j.pointerType!=="touch"&&j.pointerType!==j.MSPOINTER_TYPE_TOUCH||!P||(P=P.pointer,D(j),P[z]({type:$,target:j.currentTarget,preventDefault:g,touches:u()}))}var h=this&&this.__extends||function(){var j=function(z,$){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var I in P)P.hasOwnProperty(I)&&(D[I]=P[I])},j(z,$)};return function(z,$){function D(){this.constructor=z}j(z,$),z.prototype=$===null?Object.create($):(D.prototype=$.prototype,new D)}}(),f=i.charts,v=i.doc,g=i.noop,x=i.win,m=a.addEvent,E=a.css,R=a.objectEach,C=a.pick,_=a.removeEvent,T={},L=!!x.PointerEvent;return function(j){function z(){return j!==null&&j.apply(this,arguments)||this}return h(z,j),z.isRequired=function(){return!(i.hasTouch||!x.PointerEvent&&!x.MSPointerEvent)},z.prototype.batchMSEvents=function($){$(this.chart.container,L?"pointerdown":"MSPointerDown",this.onContainerPointerDown),$(this.chart.container,L?"pointermove":"MSPointerMove",this.onContainerPointerMove),$(v,L?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},z.prototype.destroy=function(){this.batchMSEvents(_),j.prototype.destroy.call(this)},z.prototype.init=function($,D){j.prototype.init.call(this,$,D),this.hasZoom&&E($.container,{"-ms-touch-action":"none","touch-action":"none"})},z.prototype.onContainerPointerDown=function($){c($,"onContainerTouchStart","touchstart",function(D){T[D.pointerId]={pageX:D.pageX,pageY:D.pageY,target:D.currentTarget}})},z.prototype.onContainerPointerMove=function($){c($,"onContainerTouchMove","touchmove",function(D){T[D.pointerId]={pageX:D.pageX,pageY:D.pageY},T[D.pointerId].target||(T[D.pointerId].target=D.currentTarget)})},z.prototype.onDocumentPointerUp=function($){c($,"onDocumentTouchEnd","touchend",function(D){delete T[D.pointerId]})},z.prototype.setDOMEvents=function(){var $=this.chart.tooltip;j.prototype.setDOMEvents.call(this),(this.hasZoom||C($&&$.options.followTouchMove,!0))&&this.batchMSEvents(m)},z}(o)}),n(r,"Core/Legend/Legend.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Series/Point.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){var f=i.animObject,v=i.setAnimation,g=o.format,x=a.marginNames,m=c.distribute,E=h.addEvent,R=h.createElement,C=h.css,_=h.defined,T=h.discardElement,L=h.find,j=h.fireEvent,z=h.isNumber,$=h.merge,D=h.pick,P=h.relativeLength,I=h.stableSort,A=h.syncTimeout;return i=function(){function k(b,y){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=b,this.init(b,y)}return k.prototype.init=function(b,y){this.chart=b,this.setOptions(y),y.enabled&&(this.render(),E(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=E(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},k.prototype.setOptions=function(b){var y=D(b.padding,8);this.options=b,this.chart.styledMode||(this.itemStyle=b.itemStyle,this.itemHiddenStyle=$(this.itemStyle,b.itemHiddenStyle)),this.itemMarginTop=b.itemMarginTop||0,this.itemMarginBottom=b.itemMarginBottom||0,this.padding=y,this.initialItemY=y-5,this.symbolWidth=D(b.symbolWidth,16),this.pages=[],this.proximate=b.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0},k.prototype.update=function(b,y){var d=this.chart;this.setOptions($(!0,this.options,b)),this.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,D(y,!0)&&d.redraw(),j(this,"afterUpdate")},k.prototype.colorizeItem=function(b,y){var d=b.legendItem||{},w=d.group,O=d.label,S=d.line;if(d=d.symbol,w&&w[y?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var F=this.options;w=this.itemHiddenStyle.color,F=y?F.itemStyle.color:w;var V=y&&b.color||w,K=b.options&&b.options.marker,Y={fill:V};O&&O.css({fill:F,color:F}),S&&S.attr({stroke:V}),d&&(K&&d.isMarker&&(Y=b.pointAttribs(),y||(Y.stroke=Y.fill=w)),d.attr(Y))}j(this,"afterColorizeItem",{item:b,visible:y})},k.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},k.prototype.positionItem=function(b){var y=this,d=b.legendItem||{},w=d.group,O=d.x;O=O===void 0?0:O,d=d.y,d=d===void 0?0:d;var S=this.options,F=S.symbolPadding,V=!S.rtl;S=b.checkbox,w&&w.element&&(F={translateX:V?O:this.legendWidth-O-2*F-4,translateY:d},w[_(w.translateY)?"animate":"attr"](F,void 0,function(){j(y,"afterPositionItem",{item:b})})),S&&(S.x=O,S.y=d)},k.prototype.destroyItem=function(b){for(var y=b.checkbox,d=b.legendItem||{},w=0,O=["group","label","line","symbol"];w<O.length;w++){var S=O[w];d[S]&&(d[S]=d[S].destroy())}y&&T(y),b.legendItem=void 0},k.prototype.destroy=function(){for(var b=0,y=this.getAllItems();b<y.length;b++)this.destroyItem(y[b]);for(b=0,y="clipRect up down pager nav box title group".split(" ");b<y.length;b++){var d=y[b];this[d]&&(this[d]=this[d].destroy())}this.display=null},k.prototype.positionCheckboxes=function(){var b=this.group&&this.group.alignAttr,y=this.clipHeight||this.legendHeight,d=this.titleHeight;if(b){var w=b.translateY;this.allItems.forEach(function(O){var S=O.checkbox;if(S){var F=w+d+S.y+(this.scrollOffset||0)+3;C(S,{left:b.translateX+O.checkboxOffset+S.x-20+"px",top:F+"px",display:this.proximate||F>w-6&&F<w+y-6?"":"none"})}},this)}},k.prototype.renderTitle=function(){var b=this.options,y=this.padding,d=b.title,w=0;d.text&&(this.title||(this.title=this.chart.renderer.label(d.text,y-3,y-4,void 0,void 0,void 0,b.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(d.style),this.title.add(this.group)),d.width||this.title.css({width:this.maxLegendWidth+"px"}),b=this.title.getBBox(),w=b.height,this.offsetWidth=b.width,this.contentGroup.attr({translateY:w})),this.titleHeight=w},k.prototype.setText=function(b){var y=this.options;b.legendItem.label.attr({text:y.labelFormat?g(y.labelFormat,b,this.chart):y.labelFormatter.call(b)})},k.prototype.renderItem=function(b){var y=b.legendItem=b.legendItem||{},d=this.chart,w=d.renderer,O=this.options,S=this.symbolWidth,F=O.symbolPadding||0,V=this.itemStyle,K=this.itemHiddenStyle,Y=O.layout==="horizontal"?D(O.itemDistance,20):0,M=!O.rtl,B=!b.series,H=!B&&b.series.drawLegendSymbol?b.series:b,q=H.options,Q=this.createCheckboxForItem&&q&&q.showCheckbox,U=O.useHTML,X=b.options.className,G=y.label;q=S+F+Y+(Q?20:0),G||(y.group=w.g("legend-item").addClass("highcharts-"+H.type+"-series highcharts-color-"+b.colorIndex+(X?" "+X:"")+(B?" highcharts-series-"+b.index:"")).attr({zIndex:1}).add(this.scrollGroup),y.label=G=w.text("",M?S+F:-F,this.baseline||0,U),d.styledMode||G.css($(b.visible?V:K)),G.attr({align:M?"left":"right",zIndex:2}).add(y.group),this.baseline||(this.fontMetrics=w.fontMetrics(d.styledMode?12:V.fontSize,G),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,G.attr("y",this.baseline),this.symbolHeight=O.symbolHeight||this.fontMetrics.f,O.squareSymbol&&(this.symbolWidth=D(O.symbolWidth,Math.max(this.symbolHeight,16)),q=this.symbolWidth+F+Y+(Q?20:0),M&&G.attr("x",this.symbolWidth+F))),H.drawLegendSymbol(this,b),this.setItemEvents&&this.setItemEvents(b,G,U)),Q&&!b.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(b),this.colorizeItem(b,b.visible),!d.styledMode&&V.width||G.css({width:(O.itemWidth||this.widthOption||d.spacingBox.width)-q+"px"}),this.setText(b),d=G.getBBox(),w=this.fontMetrics&&this.fontMetrics.h||0,b.itemWidth=b.checkboxOffset=O.itemWidth||y.labelWidth||d.width+q,this.maxItemWidth=Math.max(this.maxItemWidth,b.itemWidth),this.totalItemWidth+=b.itemWidth,this.itemHeight=b.itemHeight=Math.round(y.labelHeight||(d.height>1.5*w?d.height:w))},k.prototype.layoutItem=function(b){var y=this.options,d=this.padding,w=y.layout==="horizontal",O=b.itemHeight,S=this.itemMarginBottom,F=this.itemMarginTop,V=w?D(y.itemDistance,20):0,K=this.maxLegendWidth;y=y.alignColumns&&this.totalItemWidth>K?this.maxItemWidth:b.itemWidth;var Y=b.legendItem||{};w&&this.itemX-d+y>K&&(this.itemX=d,this.lastLineHeight&&(this.itemY+=F+this.lastLineHeight+S),this.lastLineHeight=0),this.lastItemY=F+this.itemY+S,this.lastLineHeight=Math.max(O,this.lastLineHeight),Y.x=this.itemX,Y.y=this.itemY,w?this.itemX+=y:(this.itemY+=F+O+S,this.lastLineHeight=O),this.offsetWidth=this.widthOption||Math.max((w?this.itemX-d-(b.checkbox?0:V):y)+d,this.offsetWidth)},k.prototype.getAllItems=function(){var b=[];return this.chart.series.forEach(function(y){var d=y&&y.options;y&&D(d.showInLegend,_(d.linkedTo)?!1:void 0,!0)&&(b=b.concat((y.legendItem||{}).labels||(d.legendType==="point"?y.data:y)))}),j(this,"afterGetAllItems",{allItems:b}),b},k.prototype.getAlignment=function(){var b=this.options;return this.proximate?b.align.charAt(0)+"tv":b.floating?"":b.align.charAt(0)+b.verticalAlign.charAt(0)+b.layout.charAt(0)},k.prototype.adjustMargins=function(b,y){var d=this.chart,w=this.options,O=this.getAlignment();O&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(S,F){S.test(O)&&!_(b[F])&&(d[x[F]]=Math.max(d[x[F]],d.legend[(F+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][F]*w[F%2?"x":"y"]+D(w.margin,12)+y[F]+(d.titleOffset[F]||0)))})},k.prototype.proximatePositions=function(){var b=this.chart,y=[],d=this.options.align==="left";this.allItems.forEach(function(V){var K,Y=d;if(V.yAxis){V.xAxis.options.reversed&&(Y=!Y),V.points&&(K=L(Y?V.points:V.points.slice(0).reverse(),function(B){return z(B.plotY)})),Y=this.itemMarginTop+V.legendItem.label.getBBox().height+this.itemMarginBottom;var M=V.yAxis.top-b.plotTop;V.visible?(K=K?K.plotY:V.yAxis.height,K+=M-.3*Y):K=M+V.yAxis.height,y.push({target:K,size:Y,item:V})}},this);for(var w,O=0,S=m(y,b.plotHeight);O<S.length;O++){var F=S[O];w=F.item.legendItem||{},z(F.pos)&&(w.y=b.plotTop-b.spacing[0]+F.pos)}},k.prototype.render=function(){var b=this.chart,y=b.renderer,d=this.options,w=this.padding,O=this.getAllItems(),S=this.group,F=this.box;this.itemX=w,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=P(d.width,b.spacingBox.width-w);var V=b.spacingBox.width-2*w-d.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(V/=2),this.maxLegendWidth=this.widthOption||V,S||(this.group=S=y.g("legend").addClass(d.className||"").attr({zIndex:7}).add(),this.contentGroup=y.g().attr({zIndex:1}).add(S),this.scrollGroup=y.g().add(this.contentGroup)),this.renderTitle(),I(O,function(Y,M){return(Y.options&&Y.options.legendIndex||0)-(M.options&&M.options.legendIndex||0)}),d.reversed&&O.reverse(),this.allItems=O,this.display=V=!!O.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,O.forEach(this.renderItem,this),O.forEach(this.layoutItem,this),O=(this.widthOption||this.offsetWidth)+w;var K=this.lastItemY+this.lastLineHeight+this.titleHeight;K=this.handleOverflow(K),K+=w,F||(this.box=F=y.rect().addClass("highcharts-legend-box").attr({r:d.borderRadius}).add(S)),b.styledMode||F.attr({stroke:d.borderColor,"stroke-width":d.borderWidth||0,fill:d.backgroundColor||"none"}).shadow(d.shadow),0<O&&0<K&&F[F.placed?"animate":"attr"](F.crisp.call({},{x:0,y:0,width:O,height:K},F.strokeWidth())),S[V?"show":"hide"](),b.styledMode&&S.getStyle("display")==="none"&&(O=K=0),this.legendWidth=O,this.legendHeight=K,V&&this.align(),this.proximate||this.positionItems(),j(this,"afterRender")},k.prototype.align=function(b){b===void 0&&(b=this.chart.spacingBox);var y=this.chart,d=this.options,w=b.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<y.titleOffset[0]?w+=y.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<y.titleOffset[2]&&(w-=y.titleOffset[2]),w!==b.y&&(b=$(b,{y:w})),y.hasRendered||(this.group.placed=!1),this.group.align($(d,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":d.verticalAlign}),!0,b)},k.prototype.handleOverflow=function(b){var y=this,d=this.chart,w=d.renderer,O=this.options,S=O.y,F=O.verticalAlign==="top",V=this.padding,K=O.maxHeight,Y=O.navigation,M=D(Y.animation,!0),B=Y.arrowSize||12,H=this.pages,q=this.allItems,Q=function(nt){typeof nt=="number"?et.attr({height:nt}):et&&(y.clipRect=et.destroy(),y.contentGroup.clip()),y.contentGroup.div&&(y.contentGroup.div.style.clip=nt?"rect("+V+"px,9999px,"+(V+nt)+"px,0)":"auto")},U=function(nt){return y[nt]=w.circle(0,0,1.3*B).translate(B/2,B/2).add(J),d.styledMode||y[nt].attr("fill","rgba(0,0,0,0.0001)"),y[nt]},X,G,Z;S=d.spacingBox.height+(F?-S:S)-V;var J=this.nav,et=this.clipRect;return O.layout!=="horizontal"||O.verticalAlign==="middle"||O.floating||(S/=2),K&&(S=Math.min(S,K)),H.length=0,b&&0<S&&b>S&&Y.enabled!==!1?(this.clipHeight=X=Math.max(S-20-this.titleHeight-V,0),this.currentPage=D(this.currentPage,1),this.fullHeight=b,q.forEach(function(nt,at){Z=nt.legendItem||{},nt=Z.y||0;var st=Math.round(Z.label.getBBox().height),mt=H.length;(!mt||nt-H[mt-1]>X&&(G||nt)!==H[mt-1])&&(H.push(G||nt),mt++),Z.pageIx=mt-1,G&&((q[at-1].legendItem||{}).pageIx=mt-1),at===q.length-1&&nt+st-H[mt-1]>X&&st<=X&&(H.push(nt),Z.pageIx=mt),nt!==G&&(G=nt)}),et||(et=y.clipRect=w.clipRect(0,V,9999,0),y.contentGroup.clip(et)),Q(X),J||(this.nav=J=w.g().attr({zIndex:1}).add(this.group),this.up=w.symbol("triangle",0,0,B,B).add(J),U("upTracker").on("click",function(){y.scroll(-1,M)}),this.pager=w.text("",15,10).addClass("highcharts-legend-navigation"),!d.styledMode&&Y.style&&this.pager.css(Y.style),this.pager.add(J),this.down=w.symbol("triangle-down",0,0,B,B).add(J),U("downTracker").on("click",function(){y.scroll(1,M)})),y.scroll(0),b=S):J&&(Q(),this.nav=J.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),b},k.prototype.scroll=function(b,y){var d=this,w=this.chart,O=this.pages,S=O.length,F=this.clipHeight,V=this.options.navigation,K=this.pager,Y=this.padding,M=this.currentPage+b;M>S&&(M=S),0<M&&(typeof y<"u"&&v(y,w),this.nav.attr({translateX:Y,translateY:F+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(B){B.attr({class:M===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),K.attr({text:M+"/"+S}),[this.down,this.downTracker].forEach(function(B){B.attr({x:18+this.pager.getBBox().width,class:M===S?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),w.styledMode||(this.up.attr({fill:M===1?V.inactiveColor:V.activeColor}),this.upTracker.css({cursor:M===1?"default":"pointer"}),this.down.attr({fill:M===S?V.inactiveColor:V.activeColor}),this.downTracker.css({cursor:M===S?"default":"pointer"})),this.scrollOffset=-O[M-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=M,this.positionCheckboxes(),b=f(D(y,w.renderer.globalAnimation,!0)),A(function(){j(d,"afterScroll",{currentPage:M})},b.duration))},k.prototype.setItemEvents=function(b,y,d){var w=this,O=b.legendItem||{},S=w.chart.renderer.boxWrapper,F=b instanceof u,V="highcharts-legend-"+(F?"point":"series")+"-active",K=w.chart.styledMode,Y=function(B){w.allItems.forEach(function(H){b!==H&&[H].concat(H.linkedSeries||[]).forEach(function(q){q.setState(B,!F)})})},M=0;for(d=d?[y,O.symbol]:[O.group];M<d.length;M++)(O=d[M])&&O.on("mouseover",function(){b.visible&&Y("inactive"),b.setState("hover"),b.visible&&S.addClass(V),K||y.css(w.options.itemHoverStyle)}).on("mouseout",function(){w.chart.styledMode||y.css($(b.visible?w.itemStyle:w.itemHiddenStyle)),Y(""),S.removeClass(V),b.setState()}).on("click",function(B){var H=function(){b.setVisible&&b.setVisible(),Y(b.visible?"inactive":"")};S.removeClass(V),B={browserEvent:B},b.firePointEvent?b.firePointEvent("legendItemClick",B,H):j(b,"legendItemClick",B,H)})},k.prototype.createCheckboxForItem=function(b){b.checkbox=R("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:b.selected,defaultChecked:b.selected},this.options.itemCheckboxStyle,this.chart.container),E(b.checkbox,"click",function(y){j(b.series||b,"checkboxClick",{checked:y.target.checked,item:b},function(){b.select()})})},k}(),i}),n(r,"Core/Series/SeriesRegistry.js",[r["Core/Globals.js"],r["Core/Defaults.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=o.defaultOptions,h=u.extendClass,f=u.merge,v;return function(g){function x(m,E){var R=c.plotOptions||{},C=E.defaultOptions,_=E.prototype;_.type=m,_.pointClass||(_.pointClass=a),C&&(R[m]=C),g.seriesTypes[m]=E}g.seriesTypes=i.seriesTypes,g.registerSeriesType=x,g.seriesType=function(m,E,R,C,_){var T=c.plotOptions||{};return E=E||"",T[m]=f(T[E],R),x(m,h(g.seriesTypes[E]||function(){},C)),g.seriesTypes[m].prototype.type=m,_&&(g.seriesTypes[m].prototype.pointClass=h(a,_)),g.seriesTypes[m]}}(v||(v={})),v}),n(r,"Core/Chart/Chart.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/Legend.js"],r["Core/MSPointer.js"],r["Core/Pointer.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Time.js"],r["Core/Utilities.js"],r["Core/Renderer/HTML/AST.js"]],function(i,o,a,u,c,h,f,v,g,x,m,E,R,C,_){var T=i.animate,L=i.animObject,j=i.setAnimation,z=a.defaultOptions,$=a.defaultTime,D=u.numberFormat,P=c.registerEventOptions,I=h.charts,A=h.doc,k=h.marginNames,b=h.svg,y=h.win,d=m.seriesTypes,w=C.addEvent,O=C.attr,S=C.cleanRecursively,F=C.createElement,V=C.css,K=C.defined,Y=C.discardElement,M=C.erase,B=C.error,H=C.extend,q=C.find,Q=C.fireEvent,U=C.getStyle,X=C.isArray,G=C.isNumber,Z=C.isObject,J=C.isString,et=C.merge,nt=C.objectEach,at=C.pick,st=C.pInt,mt=C.relativeLength,wt=C.removeEvent,yt=C.splat,gt=C.syncTimeout,bt=C.uniqueKey;return i=function(){function ht(it,ot,ct){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(it,ot,ct)}return ht.chart=function(it,ot,ct){return new ht(it,ot,ct)},ht.prototype.getArgs=function(it,ot,ct){J(it)||it.nodeName?(this.renderTo=it,this.init(ot,ct)):this.init(it,ot)},ht.prototype.init=function(it,ot){var ct=it.plotOptions||{};Q(this,"init",{args:arguments},function(){var ft=et(z,it),vt=ft.chart;nt(ft.plotOptions,function(St,Lt){Z(St)&&(St.tooltip=ct[Lt]&&et(ct[Lt].tooltip)||void 0)}),ft.tooltip.userOptions=it.chart&&it.chart.forExport&&it.tooltip.userOptions||it.tooltip,this.userOptions=it,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ot,this.isResizing=0;var xt=vt.zooming=vt.zooming||{};it.chart&&!it.chart.zooming&&(xt.resetButton=vt.resetZoomButton),xt.key=at(xt.key,vt.zoomKey),xt.pinchType=at(xt.pinchType,vt.pinchType),xt.singleTouch=at(xt.singleTouch,vt.zoomBySingleTouch),xt.type=at(xt.type,vt.zoomType),this.options=ft,this.axes=[],this.series=[],this.time=it.time&&Object.keys(it.time).length?new R(it.time):h.time,this.numberFormatter=vt.numberFormatter||D,this.styledMode=vt.styledMode,this.hasCartesianSeries=vt.showAxes,this.index=I.length,I.push(this),h.chartCount++,P(this,vt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,Q(this,"afterInit"),this.firstRender()})},ht.prototype.initSeries=function(it){var ot=this.options.chart;ot=it.type||ot.type||ot.defaultSeriesType;var ct=d[ot];return ct||B(17,!0,this,{missingModuleFor:ot}),ot=new ct,typeof ot.init=="function"&&ot.init(this,it),ot},ht.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(it){it.points||it.data||!it.enabledDataSorting||it.setData(it.options.data,!1)})},ht.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(it,ot){return it.linkedSeries.length||ot.linkedSeries.length?ot.linkedSeries.length-it.linkedSeries.length:0})},ht.prototype.orderSeries=function(it){var ot=this.series;it=it||0;for(var ct=ot.length;it<ct;++it)ot[it]&&(ot[it].index=it,ot[it].name=ot[it].getName())},ht.prototype.isInsidePlot=function(it,ot,ct){ct===void 0&&(ct={});var ft=this.inverted,vt=this.plotBox,xt=this.plotLeft,St=this.plotTop,Lt=this.scrollablePlotBox,Kt=0,Tt=0;ct.visiblePlotOnly&&this.scrollingContainer&&(Tt=this.scrollingContainer,Kt=Tt.scrollLeft,Tt=Tt.scrollTop);var At=ct.series;if(vt=ct.visiblePlotOnly&&Lt||vt,Lt=ct.inverted?ot:it,ot=ct.inverted?it:ot,it={x:Lt,y:ot,isInsidePlot:!0,options:ct},!ct.ignoreX){var Wt=At&&(ft&&!this.polar?At.yAxis:At.xAxis)||{pos:xt,len:1/0};Lt=ct.paneCoordinates?Wt.pos+Lt:xt+Lt,Lt>=Math.max(Kt+xt,Wt.pos)&&Lt<=Math.min(Kt+xt+vt.width,Wt.pos+Wt.len)||(it.isInsidePlot=!1)}return!ct.ignoreY&&it.isInsidePlot&&(ft=ct.axis&&!ct.axis.isXAxis&&ct.axis||At&&(ft?At.xAxis:At.yAxis)||{pos:St,len:1/0},ct=ct.paneCoordinates?ft.pos+ot:St+ot,ct>=Math.max(Tt+St,ft.pos)&&ct<=Math.min(Tt+St+vt.height,ft.pos+ft.len)||(it.isInsidePlot=!1)),Q(this,"afterIsInsidePlot",it),it.isInsidePlot},ht.prototype.redraw=function(it){Q(this,"beforeRedraw");var ot=this.hasCartesianSeries?this.axes:this.colorAxis||[],ct=this.series,ft=this.pointer,vt=this.legend,xt=this.userOptions.legend,St=this.renderer,Lt=St.isHidden(),Kt=[],Tt=this.isDirtyBox,At=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),j(this.hasRendered?it:!1,this),Lt&&this.temporaryDisplay(),this.layOutTitles(),it=ct.length;it--;){var Wt=ct[it];if(Wt.options.stacking||Wt.options.centerInCategory){var Bt=!0;if(Wt.isDirty){var te=!0;break}}}if(te)for(it=ct.length;it--;)Wt=ct[it],Wt.options.stacking&&(Wt.isDirty=!0);ct.forEach(function(It){It.isDirty&&(It.options.legendType==="point"?(typeof It.updateTotals=="function"&&It.updateTotals(),At=!0):xt&&(xt.labelFormatter||xt.labelFormat)&&(At=!0)),It.isDirtyData&&Q(It,"updatedData")}),At&&vt&&vt.options.enabled&&(vt.render(),this.isDirtyLegend=!1),Bt&&this.getStacks(),ot.forEach(function(It){It.updateNames(),It.setScale()}),this.getMargins(),ot.forEach(function(It){It.isDirty&&(Tt=!0)}),ot.forEach(function(It){var Ie=It.min+","+It.max;It.extKey!==Ie&&(It.extKey=Ie,Kt.push(function(){Q(It,"afterSetExtremes",H(It.eventArgs,It.getExtremes())),delete It.eventArgs})),(Tt||Bt)&&It.redraw()}),Tt&&this.drawChartBox(),Q(this,"predraw"),ct.forEach(function(It){(Tt||It.isDirty)&&It.visible&&It.redraw(),It.isDirtyData=!1}),ft&&ft.reset(!0),St.draw(),Q(this,"redraw"),Q(this,"render"),Lt&&this.temporaryDisplay(!0),Kt.forEach(function(It){It.call()})},ht.prototype.get=function(it){function ot(xt){return xt.id===it||xt.options&&xt.options.id===it}for(var ct=this.series,ft=q(this.axes,ot)||q(this.series,ot),vt=0;!ft&&vt<ct.length;vt++)ft=q(ct[vt].points||[],ot);return ft},ht.prototype.getAxes=function(){var it=this,ot=this.options,ct=ot.xAxis=yt(ot.xAxis||{});ot=ot.yAxis=yt(ot.yAxis||{}),Q(this,"getAxes"),ct.forEach(function(ft,vt){ft.index=vt,ft.isX=!0}),ot.forEach(function(ft,vt){ft.index=vt}),ct.concat(ot).forEach(function(ft){new o(it,ft)}),Q(this,"afterGetAxes")},ht.prototype.getSelectedPoints=function(){return this.series.reduce(function(it,ot){return ot.getPointsCollection().forEach(function(ct){at(ct.selectedStaging,ct.selected)&&it.push(ct)}),it},[])},ht.prototype.getSelectedSeries=function(){return this.series.filter(function(it){return it.selected})},ht.prototype.setTitle=function(it,ot,ct){this.applyDescription("title",it),this.applyDescription("subtitle",ot),this.applyDescription("caption",void 0),this.layOutTitles(ct)},ht.prototype.applyDescription=function(it,ot){var ct=this,ft=it==="title"?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};ft=this.options[it]=et(!this.styledMode&&{style:ft},this.options[it],ot);var vt=this[it];vt&&ot&&(this[it]=vt=vt.destroy()),ft&&!vt&&(vt=this.renderer.text(ft.text,0,0,ft.useHTML).attr({align:ft.align,class:"highcharts-"+it,zIndex:ft.zIndex||4}).add(),vt.update=function(xt){ct[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[it]](xt)},this.styledMode||vt.css(ft.style),this[it]=vt)},ht.prototype.layOutTitles=function(it){var ot=[0,0,0],ct=this.renderer,ft=this.spacingBox;["title","subtitle","caption"].forEach(function(xt){var St=this[xt],Lt=this.options[xt],Kt=Lt.verticalAlign||"top";xt=xt==="title"?Kt==="top"?-3:0:Kt==="top"?ot[0]+2:0;var Tt;if(St){this.styledMode||(Tt=Lt.style&&Lt.style.fontSize),Tt=ct.fontMetrics(Tt,St).b,St.css({width:(Lt.width||ft.width+(Lt.widthAdjust||0))+"px"});var At=Math.round(St.getBBox(Lt.useHTML).height);St.align(H({y:Kt==="bottom"?Tt:xt+Tt,height:At},Lt),!1,"spacingBox"),Lt.floating||(Kt==="top"?ot[0]=Math.ceil(ot[0]+At):Kt==="bottom"&&(ot[2]=Math.ceil(ot[2]+At)))}},this),ot[0]&&(this.options.title.verticalAlign||"top")==="top"&&(ot[0]+=this.options.title.margin),ot[2]&&this.options.caption.verticalAlign==="bottom"&&(ot[2]+=this.options.caption.margin);var vt=!this.titleOffset||this.titleOffset.join(",")!==ot.join(",");this.titleOffset=ot,Q(this,"afterLayOutTitles"),!this.isDirtyBox&&vt&&(this.isDirtyBox=this.isDirtyLegend=vt,this.hasRendered&&at(it,!0)&&this.isDirtyBox&&this.redraw())},ht.prototype.getChartSize=function(){var it=this.options.chart,ot=it.width;it=it.height;var ct=this.renderTo;K(ot)||(this.containerWidth=U(ct,"width")),K(it)||(this.containerHeight=U(ct,"height")),this.chartWidth=Math.max(0,ot||this.containerWidth||600),this.chartHeight=Math.max(0,mt(it,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ht.prototype.temporaryDisplay=function(it){var ot=this.renderTo;if(it)for(;ot&&ot.style;)ot.hcOrigStyle&&(V(ot,ot.hcOrigStyle),delete ot.hcOrigStyle),ot.hcOrigDetached&&(A.body.removeChild(ot),ot.hcOrigDetached=!1),ot=ot.parentNode;else for(;ot&&ot.style&&(A.body.contains(ot)||ot.parentNode||(ot.hcOrigDetached=!0,A.body.appendChild(ot)),(U(ot,"display",!1)==="none"||ot.hcOricDetached)&&(ot.hcOrigStyle={display:ot.style.display,height:ot.style.height,overflow:ot.style.overflow},it={display:"block",overflow:"hidden"},ot!==this.renderTo&&(it.height=0),V(ot,it),ot.offsetWidth||ot.style.setProperty("display","block","important")),ot=ot.parentNode,ot!==A.body););},ht.prototype.setClassName=function(it){this.container.className="highcharts-container "+(it||"")},ht.prototype.getContainer=function(){var it=this.options,ot=it.chart,ct=bt(),ft,vt=this.renderTo;vt||(this.renderTo=vt=ot.renderTo),J(vt)&&(this.renderTo=vt=A.getElementById(vt)),vt||B(13,!0,this);var xt=st(O(vt,"data-highcharts-chart"));G(xt)&&I[xt]&&I[xt].hasRendered&&I[xt].destroy(),O(vt,"data-highcharts-chart",this.index),vt.innerHTML=_.emptyHTML,ot.skipClone||vt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),xt=this.chartWidth;var St=this.chartHeight;if(V(vt,{overflow:"hidden"}),this.styledMode||(ft=H({position:"relative",overflow:"hidden",width:xt+"px",height:St+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ot.style||{})),this.container=ct=F("div",{id:ct},ft,vt),this._cursor=ct.style.cursor,this.renderer=new(ot.renderer||!b?x.getRendererType(ot.renderer):E)(ct,xt,St,void 0,ot.forExport,it.exporting&&it.exporting.allowHTML,this.styledMode),j(void 0,this),this.setClassName(ot.className),this.styledMode)for(var Lt in it.defs)this.renderer.definition(it.defs[Lt]);else this.renderer.setStyle(ot.style);this.renderer.chartIndex=this.index,Q(this,"afterGetContainer")},ht.prototype.getMargins=function(it){var ot=this.spacing,ct=this.margin,ft=this.titleOffset;this.resetMargins(),ft[0]&&!K(ct[0])&&(this.plotTop=Math.max(this.plotTop,ft[0]+ot[0])),ft[2]&&!K(ct[2])&&(this.marginBottom=Math.max(this.marginBottom,ft[2]+ot[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ct,ot),Q(this,"getMargins"),it||this.getAxisMargins()},ht.prototype.getAxisMargins=function(){var it=this,ot=it.axisOffset=[0,0,0,0],ct=it.colorAxis,ft=it.margin,vt=function(xt){xt.forEach(function(St){St.visible&&St.getOffset()})};it.hasCartesianSeries?vt(it.axes):ct&&ct.length&&vt(ct),k.forEach(function(xt,St){K(ft[St])||(it[xt]+=ot[St])}),it.setChartSize()},ht.prototype.reflow=function(it){var ot=this,ct=ot.options.chart,ft=ot.renderTo,vt=K(ct.width)&&K(ct.height),xt=ct.width||U(ft,"width");ct=ct.height||U(ft,"height"),ft=it?it.target:y,delete ot.pointer.chartPosition,!vt&&!ot.isPrinting&&xt&&ct&&(ft===y||ft===A)&&((xt!==ot.containerWidth||ct!==ot.containerHeight)&&(C.clearTimeout(ot.reflowTimeout),ot.reflowTimeout=gt(function(){ot.container&&ot.setSize(void 0,void 0,!1)},it?100:0)),ot.containerWidth=xt,ot.containerHeight=ct)},ht.prototype.setReflow=function(it){var ot=this;it===!1||this.unbindReflow?it===!1&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=w(y,"resize",function(ct){ot.options&&ot.reflow(ct)}),w(this,"destroy",this.unbindReflow))},ht.prototype.setSize=function(it,ot,ct){var ft=this,vt=ft.renderer;ft.isResizing+=1,j(ct,ft),ct=vt.globalAnimation,ft.oldChartHeight=ft.chartHeight,ft.oldChartWidth=ft.chartWidth,typeof it<"u"&&(ft.options.chart.width=it),typeof ot<"u"&&(ft.options.chart.height=ot),ft.getChartSize(),ft.styledMode||(ct?T:V)(ft.container,{width:ft.chartWidth+"px",height:ft.chartHeight+"px"},ct),ft.setChartSize(!0),vt.setSize(ft.chartWidth,ft.chartHeight,ct),ft.axes.forEach(function(xt){xt.isDirty=!0,xt.setScale()}),ft.isDirtyLegend=!0,ft.isDirtyBox=!0,ft.layOutTitles(),ft.getMargins(),ft.redraw(ct),ft.oldChartHeight=null,Q(ft,"resize"),gt(function(){ft&&Q(ft,"endResize",null,function(){--ft.isResizing})},L(ct).duration)},ht.prototype.setChartSize=function(it){var ot=this.inverted,ct=this.renderer,ft=this.chartWidth,vt=this.chartHeight,xt=this.options.chart,St=this.spacing,Lt=this.clipOffset,Kt,Tt,At,Wt;this.plotLeft=Kt=Math.round(this.plotLeft),this.plotTop=Tt=Math.round(this.plotTop),this.plotWidth=At=Math.max(0,Math.round(ft-Kt-this.marginRight)),this.plotHeight=Wt=Math.max(0,Math.round(vt-Tt-this.marginBottom)),this.plotSizeX=ot?Wt:At,this.plotSizeY=ot?At:Wt,this.plotBorderWidth=xt.plotBorderWidth||0,this.spacingBox=ct.spacingBox={x:St[3],y:St[0],width:ft-St[3]-St[1],height:vt-St[0]-St[2]},this.plotBox=ct.plotBox={x:Kt,y:Tt,width:At,height:Wt},ot=2*Math.floor(this.plotBorderWidth/2),ft=Math.ceil(Math.max(ot,Lt[3])/2),vt=Math.ceil(Math.max(ot,Lt[0])/2),this.clipBox={x:ft,y:vt,width:Math.floor(this.plotSizeX-Math.max(ot,Lt[1])/2-ft),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ot,Lt[2])/2-vt))},it||(this.axes.forEach(function(Bt){Bt.setAxisSize(),Bt.setAxisTranslation()}),ct.alignElements()),Q(this,"afterSetChartSize",{skipAxes:it})},ht.prototype.resetMargins=function(){Q(this,"resetMargins");var it=this,ot=it.options.chart;["margin","spacing"].forEach(function(ct){var ft=ot[ct],vt=Z(ft)?ft:[ft,ft,ft,ft];["Top","Right","Bottom","Left"].forEach(function(xt,St){it[ct][St]=at(ot[ct+xt],vt[St])})}),k.forEach(function(ct,ft){it[ct]=at(it.margin[ft],it.spacing[ft])}),it.axisOffset=[0,0,0,0],it.clipOffset=[0,0,0,0]},ht.prototype.drawChartBox=function(){var it=this.options.chart,ot=this.renderer,ct=this.chartWidth,ft=this.chartHeight,vt=this.styledMode,xt=this.plotBGImage,St=it.backgroundColor,Lt=it.plotBackgroundColor,Kt=it.plotBackgroundImage,Tt=this.plotLeft,At=this.plotTop,Wt=this.plotWidth,Bt=this.plotHeight,te=this.plotBox,It=this.clipRect,Ie=this.clipBox,me=this.chartBackground,ke=this.plotBackground,Or=this.plotBorder,Be,Cn="animate";if(me||(this.chartBackground=me=ot.rect().addClass("highcharts-background").add(),Cn="attr"),vt)var er=Be=me.strokeWidth();else er=it.borderWidth||0,Be=er+(it.shadow?8:0),St={fill:St||"none"},(er||me["stroke-width"])&&(St.stroke=it.borderColor,St["stroke-width"]=er),me.attr(St).shadow(it.shadow);me[Cn]({x:Be/2,y:Be/2,width:ct-Be-er%2,height:ft-Be-er%2,r:it.borderRadius}),Cn="animate",ke||(Cn="attr",this.plotBackground=ke=ot.rect().addClass("highcharts-plot-background").add()),ke[Cn](te),vt||(ke.attr({fill:Lt||"none"}).shadow(it.plotShadow),Kt&&(xt?(Kt!==xt.attr("href")&&xt.attr("href",Kt),xt.animate(te)):this.plotBGImage=ot.image(Kt,Tt,At,Wt,Bt).add())),It?It.animate({width:Ie.width,height:Ie.height}):this.clipRect=ot.clipRect(Ie),Cn="animate",Or||(Cn="attr",this.plotBorder=Or=ot.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),vt||Or.attr({stroke:it.plotBorderColor,"stroke-width":it.plotBorderWidth||0,fill:"none"}),Or[Cn](Or.crisp({x:Tt,y:At,width:Wt,height:Bt},-Or.strokeWidth())),this.isDirtyBox=!1,Q(this,"afterDrawChartBox")},ht.prototype.propFromSeries=function(){var it=this,ot=it.options.chart,ct=it.options.series,ft,vt,xt;["inverted","angular","polar"].forEach(function(St){for(vt=d[ot.type||ot.defaultSeriesType],xt=ot[St]||vt&&vt.prototype[St],ft=ct&&ct.length;!xt&&ft--;)(vt=d[ct[ft].type])&&vt.prototype[St]&&(xt=!0);it[St]=xt})},ht.prototype.linkSeries=function(){var it=this,ot=it.series;ot.forEach(function(ct){ct.linkedSeries.length=0}),ot.forEach(function(ct){var ft=ct.options.linkedTo;J(ft)&&(ft=ft===":previous"?it.series[ct.index-1]:it.get(ft))&&ft.linkedParent!==ct&&(ft.linkedSeries.push(ct),ct.linkedParent=ft,ft.enabledDataSorting&&ct.setDataSortingOptions(),ct.visible=at(ct.options.visible,ft.options.visible,ct.visible))}),Q(this,"afterLinkSeries")},ht.prototype.renderSeries=function(){this.series.forEach(function(it){it.translate(),it.render()})},ht.prototype.renderLabels=function(){var it=this,ot=it.options.labels;ot.items&&ot.items.forEach(function(ct){var ft=H(ot.style,ct.style),vt=st(ft.left)+it.plotLeft,xt=st(ft.top)+it.plotTop+12;delete ft.left,delete ft.top,it.renderer.text(ct.html,vt,xt).attr({zIndex:2}).css(ft).add()})},ht.prototype.render=function(){var it=this.axes,ot=this.colorAxis,ct=this.renderer,ft=this.options,vt=function(Tt){Tt.forEach(function(At){At.visible&&At.render()})},xt=0;this.setTitle(),this.legend=new f(this,ft.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),ft=this.plotWidth,it.some(function(Tt){if(Tt.horiz&&Tt.visible&&Tt.options.labels.enabled&&Tt.series.length)return xt=21,!0});var St=this.plotHeight=Math.max(this.plotHeight-xt,0);it.forEach(function(Tt){Tt.setScale()}),this.getAxisMargins();var Lt=1.1<ft/this.plotWidth,Kt=1.05<St/this.plotHeight;(Lt||Kt)&&(it.forEach(function(Tt){(Tt.horiz&&Lt||!Tt.horiz&&Kt)&&Tt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?vt(it):ot&&ot.length&&vt(ot),this.seriesGroup||(this.seriesGroup=ct.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ht.prototype.addCredits=function(it){var ot=this,ct=et(!0,this.options.credits,it);ct.enabled&&!this.credits&&(this.credits=this.renderer.text(ct.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ct.href&&(y.location.href=ct.href)}).attr({align:ct.position.align,zIndex:8}),ot.styledMode||this.credits.css(ct.style),this.credits.add().align(ct.position),this.credits.update=function(ft){ot.credits=ot.credits.destroy(),ot.addCredits(ft)})},ht.prototype.destroy=function(){var it=this,ot=it.axes,ct=it.series,ft=it.container,vt=ft&&ft.parentNode,xt;for(Q(it,"destroy"),it.renderer.forExport?M(I,it):I[it.index]=void 0,h.chartCount--,it.renderTo.removeAttribute("data-highcharts-chart"),wt(it),xt=ot.length;xt--;)ot[xt]=ot[xt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),xt=ct.length;xt--;)ct[xt]=ct[xt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(St){var Lt=it[St];Lt&&Lt.destroy&&(it[St]=Lt.destroy())}),ft&&(ft.innerHTML=_.emptyHTML,wt(ft),vt&&Y(ft)),nt(it,function(St,Lt){delete it[Lt]})},ht.prototype.firstRender=function(){var it=this,ot=it.options;(!it.isReadyToRender||it.isReadyToRender())&&(it.getContainer(),it.resetMargins(),it.setChartSize(),it.propFromSeries(),it.getAxes(),(X(ot.series)?ot.series:[]).forEach(function(ct){it.initSeries(ct)}),it.linkSeries(),it.setSeriesData(),Q(it,"beforeRender"),g&&(v.isRequired()?it.pointer=new v(it,ot):it.pointer=new g(it,ot)),it.render(),it.pointer.getChartPosition(),!it.renderer.imgCount&&!it.hasLoaded&&it.onload(),it.temporaryDisplay(!0))},ht.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(it){it&&typeof this.index<"u"&&it.apply(this,[this])},this),Q(this,"load"),Q(this,"render"),K(this.index)&&this.setReflow(this.options.chart.reflow),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0},ht.prototype.warnIfA11yModuleNotLoaded=function(){var it=this.options,ot=this.title;it&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(ot&&ot.element.textContent||"").replace(/</g,"&lt;")}),it.accessibility&&it.accessibility.enabled===!1||B('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))},ht.prototype.addSeries=function(it,ot,ct){var ft=this,vt;return it&&(ot=at(ot,!0),Q(ft,"addSeries",{options:it},function(){vt=ft.initSeries(it),ft.isDirtyLegend=!0,ft.linkSeries(),vt.enabledDataSorting&&vt.setData(it.data,!1),Q(ft,"afterAddSeries",{series:vt}),ot&&ft.redraw(ct)})),vt},ht.prototype.addAxis=function(it,ot,ct,ft){return this.createAxis(ot?"xAxis":"yAxis",{axis:it,redraw:ct,animation:ft})},ht.prototype.addColorAxis=function(it,ot,ct){return this.createAxis("colorAxis",{axis:it,redraw:ot,animation:ct})},ht.prototype.createAxis=function(it,ot){return it=new o(this,et(ot.axis,{index:this[it].length,isX:it==="xAxis"})),at(ot.redraw,!0)&&this.redraw(ot.animation),it},ht.prototype.showLoading=function(it){var ot=this,ct=ot.options,ft=ct.loading,vt=function(){xt&&V(xt,{left:ot.plotLeft+"px",top:ot.plotTop+"px",width:ot.plotWidth+"px",height:ot.plotHeight+"px"})},xt=ot.loadingDiv,St=ot.loadingSpan;xt||(ot.loadingDiv=xt=F("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ot.container)),St||(ot.loadingSpan=St=F("span",{className:"highcharts-loading-inner"},null,xt),w(ot,"redraw",vt)),xt.className="highcharts-loading",_.setElementHTML(St,at(it,ct.lang.loading,"")),ot.styledMode||(V(xt,H(ft.style,{zIndex:10})),V(St,ft.labelStyle),ot.loadingShown||(V(xt,{opacity:0,display:""}),T(xt,{opacity:ft.style.opacity||.5},{duration:ft.showDuration||0}))),ot.loadingShown=!0,vt()},ht.prototype.hideLoading=function(){var it=this.options,ot=this.loadingDiv;ot&&(ot.className="highcharts-loading highcharts-loading-hidden",this.styledMode||T(ot,{opacity:0},{duration:it.loading.hideDuration||100,complete:function(){V(ot,{display:"none"})}})),this.loadingShown=!1},ht.prototype.update=function(it,ot,ct,ft){var vt=this,xt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},St=it.isResponsiveOptions,Lt=[],Kt,Tt;Q(vt,"update",{options:it}),St||vt.setResponsive(!1,!0),it=S(it,vt.options),vt.userOptions=et(vt.userOptions,it);var At=it.chart;if(At){if(et(!0,vt.options.chart,At),"className"in At&&vt.setClassName(At.className),"reflow"in At&&vt.setReflow(At.reflow),"inverted"in At||"polar"in At||"type"in At){vt.propFromSeries();var Wt=!0}"alignTicks"in At&&(Wt=!0),"events"in At&&P(this,At),nt(At,function(Bt,te){vt.propsRequireUpdateSeries.indexOf("chart."+te)!==-1&&(Kt=!0),vt.propsRequireDirtyBox.indexOf(te)!==-1&&(vt.isDirtyBox=!0),vt.propsRequireReflow.indexOf(te)!==-1&&(St?vt.isDirtyBox=!0:Tt=!0)}),!vt.styledMode&&At.style&&vt.renderer.setStyle(vt.options.chart.style||{})}!vt.styledMode&&it.colors&&(this.options.colors=it.colors),it.time&&(this.time===$&&(this.time=new R(it.time)),et(!0,vt.options.time,it.time)),nt(it,function(Bt,te){vt[te]&&typeof vt[te].update=="function"?vt[te].update(Bt,!1):typeof vt[xt[te]]=="function"?vt[xt[te]](Bt):te!=="colors"&&vt.collectionsWithUpdate.indexOf(te)===-1&&et(!0,vt.options[te],it[te]),te!=="chart"&&vt.propsRequireUpdateSeries.indexOf(te)!==-1&&(Kt=!0)}),this.collectionsWithUpdate.forEach(function(Bt){if(it[Bt]){var te=[];vt[Bt].forEach(function(It,Ie){It.options.isInternal||te.push(at(It.options.index,Ie))}),yt(it[Bt]).forEach(function(It,Ie){var me=K(It.id),ke;me&&(ke=vt.get(It.id)),!ke&&vt[Bt]&&(ke=vt[Bt][te?te[Ie]:Ie])&&me&&K(ke.options.id)&&(ke=void 0),ke&&ke.coll===Bt&&(ke.update(It,!1),ct&&(ke.touched=!0)),!ke&&ct&&vt.collectionsWithInit[Bt]&&(vt.collectionsWithInit[Bt][0].apply(vt,[It].concat(vt.collectionsWithInit[Bt][1]||[]).concat([!1])).touched=!0)}),ct&&vt[Bt].forEach(function(It){It.touched||It.options.isInternal?delete It.touched:Lt.push(It)})}}),Lt.forEach(function(Bt){Bt.chart&&Bt.remove&&Bt.remove(!1)}),Wt&&vt.axes.forEach(function(Bt){Bt.update({},!1)}),Kt&&vt.getSeriesOrderByLinks().forEach(function(Bt){Bt.chart&&Bt.update({},!1)},this),Wt=At&&At.width,At=At&&(J(At.height)?mt(At.height,Wt||vt.chartWidth):At.height),Tt||G(Wt)&&Wt!==vt.chartWidth||G(At)&&At!==vt.chartHeight?vt.setSize(Wt,At,ft):at(ot,!0)&&vt.redraw(ft),Q(vt,"afterUpdate",{options:it,redraw:ot,animation:ft})},ht.prototype.setSubtitle=function(it,ot){this.applyDescription("subtitle",it),this.layOutTitles(ot)},ht.prototype.setCaption=function(it,ot){this.applyDescription("caption",it),this.layOutTitles(ot)},ht.prototype.showResetZoom=function(){function it(){ot.zoomOut()}var ot=this,ct=z.lang,ft=ot.options.chart.zooming.resetButton,vt=ft.theme,xt=ft.relativeTo==="chart"||ft.relativeTo==="spacingBox"?null:"scrollablePlotBox";Q(this,"beforeShowResetZoom",null,function(){ot.resetZoomButton=ot.renderer.button(ct.resetZoom,null,null,it,vt).attr({align:ft.position.align,title:ct.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ft.position,!1,xt)}),Q(this,"afterShowResetZoom")},ht.prototype.zoomOut=function(){Q(this,"selection",{resetSelection:!0},this.zoom)},ht.prototype.zoom=function(it){var ot=this,ct=ot.pointer,ft=!1,vt;!it||it.resetSelection?(ot.axes.forEach(function(St){vt=St.zoom()}),ct.initiated=!1):it.xAxis.concat(it.yAxis).forEach(function(St){var Lt=St.axis;(ct[Lt.isXAxis?"zoomX":"zoomY"]&&K(ct.mouseDownX)&&K(ct.mouseDownY)&&ot.isInsidePlot(ct.mouseDownX-ot.plotLeft,ct.mouseDownY-ot.plotTop,{axis:Lt})||!K(ot.inverted?ct.mouseDownX:ct.mouseDownY))&&(vt=Lt.zoom(St.min,St.max),Lt.displayBtn&&(ft=!0))});var xt=ot.resetZoomButton;ft&&!xt?ot.showResetZoom():!ft&&Z(xt)&&(ot.resetZoomButton=xt.destroy()),vt&&ot.redraw(at(ot.options.chart.animation,it&&it.animation,100>ot.pointCount))},ht.prototype.pan=function(it,ot){var ct=this,ft=ct.hoverPoints;ot=typeof ot=="object"?ot:{enabled:ot,type:"x"};var vt=ct.options.chart;vt&&vt.panning&&(vt.panning=ot);var xt=ot.type,St;Q(this,"pan",{originalEvent:it},function(){ft&&ft.forEach(function(Tt){Tt.setState()});var Lt=ct.xAxis;xt==="xy"?Lt=Lt.concat(ct.yAxis):xt==="y"&&(Lt=ct.yAxis);var Kt={};Lt.forEach(function(Tt){if(Tt.options.panningEnabled&&!Tt.options.isInternal){var At=Tt.horiz,Wt=it[At?"chartX":"chartY"];At=At?"mouseDownX":"mouseDownY";var Bt=ct[At],te=Tt.minPointOffset||0,It=Tt.reversed&&!ct.inverted||!Tt.reversed&&ct.inverted?-1:1,Ie=Tt.getExtremes(),me=Tt.toValue(Bt-Wt,!0)+te*It,ke=Tt.toValue(Bt+Tt.len-Wt,!0)-(te*It||Tt.isXAxis&&Tt.pointRangePadding||0),Or=ke<me;It=Tt.hasVerticalPanning(),Bt=Or?ke:me,me=Or?me:ke;var Be=Tt.panningState;!It||Tt.isXAxis||Be&&!Be.isDirty||Tt.series.forEach(function(Cn){var er=Cn.getProcessedData(!0);er=Cn.getExtremes(er.yData,!0),Be||(Be={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),G(er.dataMin)&&G(er.dataMax)&&(Be.startMin=Math.min(at(Cn.options.threshold,1/0),er.dataMin,Be.startMin),Be.startMax=Math.max(at(Cn.options.threshold,-1/0),er.dataMax,Be.startMax))}),It=Math.min(at(Be&&Be.startMin,Ie.dataMin),te?Ie.min:Tt.toValue(Tt.toPixels(Ie.min)-Tt.minPixelPadding)),ke=Math.max(at(Be&&Be.startMax,Ie.dataMax),te?Ie.max:Tt.toValue(Tt.toPixels(Ie.max)+Tt.minPixelPadding)),Tt.panningState=Be,Tt.isOrdinal||(te=It-Bt,0<te&&(me+=te,Bt=It),te=me-ke,0<te&&(me=ke,Bt-=te),Tt.series.length&&Bt!==Ie.min&&me!==Ie.max&&Bt>=It&&me<=ke&&(Tt.setExtremes(Bt,me,!1,!1,{trigger:"pan"}),!ct.resetZoomButton&&Bt!==It&&me!==ke&&xt.match("y")&&(ct.showResetZoom(),Tt.displayBtn=!1),St=!0),Kt[At]=Wt)}}),nt(Kt,function(Tt,At){ct[At]=Tt}),St&&ct.redraw(!1),V(ct.container,{cursor:"move"})})},ht}(),H(i.prototype,{callbacks:[],collectionsWithInit:{xAxis:[i.prototype.addAxis,[!0]],yAxis:[i.prototype.addAxis,[!1]],series:[i.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),i}),n(r,"Core/Legend/LegendSymbol.js",[r["Core/Utilities.js"]],function(i){var o=i.extend,a=i.merge,u=i.pick,c;return function(h){h.drawLineMarker=function(f){var v=this.legendItem=this.legendItem||{},g=this.options,x=f.symbolWidth,m=f.symbolHeight,E=m/2,R=this.chart.renderer,C=v.group;f=f.baseline-Math.round(.3*f.fontMetrics.b);var _={},T=g.marker,L=0;this.chart.styledMode||(_={"stroke-width":Math.min(g.lineWidth||0,24)},g.dashStyle?_.dashstyle=g.dashStyle:g.linecap!=="square"&&(_["stroke-linecap"]="round")),v.line=R.path().addClass("highcharts-graph").attr(_).add(C),_["stroke-linecap"]&&(L=Math.min(v.line.strokeWidth(),x)/2),v.line.attr({d:[["M",L,f],["L",x-L,f]]}),T&&T.enabled!==!1&&x&&(g=Math.min(u(T.radius,E),E),this.symbol.indexOf("url")===0&&(T=a(T,{width:m,height:m}),g=0),v.symbol=v=R.symbol(this.symbol,x/2-g,f-g,2*g,2*g,o({context:"legend"},T)).addClass("highcharts-point").add(C),v.isMarker=!0)},h.drawRectangle=function(f,v){v=v.legendItem||{};var g=f.symbolHeight,x=f.options.squareSymbol;v.symbol=this.chart.renderer.rect(x?(f.symbolWidth-g)/2:0,f.baseline-g+1,x?g:f.symbolWidth,g,u(f.options.symbolRadius,g/2)).addClass("highcharts-point").attr({zIndex:3}).add(v.group)}}(c||(c={})),c}),n(r,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){var i=this.series.chart.numberFormatter;return typeof this.y!="number"?"":i(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),n(r,"Core/Series/Series.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Point.js"],r["Core/Series/SeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g,x){var m=i.animObject,E=i.setAnimation,R=o.defaultOptions,C=a.registerEventOptions,_=u.hasTouch,T=u.svg,L=u.win,j=v.seriesTypes,z=x.arrayMax,$=x.arrayMin,D=x.clamp,P=x.cleanRecursively,I=x.correctFloat,A=x.defined,k=x.erase,b=x.error,y=x.extend,d=x.find,w=x.fireEvent,O=x.getNestedProperty,S=x.isArray,F=x.isNumber,V=x.isString,K=x.merge,Y=x.objectEach,M=x.pick,B=x.removeEvent,H=x.splat,q=x.syncTimeout;return i=function(){function Q(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return Q.prototype.init=function(U,X){w(this,"init",{options:X});var G=this,Z=U.series;this.eventsToUnbind=[],G.chart=U,G.options=G.setOptions(X),X=G.options,G.linkedSeries=[],G.bindAxes(),y(G,{name:X.name,state:"",visible:X.visible!==!1,selected:X.selected===!0}),C(this,X);var J=X.events;(J&&J.click||X.point&&X.point.events&&X.point.events.click||X.allowPointSelect)&&(U.runTrackerClick=!0),G.getColor(),G.getSymbol(),G.parallelArrays.forEach(function(nt){G[nt+"Data"]||(G[nt+"Data"]=[])}),G.isCartesian&&(U.hasCartesianSeries=!0);var et;Z.length&&(et=Z[Z.length-1]),G._i=M(et&&et._i,-1)+1,G.opacity=G.options.opacity,U.orderSeries(this.insert(Z)),X.dataSorting&&X.dataSorting.enabled?G.setDataSortingOptions():G.points||G.data||G.setData(X.data,!1),w(this,"afterInit")},Q.prototype.is=function(U){return j[U]&&this instanceof j[U]},Q.prototype.insert=function(U){var X=this.options.index,G;if(F(X)){for(G=U.length;G--;)if(X>=M(U[G].options.index,U[G]._i)){U.splice(G+1,0,this);break}G===-1&&U.unshift(this),G+=1}else U.push(this);return M(G,U.length-1)},Q.prototype.bindAxes=function(){var U=this,X=U.options,G=U.chart,Z;w(this,"bindAxes",null,function(){(U.axisTypes||[]).forEach(function(J){var et=0;G[J].forEach(function(nt){Z=nt.options,(X[J]===et&&!Z.isInternal||typeof X[J]<"u"&&X[J]===Z.id||typeof X[J]>"u"&&Z.index===0)&&(U.insert(nt.series),U[J]=nt,nt.isDirty=!0),Z.isInternal||et++}),U[J]||U.optionalAxis===J||b(18,!0,G)})}),w(this,"afterBindAxes")},Q.prototype.updateParallelArrays=function(U,X){var G=U.series,Z=arguments,J=F(X)?function(et){var nt=et==="y"&&G.toYData?G.toYData(U):U[et];G[et+"Data"][X]=nt}:function(et){Array.prototype[X].apply(G[et+"Data"],Array.prototype.slice.call(Z,2))};G.parallelArrays.forEach(J)},Q.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},Q.prototype.autoIncrement=function(U){var X=this.options,G=X.pointIntervalUnit,Z=X.relativeXValue,J=this.chart.time,et=this.xIncrement,nt;return et=M(et,X.pointStart,0),this.pointInterval=nt=M(this.pointInterval,X.pointInterval,1),Z&&F(U)&&(nt*=U),G&&(X=new J.Date(et),G==="day"?J.set("Date",X,J.get("Date",X)+nt):G==="month"?J.set("Month",X,J.get("Month",X)+nt):G==="year"&&J.set("FullYear",X,J.get("FullYear",X)+nt),nt=X.getTime()-et),Z&&F(U)?et+nt:(this.xIncrement=et+nt,et)},Q.prototype.setDataSortingOptions=function(){var U=this.options;y(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),A(U.pointRange)||(U.pointRange=1)},Q.prototype.setOptions=function(U){var X=this.chart,G=X.options,Z=G.plotOptions,J=X.userOptions||{};U=K(U),X=X.styledMode;var et={plotOptions:Z,userOptions:U};w(this,"setOptions",et);var nt=et.plotOptions[this.type],at=J.plotOptions||{};return this.userOptions=et.userOptions,J=K(nt,Z.series,J.plotOptions&&J.plotOptions[this.type],U),this.tooltipOptions=K(R.tooltip,R.plotOptions.series&&R.plotOptions.series.tooltip,R.plotOptions[this.type].tooltip,G.tooltip.userOptions,Z.series&&Z.series.tooltip,Z[this.type].tooltip,U.tooltip),this.stickyTracking=M(U.stickyTracking,at[this.type]&&at[this.type].stickyTracking,at.series&&at.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:J.stickyTracking),nt.marker===null&&delete J.marker,this.zoneAxis=J.zoneAxis,Z=this.zones=(J.zones||[]).slice(),!J.negativeColor&&!J.negativeFillColor||J.zones||(G={value:J[this.zoneAxis+"Threshold"]||J.threshold||0,className:"highcharts-negative"},X||(G.color=J.negativeColor,G.fillColor=J.negativeFillColor),Z.push(G)),Z.length&&A(Z[Z.length-1].value)&&Z.push(X?{}:{color:this.color,fillColor:this.fillColor}),w(this,"afterSetOptions",{options:J}),J},Q.prototype.getName=function(){return M(this.options.name,"Series "+(this.index+1))},Q.prototype.getCyclic=function(U,X,G){var Z=this.chart,J=this.userOptions,et=U+"Index",nt=U+"Counter",at=G?G.length:M(Z.options.chart[U+"Count"],Z[U+"Count"]);if(!X){var st=M(J[et],J["_"+et]);A(st)||(Z.series.length||(Z[nt]=0),J["_"+et]=st=Z[nt]%at,Z[nt]+=1),G&&(X=G[st])}typeof st<"u"&&(this[et]=st),this[U]=X},Q.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||R.plotOptions[this.type].color,this.chart.options.colors)},Q.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},Q.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},Q.prototype.findPointIndex=function(U,X){var G=U.id,Z=U.x,J=this.points,et=this.options.dataSorting,nt,at;if(G)et=this.chart.get(G),et instanceof h&&(nt=et);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(nt=function(mt){return!mt.touched&&mt.index===U.index},et&&et.matchByName?nt=function(mt){return!mt.touched&&mt.name===U.name}:this.options.relativeXValue&&(nt=function(mt){return!mt.touched&&mt.options.x===U.x}),nt=d(J,nt),!nt))return;if(nt){var st=nt&&nt.index;typeof st<"u"&&(at=!0)}return typeof st>"u"&&F(Z)&&(st=this.xData.indexOf(Z,X)),st!==-1&&typeof st<"u"&&this.cropped&&(st=st>=this.cropStart?st-this.cropStart:st),!at&&F(st)&&J[st]&&J[st].touched&&(st=void 0),st},Q.prototype.updateData=function(U,X){var G=this.options,Z=G.dataSorting,J=this.points,et=[],nt=this.requireSorting,at=U.length===J.length,st,mt,wt,yt=!0;if(this.xIncrement=null,U.forEach(function(gt,bt){var ht=A(gt)&&this.pointClass.prototype.optionsToObject.call({series:this},gt)||{},it=ht.x;ht.id||F(it)?(ht=this.findPointIndex(ht,wt),ht===-1||typeof ht>"u"?et.push(gt):J[ht]&&gt!==G.data[ht]?(J[ht].update(gt,!1,null,!1),J[ht].touched=!0,nt&&(wt=ht+1)):J[ht]&&(J[ht].touched=!0),(!at||bt!==ht||Z&&Z.enabled||this.hasDerivedData)&&(st=!0)):et.push(gt)},this),st)for(U=J.length;U--;)(mt=J[U])&&!mt.touched&&mt.remove&&mt.remove(!1,X);else!at||Z&&Z.enabled?yt=!1:(U.forEach(function(gt,bt){gt!==J[bt].y&&J[bt].update&&J[bt].update(gt,!1,null,!1)}),et.length=0);return J.forEach(function(gt){gt&&(gt.touched=!1)}),yt?(et.forEach(function(gt){this.addPoint(gt,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=z(this.xData),this.autoIncrement()),!0):!1},Q.prototype.setData=function(U,X,G,Z){X===void 0&&(X=!0);var J=this,et=J.points,nt=et&&et.length||0,at=J.options,st=J.chart,mt=at.dataSorting,wt=J.xAxis,yt=at.turboThreshold,gt=this.xData,bt=this.yData,ht=J.pointArrayMap;ht=ht&&ht.length;var it=at.keys,ot,ct=0,ft=1,vt=null;if(!st.options.chart.allowMutatingData){at.data&&delete J.options.data,J.userOptions.data&&delete J.userOptions.data;var xt=K(!0,U)}if(U=xt||U||[],xt=U.length,mt&&mt.enabled&&(U=this.sortData(U)),st.options.chart.allowMutatingData&&Z!==!1&&xt&&nt&&!J.cropped&&!J.hasGroupedData&&J.visible&&!J.boosted&&(ot=this.updateData(U,G)),!ot){if(J.xIncrement=null,J.colorCounter=0,this.parallelArrays.forEach(function(St){J[St+"Data"].length=0}),yt&&xt>yt)if(vt=J.getFirstValidPoint(U),F(vt))for(G=0;G<xt;G++)gt[G]=this.autoIncrement(),bt[G]=U[G];else if(S(vt))if(ht)if(vt.length===ht)for(G=0;G<xt;G++)gt[G]=this.autoIncrement(),bt[G]=U[G];else for(G=0;G<xt;G++)Z=U[G],gt[G]=Z[0],bt[G]=Z.slice(1,ht+1);else if(it&&(ct=it.indexOf("x"),ft=it.indexOf("y"),ct=0<=ct?ct:0,ft=0<=ft?ft:1),vt.length===1&&(ft=0),ct===ft)for(G=0;G<xt;G++)gt[G]=this.autoIncrement(),bt[G]=U[G][ft];else for(G=0;G<xt;G++)Z=U[G],gt[G]=Z[ct],bt[G]=Z[ft];else b(12,!1,st);else for(G=0;G<xt;G++)typeof U[G]<"u"&&(Z={series:J},J.pointClass.prototype.applyOptions.apply(Z,[U[G]]),J.updateParallelArrays(Z,G));for(bt&&V(bt[0])&&b(14,!0,st),J.data=[],J.options.data=J.userOptions.data=U,G=nt;G--;)et[G]&&et[G].destroy&&et[G].destroy();wt&&(wt.minRange=wt.userMinRange),J.isDirty=st.isDirtyBox=!0,J.isDirtyData=!!et,G=!1}at.legendType==="point"&&(this.processData(),this.generatePoints()),X&&st.redraw(G)},Q.prototype.sortData=function(U){var X=this,G=X.options.dataSorting.sortKey||"y",Z=function(J,et){return A(et)&&J.pointClass.prototype.optionsToObject.call({series:J},et)||{}};return U.forEach(function(J,et){U[et]=Z(X,J),U[et].index=et},this),U.concat().sort(function(J,et){return J=O(G,J),et=O(G,et),et<J?-1:et>J?1:0}).forEach(function(J,et){J.x=et},this),X.linkedSeries&&X.linkedSeries.forEach(function(J){var et=J.options,nt=et.data;et.dataSorting&&et.dataSorting.enabled||!nt||(nt.forEach(function(at,st){nt[st]=Z(J,at),U[st]&&(nt[st].x=U[st].x,nt[st].index=st)}),J.setData(nt,!1))}),U},Q.prototype.getProcessedData=function(U){var X=this.xAxis,G=this.options,Z=G.cropThreshold,J=U||this.getExtremesFromAll||G.getExtremesFromAll,et=this.isCartesian;U=X&&X.val2lin,G=!(!X||!X.logarithmic);var nt=0,at=this.xData,st=this.yData,mt=this.requireSorting,wt=!1,yt=at.length;if(X){wt=X.getExtremes();var gt=wt.min,bt=wt.max;wt=!(!X.categories||X.names.length)}if(et&&this.sorted&&!J&&(!Z||yt>Z||this.forceCrop)){if(at[yt-1]<gt||at[0]>bt)at=[],st=[];else if(this.yData&&(at[0]<gt||at[yt-1]>bt)){var ht=this.cropData(this.xData,this.yData,gt,bt);at=ht.xData,st=ht.yData,nt=ht.start,ht=!0}}for(Z=at.length||1;--Z;)if(X=G?U(at[Z])-U(at[Z-1]):at[Z]-at[Z-1],0<X&&(typeof it>"u"||X<it))var it=X;else 0>X&&mt&&!wt&&(b(15,!1,this.chart),mt=!1);return{xData:at,yData:st,cropped:ht,cropStart:nt,closestPointRange:it}},Q.prototype.processData=function(U){var X=this.xAxis;if(this.isCartesian&&!this.isDirty&&!X.isDirty&&!this.yAxis.isDirty&&!U)return!1;U=this.getProcessedData(),this.cropped=U.cropped,this.cropStart=U.cropStart,this.processedXData=U.xData,this.processedYData=U.yData,this.closestPointRange=this.basePointRange=U.closestPointRange,w(this,"afterProcessData")},Q.prototype.cropData=function(U,X,G,Z,J){var et=U.length,nt,at=0,st=et;for(J=M(J,this.cropShoulder),nt=0;nt<et;nt++)if(U[nt]>=G){at=Math.max(0,nt-J);break}for(G=nt;G<et;G++)if(U[G]>Z){st=G+J;break}return{xData:U.slice(at,st),yData:X.slice(at,st),start:at,end:st}},Q.prototype.generatePoints=function(){var U=this.options,X=this.processedData||U.data,G=this.processedXData,Z=this.processedYData,J=this.pointClass,et=G.length,nt=this.cropStart||0,at=this.hasGroupedData,st=U.keys,mt=[];U=U.dataGrouping&&U.dataGrouping.groupAll?nt:0;var wt,yt,gt=this.data;if(!gt&&!at){var bt=[];bt.length=X.length,gt=this.data=bt}for(st&&at&&(this.options.keys=!1),yt=0;yt<et;yt++){if(bt=nt+yt,at){var ht=new J().init(this,[G[yt]].concat(H(Z[yt])));ht.dataGroup=this.groupMap[U+yt],ht.dataGroup.options&&(ht.options=ht.dataGroup.options,y(ht,ht.dataGroup.options),delete ht.dataLabels)}else(ht=gt[bt])||typeof X[bt]>"u"||(gt[bt]=ht=new J().init(this,X[bt],G[yt]));ht&&(ht.index=at?U+yt:bt,mt[yt]=ht)}if(this.options.keys=st,gt&&(et!==(wt=gt.length)||at))for(yt=0;yt<wt;yt++)yt!==nt||at||(yt+=et),gt[yt]&&(gt[yt].destroyElements(),gt[yt].plotX=void 0);this.data=gt,this.points=mt,w(this,"afterGeneratePoints")},Q.prototype.getXExtremes=function(U){return{min:$(U),max:z(U)}},Q.prototype.getExtremes=function(U,X){var G=this.xAxis,Z=this.yAxis,J=this.processedXData||this.xData,et=[],nt=this.requireSorting?this.cropShoulder:0;Z=Z?Z.positiveValuesOnly:!1;var at,st=0,mt=0,wt=0;U=U||this.stackedYData||this.processedYData||[];var yt=U.length;if(G){var gt=G.getExtremes();st=gt.min,mt=gt.max}for(at=0;at<yt;at++){var bt=J[at];gt=U[at];var ht=(F(gt)||S(gt))&&(gt.length||0<gt||!Z);if(bt=X||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!G||(J[at+nt]||bt)>=st&&(J[at-nt]||bt)<=mt,ht&&bt)if(ht=gt.length)for(;ht--;)F(gt[ht])&&(et[wt++]=gt[ht]);else et[wt++]=gt}return U={activeYData:et,dataMin:$(et),dataMax:z(et)},w(this,"afterGetExtremes",{dataExtremes:U}),U},Q.prototype.applyExtremes=function(){var U=this.getExtremes();return this.dataMin=U.dataMin,this.dataMax=U.dataMax,U},Q.prototype.getFirstValidPoint=function(U){for(var X=U.length,G=0,Z=null;Z===null&&G<X;)Z=U[G],G++;return Z},Q.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var U=this.options,X=U.stacking,G=this.xAxis,Z=G.categories,J=this.enabledDataSorting,et=this.yAxis,nt=this.points,at=nt.length,st=this.pointPlacementToXValue(),mt=!!st,wt=U.threshold,yt=U.startFromThreshold?wt:0,gt=this.zoneAxis||"y",bt,ht,it=Number.MAX_VALUE;for(bt=0;bt<at;bt++){var ot=nt[bt],ct=ot.x,ft=void 0,vt=void 0,xt=ot.y,St=ot.low,Lt=X&&et.stacking&&et.stacking.stacks[(this.negStacks&&xt<(yt?0:wt)?"-":"")+this.stackKey];if((et.positiveValuesOnly&&!et.validatePositiveValue(xt)||G.positiveValuesOnly&&!G.validatePositiveValue(ct))&&(ot.isNull=!0),ot.plotX=ht=I(D(G.translate(ct,0,0,0,1,st,this.type==="flags"),-1e5,1e5)),X&&this.visible&&Lt&&Lt[ct]){var Kt=this.getStackIndicator(Kt,ct,this.index);!ot.isNull&&Kt.key&&(ft=Lt[ct],vt=ft.points[Kt.key]),ft&&S(vt)&&(St=vt[0],xt=vt[1],St===yt&&Kt.key===Lt[ct].base&&(St=M(F(wt)?wt:et.min)),et.positiveValuesOnly&&A(St)&&0>=St&&(St=void 0),ot.total=ot.stackTotal=M(ft.total),ot.percentage=A(ot.y)&&ft.total?ot.y/ft.total*100:void 0,ot.stackY=xt,this.irregularWidths||ft.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))}if(ot.yBottom=A(St)?D(et.translate(St,0,1,0,1),-1e5,1e5):void 0,this.dataModify&&(xt=this.dataModify.modifyValue(xt,bt)),ot.plotY=void 0,F(xt)&&(ft=et.translate(xt,!1,!0,!1,!0),typeof ft<"u"&&(ot.plotY=D(ft,-1e5,1e5))),ot.isInside=this.isPointInside(ot),ot.clientX=mt?I(G.translate(ct,0,0,0,1,st)):ht,ot.negative=ot[gt]<(U[gt+"Threshold"]||wt||0),ot.category=M(Z&&Z[ot.x],ot.x),!ot.isNull&&ot.visible!==!1){typeof Tt<"u"&&(it=Math.min(it,Math.abs(ht-Tt)));var Tt=ht}ot.zone=this.zones.length?ot.getZone():void 0,!ot.graphic&&this.group&&J&&(ot.isNew=!0)}this.closestPointRangePx=it,w(this,"afterTranslate")},Q.prototype.getValidPoints=function(U,X,G){var Z=this.chart;return(U||this.points||[]).filter(function(J){return X&&!Z.isInsidePlot(J.plotX,J.plotY,{inverted:Z.inverted})?!1:J.visible!==!1&&(G||!J.isNull)})},Q.prototype.getClipBox=function(){var U=this.chart,X=this.xAxis,G=this.yAxis,Z=K(U.clipBox);return X&&X.len!==U.plotSizeX&&(Z.width=X.len),G&&G.len!==U.plotSizeY&&(Z.height=G.len),Z},Q.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},Q.prototype.setClip=function(){var U=this.chart,X=this.group,G=this.markerGroup,Z=U.sharedClips;U=U.renderer;var J=this.getClipBox(),et=this.getSharedClipKey(),nt=Z[et];nt?nt.animate(J):Z[et]=nt=U.clipRect(J),X&&X.clip(this.options.clip===!1?void 0:nt),G&&G.clip()},Q.prototype.animate=function(U){var X=this.chart,G=this.group,Z=this.markerGroup,J=X.inverted,et=m(this.options.animation),nt=[this.getSharedClipKey(),et.duration,et.easing,et.defer].join(),at=X.sharedClips[nt],st=X.sharedClips[nt+"m"];if(U&&G)et=this.getClipBox(),at?at.attr("height",et.height):(et.width=0,J&&(et.x=X.plotHeight),at=X.renderer.clipRect(et),X.sharedClips[nt]=at,st=X.renderer.clipRect({x:-99,y:-99,width:J?X.plotWidth+199:99,height:J?99:X.plotHeight+199}),X.sharedClips[nt+"m"]=st),G.clip(at),Z&&Z.clip(st);else if(at&&!at.hasClass("highcharts-animating")){X=this.getClipBox();var mt=et.step;Z&&Z.element.childNodes.length&&(et.step=function(wt,yt){mt&&mt.apply(yt,arguments),yt.prop==="width"&&st&&st.element&&st.attr(J?"height":"width",wt+99)}),at.addClass("highcharts-animating").animate(X,et)}},Q.prototype.afterAnimate=function(){var U=this;this.setClip(),Y(this.chart.sharedClips,function(X,G,Z){X&&!U.chart.container.querySelector('[clip-path="url(#'.concat(X.id,')"]'))&&(X.destroy(),delete Z[G])}),this.finishedAnimating=!0,w(this,"afterAnimate")},Q.prototype.drawPoints=function(U){U===void 0&&(U=this.points);var X=this.chart,G=X.styledMode,Z=this.colorAxis,J=this.options.marker,et=this[this.specialGroup||"markerGroup"],nt=this.xAxis,at=M(J.enabled,!nt||nt.isRadial?!0:null,this.closestPointRangePx>=J.enabledThreshold*J.radius),st,mt;if(J.enabled!==!1||this._hasPointMarkers)for(st=0;st<U.length;st++){var wt=U[st],yt=(mt=wt.graphic)?"animate":"attr",gt=wt.marker||{},bt=!!wt.marker;if((at&&typeof gt.enabled>"u"||gt.enabled)&&!wt.isNull&&wt.visible!==!1){var ht=M(gt.symbol,this.symbol,"rect"),it=this.markerAttribs(wt,wt.selected&&"select");this.enabledDataSorting&&(wt.startXPos=nt.reversed?-(it.width||0):nt.width);var ot=wt.isInside!==!1;!mt&&ot&&(0<(it.width||0)||wt.hasImage)&&(wt.graphic=mt=X.renderer.symbol(ht,it.x,it.y,it.width,it.height,bt?gt:J).add(et),this.enabledDataSorting&&X.hasRendered&&(mt.attr({x:wt.startXPos}),yt="animate")),mt&&yt==="animate"&&mt[ot?"show":"hide"](ot).animate(it),mt&&(gt=this.pointAttribs(wt,G||!wt.selected?void 0:"select"),G?Z&&mt.css({fill:gt.fill}):mt[yt](gt)),mt&&mt.addClass(wt.getClassName(),!0)}else mt&&(wt.graphic=mt.destroy())}},Q.prototype.markerAttribs=function(U,X){var G=this.options,Z=G.marker,J=U.marker||{},et=J.symbol||Z.symbol,nt={},at=M(J.radius,Z&&Z.radius);return X&&(Z=Z.states[X],X=J.states&&J.states[X],at=M(X&&X.radius,Z&&Z.radius,at&&at+(Z&&Z.radiusPlus||0))),U.hasImage=et&&et.indexOf("url")===0,U.hasImage&&(at=0),U=U.pos(),F(at)&&U&&(nt.x=U[0]-at,nt.y=U[1]-at,G.crisp&&(nt.x=Math.floor(nt.x))),at&&(nt.width=nt.height=2*at),nt},Q.prototype.pointAttribs=function(U,X){var G=this.options.marker,Z=U&&U.options,J=Z&&Z.marker||{},et=Z&&Z.color,nt=U&&U.color,at=U&&U.zone&&U.zone.color,st=this.color;return U=M(J.lineWidth,G.lineWidth),Z=1,st=et||at||nt||st,et=J.fillColor||G.fillColor||st,nt=J.lineColor||G.lineColor||st,X=X||"normal",G=G.states[X]||{},X=J.states&&J.states[X]||{},U=M(X.lineWidth,G.lineWidth,U+M(X.lineWidthPlus,G.lineWidthPlus,0)),et=X.fillColor||G.fillColor||et,nt=X.lineColor||G.lineColor||nt,Z=M(X.opacity,G.opacity,Z),{stroke:nt,"stroke-width":U,fill:et,opacity:Z}},Q.prototype.destroy=function(U){var X=this,G=X.chart,Z=/AppleWebKit\/533/.test(L.navigator.userAgent),J=X.data||[],et,nt,at,st;for(w(X,"destroy",{keepEventsForUpdate:U}),this.removeEvents(U),(X.axisTypes||[]).forEach(function(mt){(st=X[mt])&&st.series&&(k(st.series,X),st.isDirty=st.forceRedraw=!0)}),X.legendItem&&X.chart.legend.destroyItem(X),nt=J.length;nt--;)(at=J[nt])&&at.destroy&&at.destroy();X.clips&&X.clips.forEach(function(mt){return mt.destroy()}),x.clearTimeout(X.animationTimeout),Y(X,function(mt,wt){mt instanceof g&&!mt.survive&&(et=Z&&wt==="group"?"hide":"destroy",mt[et]())}),G.hoverSeries===X&&(G.hoverSeries=void 0),k(G.series,X),G.orderSeries(),Y(X,function(mt,wt){U&&wt==="hcEvents"||delete X[wt]})},Q.prototype.applyZones=function(){var U=this,X=this.chart,G=X.renderer,Z=this.zones,J=this.clips||[],et=this.graph,nt=this.area,at=Math.max(X.plotWidth,X.plotHeight),st=this[(this.zoneAxis||"y")+"Axis"],mt=X.inverted,wt,yt,gt,bt,ht,it,ot,ct,ft=!1;if(Z.length&&(et||nt)&&st&&typeof st.min<"u"){var vt=st.reversed,xt=st.horiz;et&&!this.showLine&&et.hide(),nt&&nt.hide();var St=st.getExtremes();Z.forEach(function(Lt,Kt){wt=vt?xt?X.plotWidth:0:xt?0:st.toPixels(St.min)||0,wt=D(M(yt,wt),0,at),yt=D(Math.round(st.toPixels(M(Lt.value,St.max),!0)||0),0,at),ft&&(wt=yt=st.toPixels(St.max)),bt=Math.abs(wt-yt),ht=Math.min(wt,yt),it=Math.max(wt,yt),st.isXAxis?(gt={x:mt?it:ht,y:0,width:bt,height:at},xt||(gt.x=X.plotHeight-gt.x)):(gt={x:0,y:mt?it:ht,width:at,height:bt},xt&&(gt.y=X.plotWidth-gt.y)),mt&&G.isVML&&(gt=st.isXAxis?{x:0,y:vt?ht:it,height:gt.width,width:X.chartWidth}:{x:gt.y-X.plotLeft-X.spacingBox.x,y:0,width:gt.height,height:X.chartHeight}),J[Kt]?J[Kt].animate(gt):J[Kt]=G.clipRect(gt),ot=U["zone-area-"+Kt],ct=U["zone-graph-"+Kt],et&&ct&&ct.clip(J[Kt]),nt&&ot&&ot.clip(J[Kt]),ft=Lt.value>St.max,U.resetZones&&yt===0&&(yt=void 0)}),this.clips=J}else U.visible&&(et&&et.show(),nt&&nt.show())},Q.prototype.plotGroup=function(U,X,G,Z,J){var et=this[U],nt=!et;return G={visibility:G,zIndex:Z||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(G.opacity=this.opacity),nt&&(this[U]=et=this.chart.renderer.g().add(J)),et.addClass("highcharts-"+X+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(A(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(et.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),et.attr(G)[nt?"attr":"animate"](this.getPlotBox(X)),et},Q.prototype.getPlotBox=function(U){var X=this.xAxis,G=this.yAxis,Z=this.chart;return U=Z.inverted&&!Z.polar&&X&&this.invertible!==!1&&U==="series",Z.inverted&&(X=G,G=this.xAxis),{translateX:X?X.left:Z.plotLeft,translateY:G?G.top:Z.plotTop,rotation:U?90:0,rotationOriginX:U?(X.len-G.len)/2:0,rotationOriginY:U?(X.len+G.len)/2:0,scaleX:U?-1:1,scaleY:1}},Q.prototype.removeEvents=function(U){U||B(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(X){X()}),this.eventsToUnbind.length=0)},Q.prototype.render=function(){var U=this,X=U.chart,G=U.options,Z=m(G.animation),J=U.visible?"inherit":"hidden",et=G.zIndex,nt=U.hasRendered,at=X.seriesGroup;X=!U.finishedAnimating&&X.renderer.isSVG?Z.duration:0,w(this,"render"),U.plotGroup("group","series",J,et,at),U.markerGroup=U.plotGroup("markerGroup","markers",J,et,at),G.clip!==!1&&U.setClip(),U.animate&&X&&U.animate(!0),U.drawGraph&&(U.drawGraph(),U.applyZones()),U.visible&&U.drawPoints(),U.drawDataLabels&&U.drawDataLabels(),U.redrawPoints&&U.redrawPoints(),U.drawTracker&&U.options.enableMouseTracking!==!1&&U.drawTracker(),U.animate&&X&&U.animate(),nt||(X&&Z.defer&&(X+=Z.defer),U.animationTimeout=q(function(){U.afterAnimate()},X||0)),U.isDirty=!1,U.hasRendered=!0,w(U,"afterRender")},Q.prototype.redraw=function(){var U=this.isDirty||this.isDirtyData;this.translate(),this.render(),U&&delete this.kdTree},Q.prototype.searchPoint=function(U,X){var G=this.xAxis,Z=this.yAxis,J=this.chart.inverted;return this.searchKDTree({clientX:J?G.len-U.chartY+G.pos:U.chartX-G.pos,plotY:J?Z.len-U.chartX+Z.pos:U.chartY-Z.pos},X,U)},Q.prototype.buildKDTree=function(U){function X(J,et,nt){var at=J&&J.length;if(at){var st=G.kdAxisArray[et%nt];return J.sort(function(mt,wt){return mt[st]-wt[st]}),at=Math.floor(at/2),{point:J[at],left:X(J.slice(0,at),et+1,nt),right:X(J.slice(at+1),et+1,nt)}}}this.buildingKdTree=!0;var G=this,Z=-1<G.options.findNearestPointBy.indexOf("y")?2:1;delete G.kdTree,q(function(){G.kdTree=X(G.getValidPoints(null,!G.directTouch),Z,Z),G.buildingKdTree=!1},G.options.kdNow||U&&U.type==="touchstart"?0:1)},Q.prototype.searchKDTree=function(U,X,G){function Z(st,mt,wt,yt){var gt=mt.point,bt=J.kdAxisArray[wt%yt],ht=gt,it=A(st[et])&&A(gt[et])?Math.pow(st[et]-gt[et],2):null,ot=A(st[nt])&&A(gt[nt])?Math.pow(st[nt]-gt[nt],2):null;return ot=(it||0)+(ot||0),gt.dist=A(ot)?Math.sqrt(ot):Number.MAX_VALUE,gt.distX=A(it)?Math.sqrt(it):Number.MAX_VALUE,bt=st[bt]-gt[bt],ot=0>bt?"left":"right",it=0>bt?"right":"left",mt[ot]&&(ot=Z(st,mt[ot],wt+1,yt),ht=ot[at]<ht[at]?ot:gt),mt[it]&&Math.sqrt(bt*bt)<ht[at]&&(st=Z(st,mt[it],wt+1,yt),ht=st[at]<ht[at]?st:ht),ht}var J=this,et=this.kdAxisArray[0],nt=this.kdAxisArray[1],at=X?"distX":"dist";if(X=-1<J.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(G),this.kdTree)return Z(U,this.kdTree,X,X)},Q.prototype.pointPlacementToXValue=function(){var U=this.options,X=U.pointRange,G=this.xAxis;return U=U.pointPlacement,U==="between"&&(U=G.reversed?-.5:.5),F(U)?U*(X||G.pointRange):0},Q.prototype.isPointInside=function(U){var X=this.chart,G=this.xAxis,Z=this.yAxis;return typeof U.plotY<"u"&&typeof U.plotX<"u"&&0<=U.plotY&&U.plotY<=(Z?Z.len:X.plotHeight)&&0<=U.plotX&&U.plotX<=(G?G.len:X.plotWidth)},Q.prototype.drawTracker=function(){var U=this,X=U.options,G=X.trackByArea,Z=[].concat(G?U.areaPath:U.graphPath),J=U.chart,et=J.pointer,nt=J.renderer,at=J.options.tooltip.snap,st=U.tracker,mt=function(yt){J.hoverSeries!==U&&U.onMouseOver()},wt="rgba(192,192,192,"+(T?1e-4:.002)+")";st?st.attr({d:Z}):U.graph&&(U.tracker=nt.path(Z).attr({visibility:U.visible?"inherit":"hidden",zIndex:2}).addClass(G?"highcharts-tracker-area":"highcharts-tracker-line").add(U.group),J.styledMode||U.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:wt,fill:G?wt:"none","stroke-width":U.graph.strokeWidth()+(G?0:2*at)}),[U.tracker,U.markerGroup,U.dataLabelsGroup].forEach(function(yt){yt&&(yt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(gt){et.onTrackerMouseOut(gt)}),X.cursor&&!J.styledMode&&yt.css({cursor:X.cursor}),_)&&yt.on("touchstart",mt)})),w(this,"afterDrawTracker")},Q.prototype.addPoint=function(U,X,G,Z,J){var et=this.options,nt=this.data,at=this.chart,st=this.xAxis;st=st&&st.hasNames&&st.names;var mt=et.data,wt=this.xData,yt;X=M(X,!0);var gt={series:this};this.pointClass.prototype.applyOptions.apply(gt,[U]);var bt=gt.x,ht=wt.length;if(this.requireSorting&&bt<wt[ht-1])for(yt=!0;ht&&wt[ht-1]>bt;)ht--;this.updateParallelArrays(gt,"splice",ht,0,0),this.updateParallelArrays(gt,ht),st&&gt.name&&(st[bt]=gt.name),mt.splice(ht,0,U),(yt||this.processedData)&&(this.data.splice(ht,0,null),this.processData()),et.legendType==="point"&&this.generatePoints(),G&&(nt[0]&&nt[0].remove?nt[0].remove(!1):(nt.shift(),this.updateParallelArrays(gt,"shift"),mt.shift())),J!==!1&&w(this,"addPoint",{point:gt}),this.isDirtyData=this.isDirty=!0,X&&at.redraw(Z)},Q.prototype.removePoint=function(U,X,G){var Z=this,J=Z.data,et=J[U],nt=Z.points,at=Z.chart,st=function(){nt&&nt.length===J.length&&nt.splice(U,1),J.splice(U,1),Z.options.data.splice(U,1),Z.updateParallelArrays(et||{series:Z},"splice",U,1),et&&et.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,X&&at.redraw()};E(G,at),X=M(X,!0),et?et.firePointEvent("remove",null,st):st()},Q.prototype.remove=function(U,X,G,Z){function J(){et.destroy(Z),nt.isDirtyLegend=nt.isDirtyBox=!0,nt.linkSeries(),M(U,!0)&&nt.redraw(X)}var et=this,nt=et.chart;G!==!1?w(et,"remove",null,J):J()},Q.prototype.update=function(U,X){U=P(U,this.userOptions),w(this,"update",{options:U});var G=this,Z=G.chart,J=G.userOptions,et=G.initialType||G.type,nt=Z.options.plotOptions,at=j[et].prototype,st=G.finishedAnimating&&{animation:!1},mt={},wt=["eventOptions","navigatorSeries","baseSeries"],yt=U.type||J.type||Z.options.chart.type,gt=!(this.hasDerivedData||yt&&yt!==this.type||typeof U.pointStart<"u"||typeof U.pointInterval<"u"||typeof U.relativeXValue<"u"||U.joinBy||U.mapData||G.hasOptionChanged("dataGrouping")||G.hasOptionChanged("pointStart")||G.hasOptionChanged("pointInterval")||G.hasOptionChanged("pointIntervalUnit")||G.hasOptionChanged("keys"));if(yt=yt||et,gt&&(wt.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),U.visible!==!1&&wt.push("area","graph"),G.parallelArrays.forEach(function(ht){wt.push(ht+"Data")}),U.data&&(U.dataSorting&&y(G.options.dataSorting,U.dataSorting),this.setData(U.data,!1))),U=K(J,st,{index:typeof J.index>"u"?G.index:J.index,pointStart:M(nt&&nt.series&&nt.series.pointStart,J.pointStart,G.xData[0])},!gt&&{data:G.options.data},U),gt&&U.data&&(U.data=G.options.data),wt=["group","markerGroup","dataLabelsGroup","transformGroup","shadowGroup"].concat(wt),wt.forEach(function(ht){wt[ht]=G[ht],delete G[ht]}),nt=!1,j[yt]){if(nt=yt!==G.type,G.remove(!1,!1,!1,!0),nt)if(Object.setPrototypeOf)Object.setPrototypeOf(G,j[yt].prototype);else{st=Object.hasOwnProperty.call(G,"hcEvents")&&G.hcEvents;for(bt in at)G[bt]=void 0;y(G,j[yt].prototype),st?G.hcEvents=st:delete G.hcEvents}}else b(17,!0,Z,{missingModuleFor:yt});if(wt.forEach(function(ht){G[ht]=wt[ht]}),G.init(Z,U),gt&&this.points){if(U=G.options,U.visible===!1)mt.graphic=1,mt.dataLabel=1;else if(!G._hasPointLabels){at=U.marker;var bt=U.dataLabels;J=J.marker||{},!at||at.enabled!==!1&&J.symbol===at.symbol&&J.height===at.height&&J.width===at.width||(mt.graphic=1),bt&&bt.enabled===!1&&(mt.dataLabel=1)}for(J=0,at=this.points;J<at.length;J++)(bt=at[J])&&bt.series&&(bt.resolveColor(),Object.keys(mt).length&&bt.destroyElements(mt),U.showInLegend===!1&&bt.legendItem&&Z.legend.destroyItem(bt))}G.initialType=et,Z.linkSeries(),nt&&G.linkedSeries.length&&(G.isDirtyData=!0),w(this,"afterUpdate"),M(X,!0)&&Z.redraw(gt?void 0:!1)},Q.prototype.setName=function(U){this.name=this.options.name=this.userOptions.name=U,this.chart.isDirtyLegend=!0},Q.prototype.hasOptionChanged=function(U){var X=this.options[U],G=this.chart.options.plotOptions,Z=this.userOptions[U];return Z?X!==Z:X!==M(G&&G[this.type]&&G[this.type][U],G&&G.series&&G.series[U],X)},Q.prototype.onMouseOver=function(){var U=this.chart,X=U.hoverSeries;U.pointer.setHoverChartIndex(),X&&X!==this&&X.onMouseOut(),this.options.events.mouseOver&&w(this,"mouseOver"),this.setState("hover"),U.hoverSeries=this},Q.prototype.onMouseOut=function(){var U=this.options,X=this.chart,G=X.tooltip,Z=X.hoverPoint;X.hoverSeries=null,Z&&Z.onMouseOut(),this&&U.events.mouseOut&&w(this,"mouseOut"),!G||this.stickyTracking||G.shared&&!this.noSharedTooltip||G.hide(),X.series.forEach(function(J){J.setState("",!0)})},Q.prototype.setState=function(U,X){var G=this,Z=G.options,J=G.graph,et=Z.inactiveOtherPoints,nt=Z.states,at=M(nt[U||"normal"]&&nt[U||"normal"].animation,G.chart.options.chart.animation),st=Z.lineWidth,mt=0,wt=Z.opacity;if(U=U||"",G.state!==U&&([G.group,G.markerGroup,G.dataLabelsGroup].forEach(function(yt){yt&&(G.state&&yt.removeClass("highcharts-series-"+G.state),U&&yt.addClass("highcharts-series-"+U))}),G.state=U,!G.chart.styledMode)){if(nt[U]&&nt[U].enabled===!1)return;if(U&&(st=nt[U].lineWidth||st+(nt[U].lineWidthPlus||0),wt=M(nt[U].opacity,wt)),J&&!J.dashstyle&&F(st))for(Z={"stroke-width":st},J.animate(Z,at);G["zone-graph-"+mt];)G["zone-graph-"+mt].animate(Z,at),mt+=1;et||[G.group,G.markerGroup,G.dataLabelsGroup,G.labelBySeries].forEach(function(yt){yt&&yt.animate({opacity:wt},at)})}X&&et&&G.points&&G.setAllPointsToState(U||void 0)},Q.prototype.setAllPointsToState=function(U){this.points.forEach(function(X){X.setState&&X.setState(U)})},Q.prototype.setVisible=function(U,X){var G=this,Z=G.chart,J=Z.options.chart.ignoreHiddenSeries,et=G.visible,nt=(G.visible=U=G.options.visible=G.userOptions.visible=typeof U>"u"?!et:U)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){G[at]&&G[at][nt]()}),(Z.hoverSeries===G||(Z.hoverPoint&&Z.hoverPoint.series)===G)&&G.onMouseOut(),G.legendItem&&Z.legend.colorizeItem(G,U),G.isDirty=!0,G.options.stacking&&Z.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),G.linkedSeries.forEach(function(at){at.setVisible(U,!1)}),J&&(Z.isDirtyBox=!0),w(G,nt),X!==!1&&Z.redraw()},Q.prototype.show=function(){this.setVisible(!0)},Q.prototype.hide=function(){this.setVisible(!1)},Q.prototype.select=function(U){this.selected=U=this.options.selected=typeof U>"u"?!this.selected:U,this.checkbox&&(this.checkbox.checked=U),w(this,U?"select":"unselect")},Q.prototype.shouldShowTooltip=function(U,X,G){return G===void 0&&(G={}),G.series=this,G.visiblePlotOnly=!0,this.chart.isInsidePlot(U,X,G)},Q.defaultOptions=f,Q.types=v.seriesTypes,Q.registerType=v.registerSeriesType,Q}(),y(i.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:c.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:h,requireSorting:!0,sorted:!0}),v.series=i,i}),n(r,"Extensions/ScrollablePlotArea.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/Series/Series.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){var f=i.stop,v=h.addEvent,g=h.createElement,x=h.defined,m=h.merge,E=h.pick;v(a,"afterSetChartSize",function(R){var C=this.options.chart.scrollablePlotArea,_=C&&C.minWidth;if(C=C&&C.minHeight,!this.renderer.forExport){if(_){if(this.scrollablePixelsX=_=Math.max(0,_-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=m(this.plotBox),this.plotBox.width=this.plotWidth+=_,this.inverted?this.clipBox.height+=_:this.clipBox.width+=_;var T={1:{name:"right",value:_}}}}else C&&(this.scrollablePixelsY=_=Math.max(0,C-this.chartHeight),x(_)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=m(this.plotBox),this.plotBox.height=this.plotHeight+=_,this.inverted?this.clipBox.width+=_:this.clipBox.height+=_,T={2:{name:"bottom",value:_}}));T&&!R.skipAxes&&this.axes.forEach(function(L){T[L.side]?L.getPlotLinePath=function(){var j=T[L.side].name,z=this[j];this[j]=z-T[L.side].value;var $=o.prototype.getPlotLinePath.apply(this,arguments);return this[j]=z,$}:(L.setAxisSize(),L.setAxisTranslation())})}}),v(a,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),a.prototype.setUpScrolling=function(){var R=this,C={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(C.overflowX="auto"),this.scrollablePixelsY&&(C.overflowY="auto"),this.scrollingParent=g("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=g("div",{className:"highcharts-scrolling"},C,this.scrollingParent);var _;v(this.scrollingContainer,"scroll",function(){R.pointer&&(delete R.pointer.chartPosition,R.hoverPoint&&(_=R.hoverPoint),R.pointer.runPointActions(void 0,_,!0))}),this.innerContainer=g("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},a.prototype.moveFixedElements=function(){var R=this.container,C=this.fixedRenderer,_=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),T;this.scrollablePixelsX&&!this.inverted?T=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?T=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(T=".highcharts-yaxis"),T&&_.push(""+T+":not(.highcharts-radial-axis)",""+T+"-labels:not(.highcharts-radial-axis-labels)"),_.forEach(function(L){[].forEach.call(R.querySelectorAll(L),function(j){(j.namespaceURI===C.SVG_NS?C.box:C.box.parentNode).appendChild(j),j.style.pointerEvents="auto"})})},a.prototype.applyFixed=function(){var R=!this.fixedDiv,C=this.options.chart,_=C.scrollablePlotArea,T=c.getRendererType();R?(this.fixedDiv=g("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(C.style&&C.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=C=new T(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=C.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":E(_.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),v(this,"afterShowResetZoom",this.moveFixedElements),v(this,"afterApplyDrilldown",this.moveFixedElements),v(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||R)&&(this.scrollableDirty=!1,this.moveFixedElements()),C=this.chartWidth+(this.scrollablePixelsX||0),T=this.chartHeight+(this.scrollablePixelsY||0),f(this.container),this.container.style.width=C+"px",this.container.style.height=T+"px",this.renderer.boxWrapper.attr({width:C,height:T,viewBox:[0,0,C,T].join(" ")}),this.chartBackground.attr({width:C,height:T}),this.scrollingContainer.style.height=this.chartHeight+"px",R&&(_.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*_.scrollPositionX),_.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*_.scrollPositionY)),T=this.axisOffset,R=this.plotTop-T[0]-1,_=this.plotLeft-T[3]-1,C=this.plotTop+this.plotHeight+T[2]+1,T=this.plotLeft+this.plotWidth+T[1]+1;var L=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),j=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);R=this.scrollablePixelsX?[["M",0,R],["L",this.plotLeft-1,R],["L",this.plotLeft-1,C],["L",0,C],["Z"],["M",L,R],["L",this.chartWidth,R],["L",this.chartWidth,C],["L",L,C],["Z"]]:this.scrollablePixelsY?[["M",_,0],["L",_,this.plotTop-1],["L",T,this.plotTop-1],["L",T,0],["Z"],["M",_,j],["L",_,this.chartHeight],["L",T,this.chartHeight],["L",T,j],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:R})},v(o,"afterInit",function(){this.chart.scrollableDirty=!0}),v(u,"show",function(){this.chart.scrollableDirty=!0})}),n(r,"Core/Axis/Stacking/StackItem.js",[r["Core/FormatUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.format,c=o.series,h=a.destroyObjectProperties,f=a.pick,v=a.isNumber;return i=function(){function g(x,m,E,R,C){var _=x.chart.inverted,T=x.reversed;this.axis=x,x=this.isNegative=!!E!=!!T,this.options=m=m||{},this.x=R,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=C,this.rightCliff=this.leftCliff=0,this.alignOptions={align:m.align||(_?x?"left":"right":"center"),verticalAlign:m.verticalAlign||(_?"middle":x?"bottom":"top"),y:m.y,x:m.x},this.textAlign=m.textAlign||(_?x?"right":"left":"center")}return g.prototype.destroy=function(){h(this,this.axis)},g.prototype.render=function(x){var m=this.axis.chart,E=this.options,R=E.format;R=R?u(R,this,m):E.formatter.call(this),this.label?this.label.attr({text:R,visibility:"hidden"}):(this.label=m.renderer.label(R,null,void 0,E.shape,void 0,void 0,E.useHTML,!1,"stack-labels"),R={r:E.borderRadius||0,text:R,padding:f(E.padding,5),visibility:"hidden"},m.styledMode||(R.fill=E.backgroundColor,R.stroke=E.borderColor,R["stroke-width"]=E.borderWidth,this.label.css(E.style||{})),this.label.attr(R),this.label.added||this.label.add(x)),this.label.labelrank=m.plotSizeY},g.prototype.setOffset=function(x,m,E,R,C,_){var T=this.alignOptions,L=this.axis,j=this.label,z=this.options,$=this.textAlign,D=L.chart;x=this.getStackBox({xOffset:x,width:m,boxBottom:E,boxTop:R,defaultX:C,xAxis:_}),C=T.verticalAlign,j&&x&&(m=j.getBBox(),E=j.padding,R=f(z.overflow,"justify")==="justify",T.x=z.x||0,T.y=z.y||0,C=this.adjustStackPosition({labelBox:m,verticalAlign:C,textAlign:$}),$=C.x,C=C.y,x.x-=$,x.y-=C,j.align(T,!1,x),($=D.isInsidePlot(j.alignAttr.x+T.x+$,j.alignAttr.y+T.y+C))||(R=!1),R&&c.prototype.justifyDataLabel.call(L,j,T,j.alignAttr,m,x),j.attr({x:j.alignAttr.x,y:j.alignAttr.y,rotation:z.rotation,rotationOriginX:m.width/2,rotationOriginY:m.height/2}),f(!R&&z.crop,!0)&&($=v(j.x)&&v(j.y)&&D.isInsidePlot(j.x-E+j.width,j.y)&&D.isInsidePlot(j.x+E,j.y)),j[$?"show":"hide"]())},g.prototype.adjustStackPosition=function(x){var m=x.labelBox,E={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:m.width/2+m.width/2*E[x.textAlign],y:m.height/2*E[x.verticalAlign]}},g.prototype.getStackBox=function(x){var m=this.axis,E=m.chart,R=x.boxTop,C=x.defaultX,_=x.xOffset,T=x.width,L=x.boxBottom;return R=m.stacking.usePercentage?100:f(R,this.total,0),R=m.toPixels(R),x=f(C,(x.xAxis||E.xAxis[0]).toPixels(this.x))+_,m=m.toPixels(L||0),m=Math.abs(R-m),L=this.isNegative,E.inverted?{x:(L?R:R-m)-E.plotLeft,y:x-E.plotTop,width:m,height:T}:{x:x-E.plotLeft,y:(L?R-m:R)-E.plotTop,width:T,height:m}},g}(),i}),n(r,"Core/Axis/Stacking/StackingAxis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){function h(){var y=this,d=y.inverted;y.yAxis.forEach(function(w){w.stacking&&w.stacking.stacks&&w.hasVisibleSeries&&(w.stacking.oldStacks=w.stacking.stacks)}),y.series.forEach(function(w){var O=w.xAxis&&w.xAxis.options||{};!w.options.stacking||w.visible!==!0&&y.options.chart.ignoreHiddenSeries!==!1||(w.stackKey=[w.type,A(w.options.stack,""),d?O.top:O.left,d?O.height:O.width].join())})}function f(){var y=this.stacking;if(y){var d=y.stacks;I(d,function(w,O){z(w),d[O]=null}),y&&y.stackTotalGroup&&y.stackTotalGroup.destroy()}}function v(){this.coll!=="yAxis"||this.stacking||(this.stacking=new k(this))}function g(y,d,w,O){return!j(y)||y.x!==d||O&&y.stackKey!==O?y={x:d,index:0,key:O,stackKey:O}:y.index++,y.key=[w,d,y.index].join(),y}function x(){var y=this,d=y.stackKey,w=y.yAxis.stacking.stacks,O=y.processedXData,S=y[y.options.stacking+"Stacker"],F;S&&[d,"-"+d].forEach(function(V){for(var K=O.length,Y,M;K--;)Y=O[K],F=y.getStackIndicator(F,Y,y.index,V),(M=(Y=w[V]&&w[V][Y])&&Y.points[F.key])&&S.call(y,M,Y,K)})}function m(y,d,w){d=d.total?100/d.total:0,y[0]=L(y[0]*d),y[1]=L(y[1]*d),this.stackedYData[w]=y[1]}function E(){var y=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?_.setStackedPoints.call(this,"group"):y&&I(y.stacks,function(d,w){w.slice(-5)==="group"&&(I(d,function(O){return O.destroy()}),delete y.stacks[w])})}function R(y){var d=this.chart,w=y||this.options.stacking;if(w&&(this.visible===!0||d.options.chart.ignoreHiddenSeries===!1)){var O=this.processedXData,S=this.processedYData,F=[],V=S.length,K=this.options,Y=K.threshold,M=A(K.startFromThreshold&&Y,0);K=K.stack,y=y?""+this.type+",".concat(w):this.stackKey;var B="-"+y,H=this.negStacks;d=w==="group"?d.yAxis[0]:this.yAxis;var q=d.stacking.stacks,Q=d.stacking.oldStacks,U,X;for(d.stacking.stacksTouched+=1,X=0;X<V;X++){var G=O[X],Z=S[X],J=this.getStackIndicator(J,G,this.index),et=J.key,nt=(U=H&&Z<(M?0:Y))?B:y;q[nt]||(q[nt]={}),q[nt][G]||(Q[nt]&&Q[nt][G]?(q[nt][G]=Q[nt][G],q[nt][G].total=null):q[nt][G]=new u(d,d.options.stackLabels,!!U,G,K)),nt=q[nt][G],Z!==null?(nt.points[et]=nt.points[this.index]=[A(nt.cumulative,M)],j(nt.cumulative)||(nt.base=et),nt.touched=d.stacking.stacksTouched,0<J.index&&this.singleStacks===!1&&(nt.points[et][0]=nt.points[this.index+","+G+",0"][0])):nt.points[et]=nt.points[this.index]=null,w==="percent"?(U=U?y:B,H&&q[U]&&q[U][G]?(U=q[U][G],nt.total=U.total=Math.max(U.total,nt.total)+Math.abs(Z)||0):nt.total=L(nt.total+(Math.abs(Z)||0))):w==="group"?(D(Z)&&(Z=Z[0]),Z!==null&&(nt.total=(nt.total||0)+1)):nt.total=L(nt.total+(Z||0)),nt.cumulative=w==="group"?(nt.total||1)-1:A(nt.cumulative,M)+(Z||0),Z!==null&&(nt.points[et].push(nt.cumulative),F[X]=nt.cumulative,nt.hasValidPoints=!0)}w==="percent"&&(d.stacking.usePercentage=!0),w!=="group"&&(this.stackedYData=F),d.stacking.oldStacks={}}}var C=i.getDeferredAnimation,_=a.series.prototype,T=c.addEvent,L=c.correctFloat,j=c.defined,z=c.destroyObjectProperties,$=c.fireEvent,D=c.isArray,P=c.isNumber,I=c.objectEach,A=c.pick,k=function(){function y(d){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=d}return y.prototype.buildStacks=function(){var d=this.axis,w=d.series,O=d.options.reversedStacks,S=w.length,F;for(this.usePercentage=!1,F=S;F--;){var V=w[O?F:S-F-1];V.setStackedPoints(),V.setGroupedPoints()}for(F=0;F<S;F++)w[F].modifyStacks();$(d,"afterBuildStacks")},y.prototype.cleanStacks=function(){if(this.oldStacks)var d=this.stacks=this.oldStacks;I(d,function(w){I(w,function(O){O.cumulative=O.total})})},y.prototype.resetStacks=function(){var d=this;I(this.stacks,function(w){I(w,function(O,S){P(O.touched)&&O.touched<d.stacksTouched?(O.destroy(),delete w[S]):(O.total=null,O.cumulative=null)})})},y.prototype.renderStackTotals=function(){var d=this.axis,w=d.chart,O=w.renderer,S=this.stacks;d=C(w,d.options.stackLabels&&d.options.stackLabels.animation||!1);var F=this.stackTotalGroup=this.stackTotalGroup||O.g("stack-labels").attr({zIndex:6,opacity:0}).add();F.translate(w.plotLeft,w.plotTop),I(S,function(V){I(V,function(K){K.render(F)})}),F.animate({opacity:1},d)},y}(),b;return function(y){var d=[];y.compose=function(w,O,S){d.indexOf(w)===-1&&(d.push(w),T(w,"init",v),T(w,"destroy",f)),d.indexOf(O)===-1&&(d.push(O),O.prototype.getStacks=h),d.indexOf(S)===-1&&(d.push(S),w=S.prototype,w.getStackIndicator=g,w.modifyStacks=x,w.percentStacker=m,w.setGroupedPoints=E,w.setStackedPoints=R)}}(b||(b={})),b}),n(r,"Series/Line/LineSeries.js",[r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var f=function(v,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,m){x.__proto__=m}||function(x,m){for(var E in m)m.hasOwnProperty(E)&&(x[E]=m[E])},f(v,g)};return function(v,g){function x(){this.constructor=v}f(v,g),v.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}(),c=a.defined,h=a.merge;return a=function(f){function v(){var g=f!==null&&f.apply(this,arguments)||this;return g.data=void 0,g.options=void 0,g.points=void 0,g}return u(v,f),v.prototype.drawGraph=function(){var g=this,x=this.options,m=(this.gappedPath||this.getGraphPath).call(this),E=this.chart.styledMode,R=[["graph","highcharts-graph"]];E||R[0].push(x.lineColor||this.color||"#cccccc",x.dashStyle),R=g.getZonesGraphs(R),R.forEach(function(C,_){var T=C[0],L=g[T],j=L?"animate":"attr";L?(L.endX=g.preventGraphAnimation?null:m.xMap,L.animate({d:m})):m.length&&(g[T]=L=g.chart.renderer.path(m).addClass(C[1]).attr({zIndex:1}).add(g.group)),L&&!E&&(T={stroke:C[2],"stroke-width":x.lineWidth||0,fill:g.fillGraph&&g.color||"none"},C[3]?T.dashstyle=C[3]:x.linecap!=="square"&&(T["stroke-linecap"]=T["stroke-linejoin"]="round"),L[j](T).shadow(2>_&&x.shadow)),L&&(L.startX=m.xMap,L.isArea=m.isArea)})},v.prototype.getGraphPath=function(g,x,m){var E=this,R=E.options,C=[],_=[],T,L=R.step;g=g||E.points;var j=g.reversed;return j&&g.reverse(),(L={right:1,center:2}[L]||L&&3)&&j&&(L=4-L),g=this.getValidPoints(g,!1,!(R.connectNulls&&!x&&!m)),g.forEach(function(z,$){var D=z.plotX,P=z.plotY,I=g[$-1];(z.leftCliff||I&&I.rightCliff)&&!m&&(T=!0),z.isNull&&!c(x)&&0<$?T=!R.connectNulls:z.isNull&&!x?T=!0:($===0||T?$=[["M",z.plotX,z.plotY]]:E.getPointSpline?$=[E.getPointSpline(g,z,$)]:L?($=L===1?[["L",I.plotX,P]]:L===2?[["L",(I.plotX+D)/2,I.plotY],["L",(I.plotX+D)/2,P]]:[["L",D,I.plotY]],$.push(["L",D,P])):$=[["L",D,P]],_.push(z.x),L&&(_.push(z.x),L===2&&_.push(z.x)),C.push.apply(C,$),T=!1)}),C.xMap=_,E.graphPath=C},v.prototype.getZonesGraphs=function(g){return this.zones.forEach(function(x,m){m=["zone-graph-"+m,"highcharts-graph highcharts-zone-graph-"+m+" "+(x.className||"")],this.chart.styledMode||m.push(x.color||this.color,x.dashStyle||this.options.dashStyle),g.push(m)},this),g},v.defaultOptions=h(i.defaultOptions,{}),v}(i),o.registerSeriesType("line",a),a}),n(r,"Series/Area/AreaSeries.js",[r["Core/Color/Color.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var m=function(E,R){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,_){C.__proto__=_}||function(C,_){for(var T in _)_.hasOwnProperty(T)&&(C[T]=_[T])},m(E,R)};return function(E,R){function C(){this.constructor=E}m(E,R),E.prototype=R===null?Object.create(R):(C.prototype=R.prototype,new C)}}(),h=i.parse,f=a.seriesTypes.line;i=u.extend;var v=u.merge,g=u.objectEach,x=u.pick;return u=function(m){function E(){var R=m!==null&&m.apply(this,arguments)||this;return R.data=void 0,R.options=void 0,R.points=void 0,R}return c(E,m),E.prototype.drawGraph=function(){this.areaPath=[],m.prototype.drawGraph.apply(this);var R=this,C=this.areaPath,_=this.options,T=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(L,j){T.push(["zone-area-"+j,"highcharts-area highcharts-zone-area-"+j+" "+L.className,L.color||R.color,L.fillColor||_.fillColor])}),T.forEach(function(L){var j=L[0],z={},$=R[j],D=$?"animate":"attr";$?($.endX=R.preventGraphAnimation?null:C.xMap,$.animate({d:C})):(z.zIndex=0,$=R[j]=R.chart.renderer.path(C).addClass(L[1]).add(R.group),$.isArea=!0),R.chart.styledMode||(z.fill=x(L[3],h(L[2]).setOpacity(x(_.fillOpacity,.75)).get())),$[D](z),$.startX=C.xMap,$.shiftUnit=_.step?2:1})},E.prototype.getGraphPath=function(R){var C=f.prototype.getGraphPath,_=this.options,T=_.stacking,L=this.yAxis,j=[],z=[],$=this.index,D=L.stacking.stacks[this.stackKey],P=_.threshold,I=Math.round(L.getThreshold(_.threshold));_=x(_.connectNulls,T==="percent");var A=function(O,S,F){var V=R[O];O=T&&D[V.x].points[$];var K=V[F+"Null"]||0;if(F=V[F+"Cliff"]||0,V=!0,F||K){var Y=(K?O[0]:O[1])+F,M=O[0]+F;V=!!K}else!T&&R[S]&&R[S].isNull&&(Y=M=P);typeof Y<"u"&&(z.push({plotX:d,plotY:Y===null?I:L.getThreshold(Y),isNull:V,isCliff:!0}),j.push({plotX:d,plotY:M===null?I:L.getThreshold(M),doCurve:!1}))};R=R||this.points,T&&(R=this.getStackPoints(R));for(var k=0,b=R.length;k<b;++k){T||(R[k].leftCliff=R[k].rightCliff=R[k].leftNull=R[k].rightNull=void 0);var y=R[k].isNull,d=x(R[k].rectPlotX,R[k].plotX),w=T?x(R[k].yBottom,I):I;(!y||_)&&(_||A(k,k-1,"left"),y&&!T&&_||(z.push(R[k]),j.push({x:k,plotX:d,plotY:w})),_||A(k,k+1,"right"))}return A=C.call(this,z,!0,!0),j.reversed=!0,y=C.call(this,j,!0,!0),(w=y[0])&&w[0]==="M"&&(y[0]=["L",w[1],w[2]]),y=A.concat(y),y.length&&y.push(["Z"]),C=C.call(this,z,!1,_),y.xMap=A.xMap,this.areaPath=y,C},E.prototype.getStackPoints=function(R){var C=this,_=[],T=[],L=this.xAxis,j=this.yAxis,z=j.stacking.stacks[this.stackKey],$={},D=j.series,P=D.length,I=j.options.reversedStacks?1:-1,A=D.indexOf(C);if(R=R||this.points,this.options.stacking){for(var k=0;k<R.length;k++)R[k].leftNull=R[k].rightNull=void 0,$[R[k].x]=R[k];g(z,function(y,d){y.total!==null&&T.push(d)}),T.sort(function(y,d){return y-d});var b=D.map(function(y){return y.visible});T.forEach(function(y,d){var w=0,O,S;if($[y]&&!$[y].isNull)_.push($[y]),[-1,1].forEach(function(V){var K=V===1?"rightNull":"leftNull",Y=z[T[d+V]],M=0;if(Y)for(var B=A;0<=B&&B<P;){var H=D[B].index;O=Y.points[H],O||(H===C.index?$[y][K]=!0:b[B]&&(S=z[y].points[H])&&(M-=S[1]-S[0])),B+=I}$[y][V===1?"rightCliff":"leftCliff"]=M});else{for(var F=A;0<=F&&F<P;){if(O=z[y].points[D[F].index]){w=O[1];break}F+=I}w=x(w,0),w=j.translate(w,0,1,0,1),_.push({isNull:!0,plotX:L.translate(y,0,0,0,1),x:y,plotY:w,yBottom:w})}})}return _},E.defaultOptions=v(f.defaultOptions,{threshold:0}),E}(f),i(u.prototype,{singleStacks:!1,drawLegendSymbol:o.drawRectangle}),a.registerSeriesType("area",u),u}),n(r,"Series/Spline/SplineSeries.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o){var a=this&&this.__extends||function(){var f=function(v,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,m){x.__proto__=m}||function(x,m){for(var E in m)m.hasOwnProperty(E)&&(x[E]=m[E])},f(v,g)};return function(v,g){function x(){this.constructor=v}f(v,g),v.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}(),u=i.seriesTypes.line,c=o.merge,h=o.pick;return o=function(f){function v(){var g=f!==null&&f.apply(this,arguments)||this;return g.data=void 0,g.options=void 0,g.points=void 0,g}return a(v,f),v.prototype.getPointSpline=function(g,x,m){var E=x.plotX||0,R=x.plotY||0,C=g[m-1];if(m=g[m+1],C&&!C.isNull&&C.doCurve!==!1&&!x.isCliff&&m&&!m.isNull&&m.doCurve!==!1&&!x.isCliff){g=C.plotY||0;var _=m.plotX||0;m=m.plotY||0;var T=0,L=(1.5*E+(C.plotX||0))/2.5,j=(1.5*R+g)/2.5;_=(1.5*E+_)/2.5;var z=(1.5*R+m)/2.5;_!==L&&(T=(z-j)*(_-E)/(_-L)+R-z),j+=T,z+=T,j>g&&j>R?(j=Math.max(g,R),z=2*R-j):j<g&&j<R&&(j=Math.min(g,R),z=2*R-j),z>m&&z>R?(z=Math.max(m,R),j=2*R-z):z<m&&z<R&&(z=Math.min(m,R),j=2*R-z),x.rightContX=_,x.rightContY=z}return x=["C",h(C.rightContX,C.plotX,0),h(C.rightContY,C.plotY,0),h(L,E,0),h(j,R,0),E,R],C.rightContX=C.rightContY=void 0,x},v.defaultOptions=c(u.defaultOptions),v}(u),i.registerSeriesType("spline",o),o}),n(r,"Series/AreaSpline/AreaSplineSeries.js",[r["Series/Spline/SplineSeries.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var x=function(m,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,C){R.__proto__=C}||function(R,C){for(var _ in C)C.hasOwnProperty(_)&&(R[_]=C[_])},x(m,E)};return function(m,E){function R(){this.constructor=m}x(m,E),m.prototype=E===null?Object.create(E):(R.prototype=E.prototype,new R)}}(),h=a.seriesTypes,f=h.area;h=h.area.prototype;var v=u.extend,g=u.merge;return u=function(x){function m(){var E=x!==null&&x.apply(this,arguments)||this;return E.data=void 0,E.points=void 0,E.options=void 0,E}return c(m,x),m.defaultOptions=g(i.defaultOptions,f.defaultOptions),m}(i),v(u.prototype,{getGraphPath:h.getGraphPath,getStackPoints:h.getStackPoints,drawGraph:h.drawGraph,drawLegendSymbol:o.drawRectangle}),a.registerSeriesType("areaspline",u),u}),n(r,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),n(r,"Series/Column/ColumnSeries.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Series/Column/ColumnSeriesDefaults.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v){var g=this&&this.__extends||function(){var P=function(I,A){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,b){k.__proto__=b}||function(k,b){for(var y in b)b.hasOwnProperty(y)&&(k[y]=b[y])},P(I,A)};return function(I,A){function k(){this.constructor=I}P(I,A),I.prototype=A===null?Object.create(A):(k.prototype=A.prototype,new k)}}(),x=i.animObject,m=o.parse,E=u.hasTouch;i=u.noop;var R=v.clamp,C=v.defined,_=v.extend,T=v.fireEvent,L=v.isArray,j=v.isNumber,z=v.merge,$=v.pick,D=v.objectEach;return v=function(P){function I(){var A=P!==null&&P.apply(this,arguments)||this;return A.borderWidth=void 0,A.data=void 0,A.group=void 0,A.options=void 0,A.points=void 0,A}return g(I,P),I.prototype.animate=function(A){var k=this,b=this.yAxis,y=k.options,d=this.chart.inverted,w={},O=d?"translateX":"translateY";if(A)w.scaleY=.001,A=R(b.toPixels(y.threshold),b.pos,b.pos+b.len),d?w.translateX=A-b.len:w.translateY=A,k.clipBox&&k.setClip(),k.group.attr(w);else{var S=Number(k.group.attr(O));k.group.animate({scaleY:1},_(x(k.options.animation),{step:function(F,V){k.group&&(w[O]=S+V.pos*(b.pos-S),k.group.attr(w))}}))}},I.prototype.init=function(A,k){P.prototype.init.apply(this,arguments);var b=this;A=b.chart,A.hasRendered&&A.series.forEach(function(y){y.type===b.type&&(y.isDirty=!0)})},I.prototype.getColumnMetrics=function(){var A=this,k=A.options,b=A.xAxis,y=A.yAxis,d=b.options.reversedStacks;d=b.reversed&&!d||!b.reversed&&d;var w={},O,S=0;k.grouping===!1?S=1:A.chart.series.forEach(function(Y){var M=Y.yAxis,B=Y.options;if(Y.type===A.type&&(Y.visible||!A.chart.options.chart.ignoreHiddenSeries)&&y.len===M.len&&y.pos===M.pos){if(B.stacking&&B.stacking!=="group"){O=Y.stackKey,typeof w[O]>"u"&&(w[O]=S++);var H=w[O]}else B.grouping!==!1&&(H=S++);Y.columnIndex=H}});var F=Math.min(Math.abs(b.transA)*(b.ordinal&&b.ordinal.slope||k.pointRange||b.closestPointRange||b.tickInterval||1),b.len),V=F*k.groupPadding,K=(F-2*V)/(S||1);return k=Math.min(k.maxPointWidth||b.len,$(k.pointWidth,K*(1-2*k.pointPadding))),A.columnMetrics={width:k,offset:(K-k)/2+(V+((A.columnIndex||0)+(d?1:0))*K-F/2)*(d?-1:1),paddedWidth:K,columnCount:S},A.columnMetrics},I.prototype.crispCol=function(A,k,b,y){var d=this.chart,w=this.borderWidth,O=-(w%2?.5:0);return w=w%2?.5:1,d.inverted&&d.renderer.isVML&&(w+=1),this.options.crisp&&(b=Math.round(A+b)+O,A=Math.round(A)+O,b-=A),y=Math.round(k+y)+w,O=.5>=Math.abs(k)&&.5<y,k=Math.round(k)+w,y-=k,O&&y&&(--k,y+=1),{x:A,y:k,width:b,height:y}},I.prototype.adjustForMissingColumns=function(A,k,b,y){var d=this,w=this.options.stacking;if(!b.isNull&&1<y.columnCount){var O=this.yAxis.options.reversedStacks,S=0,F=O?0:-y.columnCount;D(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(V){if(typeof b.x=="number"){var K=V[b.x.toString()];K&&(V=K.points[d.index],w?(V&&(S=F),K.hasValidPoints&&(O?F++:F--)):L(V)&&(V=Object.keys(K.points).filter(function(Y){return!Y.match(",")&&K.points[Y]&&1<K.points[Y].length}).map(parseFloat).sort(function(Y,M){return M-Y}),S=V.indexOf(d.index),F=V.length))}}),A=(b.plotX||0)+((F-1)*y.paddedWidth+k)/2-k-S*y.paddedWidth}return A},I.prototype.translate=function(){var A=this,k=A.chart,b=A.options,y=A.dense=2>A.closestPointRange*A.xAxis.transA;y=A.borderWidth=$(b.borderWidth,y?0:1);var d=A.xAxis,w=A.yAxis,O=b.threshold,S=A.translatedThreshold=w.getThreshold(O),F=$(b.minPointLength,5),V=A.getColumnMetrics(),K=V.width,Y=A.pointXOffset=V.offset,M=A.dataMin,B=A.dataMax,H=A.barW=Math.max(K,1+2*y);k.inverted&&(S-=.5),b.pointPadding&&(H=Math.ceil(H)),h.prototype.translate.apply(A),A.points.forEach(function(q){var Q=$(q.yBottom,S),U=999+Math.abs(Q),X=q.plotX||0;U=R(q.plotY,-U,w.len+U);var G=Math.min(U,Q),Z=Math.max(U,Q)-G,J=K,et=X+Y,nt=H;F&&Math.abs(Z)<F&&(Z=F,X=!w.reversed&&!q.negative||w.reversed&&q.negative,j(O)&&j(B)&&q.y===O&&B<=O&&(w.min||0)<O&&(M!==B||(w.max||0)<=O)&&(X=!X),G=Math.abs(G-S)>F?Q-F:S-(X?F:0)),C(q.options.pointWidth)&&(J=nt=Math.ceil(q.options.pointWidth),et-=Math.round((J-K)/2)),b.centerInCategory&&(et=A.adjustForMissingColumns(et,J,q,V)),q.barX=et,q.pointWidth=J,q.tooltipPos=k.inverted?[R(w.len+w.pos-k.plotLeft-U,w.pos-k.plotLeft,w.len+w.pos-k.plotLeft),d.len+d.pos-k.plotTop-et-nt/2,Z]:[d.left-k.plotLeft+et+nt/2,R(U+w.pos-k.plotTop,w.pos-k.plotTop,w.len+w.pos-k.plotTop),Z],q.shapeType=A.pointClass.prototype.shapeType||"rect",q.shapeArgs=A.crispCol.apply(A,q.isNull?[et,S,nt,0]:[et,G,nt,Z])})},I.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},I.prototype.pointAttribs=function(A,k){var b=this.options,y=this.pointAttrToOptions||{},d=y.stroke||"borderColor",w=y["stroke-width"]||"borderWidth",O=A&&A.color||this.color,S=A&&A[d]||b[d]||O;y=A&&A.options.dashStyle||b.dashStyle;var F=A&&A[w]||b[w]||this[w]||0,V=$(A&&A.opacity,b.opacity,1);if(A&&this.zones.length){var K=A.getZone();O=A.options.color||K&&(K.color||A.nonZonedColor)||this.color,K&&(S=K.borderColor||S,y=K.dashStyle||y,F=K.borderWidth||F)}return k&&A&&(A=z(b.states[k],A.options.states&&A.options.states[k]||{}),k=A.brightness,O=A.color||typeof k<"u"&&m(O).brighten(A.brightness).get()||O,S=A[d]||S,F=A[w]||F,y=A.dashStyle||y,V=$(A.opacity,V)),d={fill:O,stroke:S,"stroke-width":F,opacity:V},y&&(d.dashstyle=y),d},I.prototype.drawPoints=function(A){A===void 0&&(A=this.points);var k=this,b=this.chart,y=k.options,d=b.renderer,w=y.animationLimit||250,O;A.forEach(function(S){var F=S.graphic,V=!!F,K=F&&b.pointCount<w?"animate":"attr";j(S.plotY)&&S.y!==null?(O=S.shapeArgs,F&&S.hasNewShapeType()&&(F=F.destroy()),k.enabledDataSorting&&(S.startXPos=k.xAxis.reversed?-(O&&O.width||0):k.xAxis.width),F||(S.graphic=F=d[S.shapeType](O).add(S.group||k.group))&&k.enabledDataSorting&&b.hasRendered&&b.pointCount<w&&(F.attr({x:S.startXPos}),V=!0,K="animate"),F&&V&&F[K](z(O)),y.borderRadius&&F[K]({r:y.borderRadius}),b.styledMode||F[K](k.pointAttribs(S,S.selected&&"select")).shadow(S.allowShadow!==!1&&y.shadow,null,y.stacking&&!y.borderRadius),F&&(F.addClass(S.getClassName(),!0),F.attr({visibility:S.visible?"inherit":"hidden"}))):F&&(S.graphic=F.destroy())})},I.prototype.drawTracker=function(A){A===void 0&&(A=this.points);var k=this,b=k.chart,y=b.pointer,d=function(O){var S=y.getPointFromEvent(O);typeof S<"u"&&(y.isDirectTouch=!0,S.onMouseOver(O))},w;A.forEach(function(O){w=L(O.dataLabels)?O.dataLabels:O.dataLabel?[O.dataLabel]:[],O.graphic&&(O.graphic.element.point=O),w.forEach(function(S){S.div?S.div.point=O:S.element.point=O})}),k._hasTracking||(k.trackerGroups.forEach(function(O){k[O]&&(k[O].addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(S){y.onTrackerMouseOut(S)}),E&&k[O].on("touchstart",d),!b.styledMode&&k.options.cursor&&k[O].css({cursor:k.options.cursor}))}),k._hasTracking=!0),T(this,"afterDrawTracker")},I.prototype.remove=function(){var A=this,k=A.chart;k.hasRendered&&k.series.forEach(function(b){b.type===A.type&&(b.isDirty=!0)}),h.prototype.remove.apply(A,arguments)},I.defaultOptions=z(h.defaultOptions,a),I}(h),_(v.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:c.drawRectangle,getSymbol:i,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),f.registerSeriesType("column",v),v}),n(r,"Core/Series/DataLabel.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.getDeferredAnimation,c=o.format,h=a.defined,f=a.extend,v=a.fireEvent,g=a.isArray,x=a.isString,m=a.merge,E=a.objectEach,R=a.pick,C=a.splat,_;return function(T){function L(A,k,b,y,d){var w=this,O=this.chart,S=this.isCartesian&&O.inverted,F=this.enabledDataSorting,V=A.plotX,K=A.plotY,Y=b.rotation,M=b.align,B=h(V)&&h(K)&&O.isInsidePlot(V,Math.round(K),{inverted:S,paneCoordinates:!0,series:w});K=function(U){F&&w.xAxis&&!H&&w.setDataLabelStartPos(A,k,d,B,U)};var H=R(b.overflow,F?"none":"justify")==="justify";if(V=this.visible&&A.visible!==!1&&h(V)&&(A.series.forceDL||F&&!H||B||R(b.inside,!!this.options.stacking)&&y&&O.isInsidePlot(V,S?y.x+1:y.y+y.height-1,{inverted:S,paneCoordinates:!0,series:w})),S=A.pos(),V&&S){Y&&k.attr({align:M}),M=k.getBBox(!0);var q=[0,0],Q=O.renderer.fontMetrics(O.styledMode?void 0:b.style.fontSize,k).b;y=f({x:S[0],y:Math.round(S[1]),width:0,height:0},y),f(b,{width:M.width,height:M.height}),Y?(H=!1,q=O.renderer.rotCorr(Q,Y),Q={x:y.x+(b.x||0)+y.width/2+q.x,y:y.y+(b.y||0)+{top:0,middle:.5,bottom:1}[b.verticalAlign]*y.height},q=[M.x-Number(k.attr("x")),M.y-Number(k.attr("y"))],K(Q),k[d?"attr":"animate"](Q)):(K(y),k.align(b,void 0,y),Q=k.alignAttr),H&&0<=y.height?this.justifyDataLabel(k,b,Q,M,y,d):R(b.crop,!0)&&(y=Q.x,K=Q.y,y+=q[0],K+=q[1],V=O.isInsidePlot(y,K,{paneCoordinates:!0,series:w})&&O.isInsidePlot(y+M.width,K+M.height,{paneCoordinates:!0,series:w})),b.shape&&!Y&&k[d?"attr":"animate"]({anchorX:S[0],anchorY:S[1]})}d&&F&&(k.placed=!1),V||F&&!H?k.show():(k.hide(),k.placed=!1)}function j(A,k){var b=k.filter;return b?(k=b.operator,A=A[b.property],b=b.value,k===">"&&A>b||k==="<"&&A<b||k===">="&&A>=b||k==="<="&&A<=b||k==="=="&&A==b||k==="==="&&A===b):!0}function z(A){A===void 0&&(A=this.points);var k=this,b=k.chart,y=k.options,d=k.hasRendered||0,w=b.renderer,O=b.options.chart,S=O.backgroundColor;O=O.plotBackgroundColor;var F=w.getContrast(x(O)&&O||x(S)&&S||"#000000"),V=y.dataLabels,K;if(S=V.animation,S=V.defer?u(b,S,k):{defer:0,duration:0},V=D(D(b.options.plotOptions&&b.options.plotOptions.series&&b.options.plotOptions.series.dataLabels,b.options.plotOptions&&b.options.plotOptions[k.type]&&b.options.plotOptions[k.type].dataLabels),V),v(this,"drawDataLabels"),g(V)||V.enabled||k._hasPointLabels){var Y=k.plotGroup("dataLabelsGroup","data-labels",d?"inherit":"hidden",V.zIndex||6);Y.attr({opacity:+d}),!d&&(d=k.dataLabelsGroup)&&(k.visible&&Y.show(),d[y.animation?"animate":"attr"]({opacity:1},S)),A.forEach(function(M){K=C(D(V,M.dlOptions||M.options&&M.options.dataLabels)),K.forEach(function(B,H){var q=B.enabled&&(!M.isNull||M.dataLabelOnNull)&&j(M,B),Q=M.connectors?M.connectors[H]:M.connector,U=M.dataLabels?M.dataLabels[H]:M.dataLabel,X=!U,G=R(B.distance,M.labelDistance);if(q){var Z=M.getLabelConfig(),J=R(B[M.formatPrefix+"Format"],B.format);Z=h(J)?c(J,Z,b):(B[M.formatPrefix+"Formatter"]||B.formatter).call(Z,B),J=B.style;var et=B.rotation;b.styledMode||(J.color=R(B.color,J.color,k.color,"#000000"),J.color==="contrast"?(M.contrastColor=w.getContrast(M.color||k.color),J.color=!h(G)&&B.inside||0>G||y.stacking?M.contrastColor:F):delete M.contrastColor,y.cursor&&(J.cursor=y.cursor));var nt={r:B.borderRadius||0,rotation:et,padding:B.padding,zIndex:1};if(!b.styledMode){G=B.backgroundColor;var at=B.borderColor;nt.fill=G==="auto"?M.color:G,nt.stroke=at==="auto"?M.color:at,nt["stroke-width"]=B.borderWidth}E(nt,function(st,mt){typeof st>"u"&&delete nt[mt]})}!U||q&&h(Z)&&!!U.div==!!B.useHTML&&(U.rotation&&B.rotation||U.rotation===B.rotation)||(X=!0,M.dataLabel=U=M.dataLabel&&M.dataLabel.destroy(),M.dataLabels&&(M.dataLabels.length===1?delete M.dataLabels:delete M.dataLabels[H]),H||delete M.dataLabel,Q&&(M.connector=M.connector.destroy(),M.connectors&&(M.connectors.length===1?delete M.connectors:delete M.connectors[H]))),q&&h(Z)?(U?nt.text=Z:(M.dataLabels=M.dataLabels||[],U=M.dataLabels[H]=et?w.text(Z,0,0,B.useHTML).addClass("highcharts-data-label"):w.label(Z,0,0,B.shape,null,null,B.useHTML,null,"data-label"),H||(M.dataLabel=U),U.addClass(" highcharts-data-label-color-"+M.colorIndex+" "+(B.className||"")+(B.useHTML?" highcharts-tracker":""))),U.options=B,U.attr(nt),b.styledMode||U.css(J).shadow(B.shadow),(H=B[M.formatPrefix+"TextPath"]||B.textPath)&&!B.useHTML&&(U.setTextPath(M.getDataLabelPath&&M.getDataLabelPath(U)||M.graphic,H),M.dataLabelPath&&!H.enabled&&(M.dataLabelPath=M.dataLabelPath.destroy())),U.added||U.add(Y),k.alignDataLabel(M,U,B,null,X)):U&&U.hide()})})}v(this,"afterDrawDataLabels")}function $(A,k,b,y,d,w){var O=this.chart,S=k.align,F=k.verticalAlign,V=A.box?0:A.padding||0,K=k.x;K=K===void 0?0:K;var Y=k.y;Y=Y===void 0?0:Y;var M=(b.x||0)+V;if(0>M){S==="right"&&0<=K?(k.align="left",k.inside=!0):K-=M;var B=!0}return M=(b.x||0)+y.width-V,M>O.plotWidth&&(S==="left"&&0>=K?(k.align="right",k.inside=!0):K+=O.plotWidth-M,B=!0),M=b.y+V,0>M&&(F==="bottom"&&0<=Y?(k.verticalAlign="top",k.inside=!0):Y-=M,B=!0),M=(b.y||0)+y.height-V,M>O.plotHeight&&(F==="top"&&0>=Y?(k.verticalAlign="bottom",k.inside=!0):Y+=O.plotHeight-M,B=!0),B&&(k.x=K,k.y=Y,A.placed=!w,A.align(k,void 0,d)),B}function D(A,k){var b=[],y;if(g(A)&&!g(k))b=A.map(function(d){return m(d,k)});else if(g(k)&&!g(A))b=k.map(function(d){return m(A,d)});else if(g(A)||g(k))for(y=Math.max(A.length,k.length);y--;)b[y]=m(A[y],k[y]);else b=m(A,k);return b}function P(A,k,b,y,d){var w=this.chart,O=w.inverted,S=this.xAxis,F=S.reversed,V=O?k.height/2:k.width/2;A=(A=A.pointWidth)?A/2:0,k.startXPos=O?d.x:F?-V-A:S.width-V+A,k.startYPos=O?F?this.yAxis.height-V+A:-V-A:d.y,y?k.visibility==="hidden"&&(k.show(),k.attr({opacity:0}).animate({opacity:1})):k.attr({opacity:1}).animate({opacity:0},void 0,k.hide),w.hasRendered&&(b&&k.attr({x:k.startXPos,y:k.startYPos}),k.placed=!0)}var I=[];T.compose=function(A){if(I.indexOf(A)===-1){var k=A.prototype;I.push(A),k.alignDataLabel=L,k.drawDataLabels=z,k.justifyDataLabel=$,k.setDataLabelStartPos=P}}}(_||(_={})),_}),n(r,"Series/Column/ColumnDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=o.series,c=a.merge,h=a.pick,f;return function(v){function g(m,E,R,C,_){var T=this.chart.inverted,L=m.series,j=(L.xAxis?L.xAxis.len:this.chart.plotSizeX)||0;L=(L.yAxis?L.yAxis.len:this.chart.plotSizeY)||0;var z=m.dlBox||m.shapeArgs,$=h(m.below,m.plotY>h(this.translatedThreshold,L)),D=h(R.inside,!!this.options.stacking);z&&(C=c(z),0>C.y&&(C.height+=C.y,C.y=0),z=C.y+C.height-L,0<z&&z<C.height&&(C.height-=z),T&&(C={x:L-C.y-C.height,y:j-C.x-C.width,width:C.height,height:C.width}),D||(T?(C.x+=$?0:C.width,C.width=0):(C.y+=$?C.height:0,C.height=0))),R.align=h(R.align,!T||D?"center":$?"right":"left"),R.verticalAlign=h(R.verticalAlign,T||D?"middle":$?"top":"bottom"),u.prototype.alignDataLabel.call(this,m,E,R,C,_),R.inside&&m.contrastColor&&E.css({color:m.contrastColor})}var x=[];v.compose=function(m){i.compose(u),x.indexOf(m)===-1&&(x.push(m),m.prototype.alignDataLabel=g)}}(f||(f={})),f}),n(r,"Series/Bar/BarSeries.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var f=function(v,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,m){x.__proto__=m}||function(x,m){for(var E in m)m.hasOwnProperty(E)&&(x[E]=m[E])},f(v,g)};return function(v,g){function x(){this.constructor=v}f(v,g),v.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}(),c=a.extend,h=a.merge;return a=function(f){function v(){var g=f!==null&&f.apply(this,arguments)||this;return g.data=void 0,g.options=void 0,g.points=void 0,g}return u(v,f),v.defaultOptions=h(i.defaultOptions,{}),v}(i),c(a.prototype,{inverted:!0}),o.registerSeriesType("bar",a),a}),n(r,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),n(r,"Series/Scatter/ScatterSeries.js",[r["Series/Scatter/ScatterSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var x=function(m,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,C){R.__proto__=C}||function(R,C){for(var _ in C)C.hasOwnProperty(_)&&(R[_]=C[_])},x(m,E)};return function(m,E){function R(){this.constructor=m}x(m,E),m.prototype=E===null?Object.create(E):(R.prototype=E.prototype,new R)}}(),c=o.seriesTypes,h=c.column,f=c.line;c=a.addEvent;var v=a.extend,g=a.merge;return a=function(x){function m(){var E=x!==null&&x.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return u(m,x),m.prototype.applyJitter=function(){var E=this,R=this.options.jitter,C=this.points.length;R&&this.points.forEach(function(_,T){["x","y"].forEach(function(L,j){var z="plot"+L.toUpperCase();if(R[L]&&!_.isNull){var $=E[L+"Axis"],D=R[L]*$.transA;if($&&!$.isLog){var P=Math.max(0,_[z]-D);$=Math.min($.len,_[z]+D),j=1e4*Math.sin(T+j*C),_[z]=P+($-P)*(j-Math.floor(j)),L==="x"&&(_.clientX=_.plotX)}}})})},m.prototype.drawGraph=function(){this.options.lineWidth?x.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},m.defaultOptions=g(f.defaultOptions,i),m}(f),v(a.prototype,{drawTracker:h.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),c(a,"afterTranslate",function(){this.applyJitter()}),o.registerSeriesType("scatter",a),a}),n(r,"Series/CenteredUtilities.js",[r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.deg2rad,c=a.fireEvent,h=a.isNumber,f=a.pick,v=a.relativeLength,g;return function(x){x.getCenter=function(){var m=this.options,E=this.chart,R=2*(m.slicedOffset||0),C=E.plotWidth-2*R,_=E.plotHeight-2*R,T=m.center,L=Math.min(C,_),j=m.thickness,z=m.size,$=m.innerSize||0;for(typeof z=="string"&&(z=parseFloat(z)),typeof $=="string"&&($=parseFloat($)),m=[f(T[0],"50%"),f(T[1],"50%"),f(z&&0>z?void 0:m.size,"100%"),f($&&0>$?void 0:m.innerSize||0,"0%")],!E.angular||this instanceof o||(m[3]=0),T=0;4>T;++T)z=m[T],E=2>T||T===2&&/%$/.test(z),m[T]=v(z,[C,_,L,m[2]][T])+(E?R:0);return m[3]>m[2]&&(m[3]=m[2]),h(j)&&2*j<m[2]&&0<j&&(m[3]=m[2]-2*j),c(this,"afterGetCenter",{positions:m}),m},x.getStartAndEndRadians=function(m,E){return m=h(m)?m:0,E=h(E)&&E>m&&360>E-m?E:m+360,{start:u*(m+-90),end:u*(E+-90)}}}(g||(g={})),g}),n(r,"Series/Pie/PiePoint.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(i,o,a){var u=this&&this.__extends||function(){var m=function(E,R){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,_){C.__proto__=_}||function(C,_){for(var T in _)_.hasOwnProperty(T)&&(C[T]=_[T])},m(E,R)};return function(E,R){function C(){this.constructor=E}m(E,R),E.prototype=R===null?Object.create(R):(C.prototype=R.prototype,new C)}}(),c=i.setAnimation,h=a.addEvent,f=a.defined;i=a.extend;var v=a.isNumber,g=a.pick,x=a.relativeLength;return o=function(m){function E(){var R=m!==null&&m.apply(this,arguments)||this;return R.labelDistance=void 0,R.options=void 0,R.series=void 0,R}return u(E,m),E.prototype.getConnectorPath=function(){var R=this.labelPosition,C=this.series.options.dataLabels,_=this.connectorShapes,T=C.connectorShape;return _[T]&&(T=_[T]),T.call(this,{x:R.final.x,y:R.final.y,alignment:R.alignment},R.connectorPosition,C)},E.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},E.prototype.haloPath=function(R){var C=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(C.x,C.y,C.r+R,C.r+R,{innerR:C.r-1,start:C.start,end:C.end})},E.prototype.init=function(){var R=this;m.prototype.init.apply(this,arguments),this.name=g(this.name,"Slice");var C=function(_){R.slice(_.type==="select")};return h(this,"select",C),h(this,"unselect",C),this},E.prototype.isValid=function(){return v(this.y)&&0<=this.y},E.prototype.setVisible=function(R,C){var _=this,T=this.series,L=T.chart,j=T.options.ignoreHiddenPoint;C=g(C,j),R!==this.visible&&(this.visible=this.options.visible=R=typeof R>"u"?!this.visible:R,T.options.data[T.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(z){_[z]&&_[z][R?"show":"hide"](R)}),this.legendItem&&L.legend.colorizeItem(this,R),R||this.state!=="hover"||this.setState(""),j&&(T.isDirty=!0),C&&L.redraw())},E.prototype.slice=function(R,C,_){var T=this.series;c(_,T.chart),g(C,!0),this.sliced=this.options.sliced=f(R)?R:!this.sliced,T.options.data[T.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},E}(o),i(o.prototype,{connectorShapes:{fixedOffset:function(m,E,R){var C=E.breakAt;return E=E.touchingSliceAt,[["M",m.x,m.y],R.softConnector?["C",m.x+(m.alignment==="left"?-5:5),m.y,2*C.x-E.x,2*C.y-E.y,C.x,C.y]:["L",C.x,C.y],["L",E.x,E.y]]},straight:function(m,E){return E=E.touchingSliceAt,[["M",m.x,m.y],["L",E.x,E.y]]},crookedLine:function(m,E,R){E=E.touchingSliceAt;var C=this.series,_=C.center[0],T=C.chart.plotWidth,L=C.chart.plotLeft;C=m.alignment;var j=this.shapeArgs.r;return R=x(R.crookDistance,1),T=C==="left"?_+j+(T+L-_-j)*(1-R):L+(_-j)*R,R=["L",T,m.y],_=!0,(C==="left"?T>m.x||T<E.x:T<m.x||T>E.x)&&(_=!1),m=[["M",m.x,m.y]],_&&m.push(R),m.push(["L",E.x,E.y]),m}}}),o}),n(r,"Series/Pie/PieSeriesDefaults.js",[],function(){return{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),n(r,"Series/Pie/PieSeries.js",[r["Series/CenteredUtilities.js"],r["Series/Column/ColumnSeries.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Series/Pie/PiePoint.js"],r["Series/Pie/PieSeriesDefaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g,x){var m=this&&this.__extends||function(){var z=function($,D){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,I){P.__proto__=I}||function(P,I){for(var A in I)I.hasOwnProperty(A)&&(P[A]=I[A])},z($,D)};return function($,D){function P(){this.constructor=$}z($,D),$.prototype=D===null?Object.create(D):(P.prototype=D.prototype,new P)}}(),E=i.getStartAndEndRadians;a=a.noop;var R=x.clamp,C=x.extend,_=x.fireEvent,T=x.merge,L=x.pick,j=x.relativeLength;return x=function(z){function $(){var D=z!==null&&z.apply(this,arguments)||this;return D.center=void 0,D.data=void 0,D.maxLabelDistance=void 0,D.options=void 0,D.points=void 0,D}return m($,z),$.prototype.animate=function(D){var P=this,I=P.points,A=P.startAngleRad;D||I.forEach(function(k){var b=k.graphic,y=k.shapeArgs;b&&y&&(b.attr({r:L(k.startR,P.center&&P.center[3]/2),start:A,end:A}),b.animate({r:y.r,start:y.start,end:y.end},P.options.animation))})},$.prototype.drawEmpty=function(){var D=this.startAngleRad,P=this.endAngleRad,I=this.options;if(this.total===0&&this.center){var A=this.center[0],k=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(A,k,this.center[1]/2,0,D,P).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:g.arc(A,k,this.center[2]/2,0,{start:D,end:P,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":I.borderWidth,fill:I.fillColor||"none",stroke:I.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},$.prototype.drawPoints=function(){var D=this.chart.renderer;this.points.forEach(function(P){P.graphic&&P.hasNewShapeType()&&(P.graphic=P.graphic.destroy()),P.graphic||(P.graphic=D[P.shapeType](P.shapeArgs).add(P.series.group),P.delayedRendering=!0)})},$.prototype.generatePoints=function(){z.prototype.generatePoints.call(this),this.updateTotals()},$.prototype.getX=function(D,P,I){var A=this.center,k=this.radii?this.radii[I.index]||0:A[2]/2;return D=Math.asin(R((D-A[1])/(k+I.labelDistance),-1,1)),A[0]+(P?-1:1)*Math.cos(D)*(k+I.labelDistance)+(0<I.labelDistance?(P?-1:1)*this.options.dataLabels.padding:0)},$.prototype.hasData=function(){return!!this.processedXData.length},$.prototype.redrawPoints=function(){var D=this,P=D.chart,I=P.renderer,A=D.options.shadow,k,b,y,d;this.drawEmpty(),!A||D.shadowGroup||P.styledMode||(D.shadowGroup=I.g("shadow").attr({zIndex:-1}).add(D.group)),D.points.forEach(function(w){var O={};if(b=w.graphic,!w.isNull&&b){var S=void 0;d=w.shapeArgs,k=w.getTranslate(),P.styledMode||(S=w.shadowGroup,A&&!S&&(S=w.shadowGroup=I.g("shadow").add(D.shadowGroup)),S&&S.attr(k),y=D.pointAttribs(w,w.selected&&"select")),w.delayedRendering?(b.setRadialReference(D.center).attr(d).attr(k),P.styledMode||b.attr(y).attr({"stroke-linejoin":"round"}).shadow(A,S),w.delayedRendering=!1):(b.setRadialReference(D.center),P.styledMode||T(!0,O,y),T(!0,O,d,k),b.animate(O)),b.attr({visibility:w.visible?"inherit":"hidden"}),b.addClass(w.getClassName(),!0)}else b&&(w.graphic=b.destroy())})},$.prototype.sortByAngle=function(D,P){D.sort(function(I,A){return typeof I.angle<"u"&&(A.angle-I.angle)*P})},$.prototype.translate=function(D){_(this,"translate"),this.generatePoints();var P=this.options,I=P.slicedOffset,A=I+(P.borderWidth||0),k=E(P.startAngle,P.endAngle),b=this.startAngleRad=k.start;k=(this.endAngleRad=k.end)-b;var y=this.points,d=P.dataLabels.distance;P=P.ignoreHiddenPoint;var w=y.length,O,S=0;for(D||(this.center=D=this.getCenter()),O=0;O<w;O++){var F=y[O],V=b+S*k;!F.isValid()||P&&!F.visible||(S+=F.percentage/100);var K=b+S*k,Y={x:D[0],y:D[1],r:D[2]/2,innerR:D[3]/2,start:Math.round(1e3*V)/1e3,end:Math.round(1e3*K)/1e3};F.shapeType="arc",F.shapeArgs=Y,F.labelDistance=L(F.options.dataLabels&&F.options.dataLabels.distance,d),F.labelDistance=j(F.labelDistance,Y.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,F.labelDistance),K=(K+V)/2,K>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),F.slicedTranslation={translateX:Math.round(Math.cos(K)*I),translateY:Math.round(Math.sin(K)*I)},Y=Math.cos(K)*D[2]/2;var M=Math.sin(K)*D[2]/2;F.tooltipPos=[D[0]+.7*Y,D[1]+.7*M],F.half=K<-Math.PI/2||K>Math.PI/2?1:0,F.angle=K,V=Math.min(A,F.labelDistance/5),F.labelPosition={natural:{x:D[0]+Y+Math.cos(K)*F.labelDistance,y:D[1]+M+Math.sin(K)*F.labelDistance},final:{},alignment:0>F.labelDistance?"center":F.half?"right":"left",connectorPosition:{breakAt:{x:D[0]+Y+Math.cos(K)*V,y:D[1]+M+Math.sin(K)*V},touchingSliceAt:{x:D[0]+Y,y:D[1]+M}}}}_(this,"afterTranslate")},$.prototype.updateTotals=function(){var D=this.points,P=D.length,I=this.options.ignoreHiddenPoint,A,k=0;for(A=0;A<P;A++){var b=D[A];!b.isValid()||I&&!b.visible||(k+=b.y)}for(this.total=k,A=0;A<P;A++)b=D[A],b.percentage=0<k&&(b.visible||!I)?b.y/k*100:0,b.total=k},$.defaultOptions=T(f.defaultOptions,h),$}(f),C(x.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:u.drawRectangle,drawTracker:o.prototype.drawTracker,getCenter:i.getCenter,getSymbol:a,isCartesian:!1,noSharedTooltip:!0,pointAttribs:o.prototype.pointAttribs,pointClass:c,requireSorting:!1,searchPoint:a,trackerGroups:["group","dataLabelsGroup"]}),v.registerSeriesType("pie",x),x}),n(r,"Series/Pie/PieDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=o.noop,f=a.distribute,v=u.series,g=c.arrayMax,x=c.clamp,m=c.defined,E=c.merge,R=c.pick,C=c.relativeLength,_;return function(T){function L(){var P=this,I=P.data,A=P.chart,k=P.options.dataLabels||{},b=k.connectorPadding,y=A.plotWidth,d=A.plotHeight,w=A.plotLeft,O=Math.round(A.chartWidth/3),S=P.center,F=S[2]/2,V=S[1],K=[[],[]],Y=[0,0,0,0],M=P.dataLabelPositioners,B,H,q,Q,U,X,G,Z,J,et,nt,at;P.visible&&(k.enabled||P._hasPointLabels)&&(I.forEach(function(st){st.dataLabel&&st.visible&&st.dataLabel.shortened&&(st.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),st.dataLabel.shortened=!1)}),v.prototype.drawDataLabels.apply(P),I.forEach(function(st){st.dataLabel&&(st.visible?(K[st.half].push(st),st.dataLabel._pos=null,!m(k.style.width)&&!m(st.options.dataLabels&&st.options.dataLabels.style&&st.options.dataLabels.style.width)&&st.dataLabel.getBBox().width>O&&(st.dataLabel.css({width:Math.round(.7*O)+"px"}),st.dataLabel.shortened=!0)):(st.dataLabel=st.dataLabel.destroy(),st.dataLabels&&st.dataLabels.length===1&&delete st.dataLabels))}),K.forEach(function(st,mt){var wt=st.length,yt=[],gt;if(wt){if(P.sortByAngle(st,mt-.5),0<P.maxLabelDistance){var bt=Math.max(0,V-F-P.maxLabelDistance),ht=Math.min(V+F+P.maxLabelDistance,A.plotHeight);st.forEach(function(it){0<it.labelDistance&&it.dataLabel&&(it.top=Math.max(0,V-F-it.labelDistance),it.bottom=Math.min(V+F+it.labelDistance,A.plotHeight),gt=it.dataLabel.getBBox().height||21,it.distributeBox={target:it.labelPosition.natural.y-it.top+gt/2,size:gt,rank:it.y},yt.push(it.distributeBox))}),bt=ht+gt-bt,f(yt,bt,bt/5)}for(nt=0;nt<wt;nt++){if(B=st[nt],X=B.labelPosition,Q=B.dataLabel,et=B.visible===!1?"hidden":"inherit",J=bt=X.natural.y,yt&&m(B.distributeBox)&&(typeof B.distributeBox.pos>"u"?et="hidden":(G=B.distributeBox.size,J=M.radialDistributionY(B))),delete B.positionIndex,k.justify)Z=M.justify(B,F,S);else switch(k.alignTo){case"connectors":Z=M.alignToConnectors(st,mt,y,w);break;case"plotEdges":Z=M.alignToPlotEdges(Q,mt,y,w);break;default:Z=M.radialDistributionX(P,B,J,bt)}Q._attr={visibility:et,align:X.alignment},at=B.options.dataLabels||{},Q._pos={x:Z+R(at.x,k.x)+({left:b,right:-b}[X.alignment]||0),y:J+R(at.y,k.y)-10},X.final.x=Z,X.final.y=J,R(k.crop,!0)&&(U=Q.getBBox().width,bt=null,Z-U<b&&mt===1?(bt=Math.round(U-Z+b),Y[3]=Math.max(bt,Y[3])):Z+U>y-b&&mt===0&&(bt=Math.round(Z+U-y+b),Y[1]=Math.max(bt,Y[1])),0>J-G/2?Y[0]=Math.max(Math.round(-J+G/2),Y[0]):J+G/2>d&&(Y[2]=Math.max(Math.round(J+G/2-d),Y[2])),Q.sideOverflow=bt)}}}),g(Y)===0||this.verifyDataLabelOverflow(Y))&&(this.placeDataLabels(),this.points.forEach(function(st){if(at=E(k,st.options.dataLabels),H=R(at.connectorWidth,1)){var mt;q=st.connector,(Q=st.dataLabel)&&Q._pos&&st.visible&&0<st.labelDistance?(et=Q._attr.visibility,(mt=!q)&&(st.connector=q=A.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+st.colorIndex+(st.className?" "+st.className:"")).add(P.dataLabelsGroup),A.styledMode||q.attr({"stroke-width":H,stroke:at.connectorColor||st.color||"#666666"})),q[mt?"attr":"animate"]({d:st.getConnectorPath()}),q.attr("visibility",et)):q&&(st.connector=q.destroy())}}))}function j(){this.points.forEach(function(P){var I=P.dataLabel,A;I&&P.visible&&((A=I._pos)?(I.sideOverflow&&(I._attr.width=Math.max(I.getBBox().width-I.sideOverflow,0),I.css({width:I._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),I.shortened=!0),I.attr(I._attr),I[I.moved?"animate":"attr"](A),I.moved=!0):I&&I.attr({y:-9999})),delete P.distributeBox},this)}function z(P){var I=this.center,A=this.options,k=A.center,b=A.minSize||80,y=A.size!==null;if(!y){if(k[0]!==null)var d=Math.max(I[2]-Math.max(P[1],P[3]),b);else d=Math.max(I[2]-P[1]-P[3],b),I[0]+=(P[3]-P[1])/2;k[1]!==null?d=x(d,b,I[2]-Math.max(P[0],P[2])):(d=x(d,b,I[2]-P[0]-P[2]),I[1]+=(P[0]-P[2])/2),d<I[2]?(I[2]=d,I[3]=Math.min(A.thickness?Math.max(0,d-2*A.thickness):Math.max(0,C(A.innerSize||0,d)),d),this.translate(I),this.drawDataLabels&&this.drawDataLabels()):y=!0}return y}var $=[],D={radialDistributionY:function(P){return P.top+P.distributeBox.pos},radialDistributionX:function(P,I,A,k){return P.getX(A<I.top+2||A>I.bottom-2?k:A,I.half,I)},justify:function(P,I,A){return A[0]+(P.half?-1:1)*(I+P.labelDistance)},alignToPlotEdges:function(P,I,A,k){return P=P.getBBox().width,I?P+k:A-P-k},alignToConnectors:function(P,I,A,k){var b=0,y;return P.forEach(function(d){y=d.dataLabel.getBBox().width,y>b&&(b=y)}),I?b+k:A-b-k}};T.compose=function(P){i.compose(v),$.indexOf(P)===-1&&($.push(P),P=P.prototype,P.dataLabelPositioners=D,P.alignDataLabel=h,P.drawDataLabels=L,P.placeDataLabels=j,P.verifyDataLabelOverflow=z)}}(_||(_={})),_}),n(r,"Extensions/OverlappingDataLabels.js",[r["Core/Chart/Chart.js"],r["Core/Utilities.js"]],function(i,o){function a(x,m){var E=!1;if(x){var R=x.newOpacity;x.oldOpacity!==R&&(x.alignAttr&&x.placed?(x[R?"removeClass":"addClass"]("highcharts-data-label-hidden"),E=!0,x.alignAttr.opacity=R,x[x.isOld?"animate":"attr"](x.alignAttr,null,function(){m.styledMode||x.css({pointerEvents:R?"auto":"none"})}),c(m,"afterHideOverlappingLabel")):x.attr({opacity:R})),x.isOld=!0}return E}var u=o.addEvent,c=o.fireEvent,h=o.isArray,f=o.isNumber,v=o.objectEach,g=o.pick;u(i,"render",function(){var x=this,m=[];(this.labelCollectors||[]).forEach(function(E){m=m.concat(E())}),(this.yAxis||[]).forEach(function(E){E.stacking&&E.options.stackLabels&&!E.options.stackLabels.allowOverlap&&v(E.stacking.stacks,function(R){v(R,function(C){C.label&&m.push(C.label)})})}),(this.series||[]).forEach(function(E){var R=E.options.dataLabels;E.visible&&(R.enabled!==!1||E._hasPointLabels)&&(R=function(C){return C.forEach(function(_){_.visible&&(h(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(T){var L=T.options;T.labelrank=g(L.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),L.allowOverlap?(T.oldOpacity=T.opacity,T.newOpacity=1,a(T,x)):m.push(T)})})},R(E.nodes||[]),R(E.points))}),this.hideOverlappingLabels(m)}),i.prototype.hideOverlappingLabels=function(x){var m=this,E=x.length,R=m.renderer,C,_,T,L=!1,j=function(D){var P,I=D.box?0:D.padding||0,A=P=0,k;if(D&&(!D.alignAttr||D.placed)){var b=D.alignAttr||{x:D.attr("x"),y:D.attr("y")},y=D.parentGroup;D.width||(P=D.getBBox(),D.width=P.width,D.height=P.height,P=R.fontMetrics(null,D.element).h);var d=D.width-2*I;return(k={left:"0",center:"0.5",right:"1"}[D.alignValue])?A=+k*d:f(D.x)&&Math.round(D.x)!==D.translateX&&(A=D.x-D.translateX),{x:b.x+(y.translateX||0)+I-(A||0),y:b.y+(y.translateY||0)+I-P,width:D.width-2*I,height:D.height-2*I}}};for(_=0;_<E;_++)(C=x[_])&&(C.oldOpacity=C.opacity,C.newOpacity=1,C.absoluteBox=j(C));for(x.sort(function(D,P){return(P.labelrank||0)-(D.labelrank||0)}),_=0;_<E;_++){var z=(j=x[_])&&j.absoluteBox;for(C=_+1;C<E;++C){var $=(T=x[C])&&T.absoluteBox;!z||!$||j===T||j.newOpacity===0||T.newOpacity===0||j.visibility==="hidden"||T.visibility==="hidden"||$.x>=z.x+z.width||$.x+$.width<=z.x||$.y>=z.y+z.height||$.y+$.height<=z.y||((j.labelrank<T.labelrank?j:T).newOpacity=0)}}x.forEach(function(D){a(D,m)&&(L=!0)}),L&&c(m,"afterHideAllOverlappingLabels")}}),n(r,"Core/Responsive.js",[r["Core/Utilities.js"]],function(i){var o=i.extend,a=i.find,u=i.isArray,c=i.isObject,h=i.merge,f=i.objectEach,v=i.pick,g=i.splat,x=i.uniqueKey,m;return function(E){var R=[];E.compose=function(_){return R.indexOf(_)===-1&&(R.push(_),o(_.prototype,C.prototype)),_};var C=function(){function _(){}return _.prototype.currentOptions=function(T){function L($,D,P,I){var A;f($,function(k,b){if(!I&&-1<j.collectionsWithUpdate.indexOf(b)&&D[b])for(k=g(k),P[b]=[],A=0;A<Math.max(k.length,D[b].length);A++)D[b][A]&&(k[A]===void 0?P[b][A]=D[b][A]:(P[b][A]={},L(k[A],D[b][A],P[b][A],I+1)));else c(k)?(P[b]=u(k)?[]:{},L(k,D[b]||{},P[b],I+1)):P[b]=typeof D[b]>"u"?null:D[b]})}var j=this,z={};return L(T,this.options,z,0),z},_.prototype.matchResponsiveRule=function(T,L){var j=T.condition;(j.callback||function(){return this.chartWidth<=v(j.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=v(j.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=v(j.minWidth,0)&&this.chartHeight>=v(j.minHeight,0)}).call(this)&&L.push(T._id)},_.prototype.setResponsive=function(T,L){var j=this,z=this.options.responsive,$=this.currentResponsive,D=[];!L&&z&&z.rules&&z.rules.forEach(function(P){typeof P._id>"u"&&(P._id=x()),j.matchResponsiveRule(P,D)},this),L=h.apply(void 0,D.map(function(P){return a((z||{}).rules||[],function(I){return I._id===P})}).map(function(P){return P&&P.chartOptions})),L.isResponsiveOptions=!0,D=D.toString()||void 0,D!==($&&$.ruleIds)&&($&&this.update($.undoOptions,T,!0),D?($=this.currentOptions(L),$.isResponsiveOptions=!0,this.currentResponsive={ruleIds:D,mergedOptions:L,undoOptions:$},this.update(L,T,!0)):this.currentResponsive=void 0)},_}()}(m||(m={})),m}),n(r,"masters/highcharts.src.js",[r["Core/Globals.js"],r["Core/Utilities.js"],r["Core/Defaults.js"],r["Core/Animation/Fx.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/FormatUtilities.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Renderer/HTML/HTMLElement.js"],r["Core/Renderer/HTML/HTMLRenderer.js"],r["Core/Axis/Axis.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Axis/LogarithmicAxis.js"],r["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],r["Core/Axis/Tick.js"],r["Core/Tooltip.js"],r["Core/Series/Point.js"],r["Core/Pointer.js"],r["Core/MSPointer.js"],r["Core/Legend/Legend.js"],r["Core/Chart/Chart.js"],r["Core/Axis/Stacking/StackingAxis.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Series/Column/ColumnSeries.js"],r["Series/Column/ColumnDataLabel.js"],r["Series/Pie/PieSeries.js"],r["Series/Pie/PieDataLabel.js"],r["Core/Series/DataLabel.js"],r["Core/Responsive.js"],r["Core/Color/Color.js"],r["Core/Time.js"]],function(i,o,a,u,c,h,f,v,g,x,m,E,R,C,_,T,L,j,z,$,D,P,I,A,k,b,y,d,w,O,S,F,V,K,Y){return i.animate=c.animate,i.animObject=c.animObject,i.getDeferredAnimation=c.getDeferredAnimation,i.setAnimation=c.setAnimation,i.stop=c.stop,i.timers=u.timers,i.AST=h,i.Axis=R,i.Chart=I,i.chart=I.chart,i.Fx=u,i.Legend=P,i.PlotLineOrBand=T,i.Point=z,i.Pointer=D.isRequired()?D:$,i.Series=b,i.StackItem=k,i.SVGElement=g,i.SVGRenderer=x,i.Tick=L,i.Time=Y,i.Tooltip=j,i.Color=K,i.color=K.parse,E.compose(x),m.compose(g),i.defaultOptions=a.defaultOptions,i.getOptions=a.getOptions,i.time=a.defaultTime,i.setOptions=a.setOptions,i.dateFormat=f.dateFormat,i.format=f.format,i.numberFormat=f.numberFormat,i.addEvent=o.addEvent,i.arrayMax=o.arrayMax,i.arrayMin=o.arrayMin,i.attr=o.attr,i.clearTimeout=o.clearTimeout,i.correctFloat=o.correctFloat,i.createElement=o.createElement,i.css=o.css,i.defined=o.defined,i.destroyObjectProperties=o.destroyObjectProperties,i.discardElement=o.discardElement,i.distribute=v.distribute,i.erase=o.erase,i.error=o.error,i.extend=o.extend,i.extendClass=o.extendClass,i.find=o.find,i.fireEvent=o.fireEvent,i.getMagnitude=o.getMagnitude,i.getStyle=o.getStyle,i.inArray=o.inArray,i.isArray=o.isArray,i.isClass=o.isClass,i.isDOMElement=o.isDOMElement,i.isFunction=o.isFunction,i.isNumber=o.isNumber,i.isObject=o.isObject,i.isString=o.isString,i.keys=o.keys,i.merge=o.merge,i.normalizeTickInterval=o.normalizeTickInterval,i.objectEach=o.objectEach,i.offset=o.offset,i.pad=o.pad,i.pick=o.pick,i.pInt=o.pInt,i.relativeLength=o.relativeLength,i.removeEvent=o.removeEvent,i.seriesType=y.seriesType,i.splat=o.splat,i.stableSort=o.stableSort,i.syncTimeout=o.syncTimeout,i.timeUnits=o.timeUnits,i.uniqueKey=o.uniqueKey,i.useSerialIds=o.useSerialIds,i.wrap=o.wrap,w.compose(d),F.compose(b),C.compose(R),_.compose(R),S.compose(O),T.compose(R),V.compose(I),A.compose(R,I,b),i}),n(r,"Core/Axis/BrokenAxis.js",[r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(i,o){var a=o.addEvent,u=o.find,c=o.fireEvent,h=o.isArray,f=o.isNumber,v=o.pick,g;return function(x){function m(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function E(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function R(){var D=this.brokenAxis;if(D&&D.hasBreaks){for(var P=this.tickPositions,I=this.tickPositions.info,A=[],k=0;k<P.length;k++)D.isInAnyBreak(P[k])||A.push(P[k]);this.tickPositions=A,this.tickPositions.info=I}}function C(){this.brokenAxis||(this.brokenAxis=new $(this))}function _(){var D=this.options.connectNulls,P=this.points,I=this.xAxis,A=this.yAxis;if(this.isDirty)for(var k=P.length;k--;){var b=P[k],y=!(b.y===null&&D===!1)&&(I&&I.brokenAxis&&I.brokenAxis.isInAnyBreak(b.x,!0)||A&&A.brokenAxis&&A.brokenAxis.isInAnyBreak(b.y,!0));b.visible=y?!1:b.options.visible!==!1}}function T(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function L(D,P){var I=this,A=I.points,k,b,y,d;if(D&&D.brokenAxis&&D.brokenAxis.hasBreaks){var w=D.brokenAxis;P.forEach(function(O){k=w&&w.breakArray||[],b=D.isXAxis?D.min:v(I.options.threshold,D.min),A.forEach(function(S){d=v(S["stack"+O.toUpperCase()],S[O]),k.forEach(function(F){f(b)&&f(d)&&(y=!1,b<F.from&&d>F.to||b>F.from&&d<F.from?y="pointBreak":(b<F.from&&d>F.from&&d<F.to||b>F.from&&d>F.to&&d<F.from)&&(y="pointInBreak"),y&&c(D,y,{point:S,brk:F}))})})})}}function j(){var D=this.currentDataGrouping,P=D&&D.gapSize;D=this.points.slice();var I=this.yAxis,A=this.options.gapSize,k=D.length-1,b;if(A&&0<k)for(this.options.gapUnit!=="value"&&(A*=this.basePointRange),P&&P>A&&P>=this.basePointRange&&(A=P),b=void 0;k--;)b&&b.visible!==!1||(b=D[k+1]),P=D[k],b.visible!==!1&&P.visible!==!1&&(b.x-P.x>A&&(b=(P.x+b.x)/2,D.splice(k+1,0,{isNull:!0,x:b}),I.stacking&&this.options.stacking&&(b=I.stacking.stacks[this.stackKey][b]=new i(I,I.options.stackLabels,!1,b,this.stack),b.total=0)),b=P);return this.getGraphPath(D)}var z=[];x.compose=function(D,P){if(z.indexOf(D)===-1&&(z.push(D),D.keepProps.push("brokenAxis"),a(D,"init",C),a(D,"afterInit",m),a(D,"afterSetTickPositions",R),a(D,"afterSetOptions",E)),z.indexOf(P)===-1){z.push(P);var I=P.prototype;I.drawBreaks=L,I.gappedPath=j,a(P,"afterGeneratePoints",_),a(P,"afterRender",T)}return D};var $=function(){function D(P){this.hasBreaks=!1,this.axis=P}return D.isInBreak=function(P,I){var A=P.repeat||1/0,k=P.from,b=P.to-P.from;return I=I>=k?(I-k)%A:A-(k-I)%A,P.inclusive?I<=b:I<b&&I!==0},D.lin2Val=function(P){var I=this.brokenAxis;if(I=I&&I.breakArray,!I||!f(P))return P;var A;for(A=0;A<I.length;A++){var k=I[A];if(k.from>=P)break;(k.to<P||D.isInBreak(k,P))&&(P+=k.len)}return P},D.val2Lin=function(P){var I=this.brokenAxis;if(I=I&&I.breakArray,!I||!f(P))return P;var A=P,k;for(k=0;k<I.length;k++){var b=I[k];if(b.to<=P)A-=b.len;else{if(b.from>=P)break;if(D.isInBreak(b,P)){A-=P-b.from;break}}}return A},D.prototype.findBreakAt=function(P,I){return u(I,function(A){return A.from<P&&P<A.to})},D.prototype.isInAnyBreak=function(P,I){var A=this.axis,k=A.options.breaks||[],b=k.length,y;if(b&&f(P)){for(;b--;)if(D.isInBreak(k[b],P)){var d=!0;y||(y=v(k[b].showPoints,!A.isXAxis))}var w=d&&I?d&&!y:d}return w},D.prototype.setBreaks=function(P,I){var A=this,k=A.axis,b=h(P)&&!!P.length;k.isDirty=A.hasBreaks!==b,A.hasBreaks=b,k.options.breaks=k.userOptions.breaks=P,k.forceRedraw=!0,k.series.forEach(function(y){y.isDirty=!0}),b||k.val2lin!==D.val2Lin||(delete k.val2lin,delete k.lin2val),b&&(k.userOptions.ordinal=!1,k.lin2val=D.lin2Val,k.val2lin=D.val2Lin,k.setExtremes=function(y,d,w,O,S){if(A.hasBreaks){for(var F=this.options.breaks||[],V;V=A.findBreakAt(y,F);)y=V.to;for(;V=A.findBreakAt(d,F);)d=V.from;d<y&&(d=y)}k.constructor.prototype.setExtremes.call(this,y,d,w,O,S)},k.setAxisTranslation=function(){if(k.constructor.prototype.setAxisTranslation.call(this),A.unitLength=void 0,A.hasBreaks){var y=k.options.breaks||[],d=[],w=[],O=v(k.pointRangePadding,0),S=0,F,V=k.userMin||k.min,K=k.userMax||k.max,Y;y.forEach(function(H){F=H.repeat||1/0,f(V)&&f(K)&&(D.isInBreak(H,V)&&(V+=H.to%F-V%F),D.isInBreak(H,K)&&(K-=K%F-H.from%F))}),y.forEach(function(H){if(B=H.from,F=H.repeat||1/0,f(V)&&f(K)){for(;B-F>V;)B-=F;for(;B<V;)B+=F;for(Y=B;Y<K;Y+=F)d.push({value:Y,move:"in"}),d.push({value:Y+H.to-H.from,move:"out",size:H.breakSize})}}),d.sort(function(H,q){return H.value===q.value?(H.move==="in"?0:1)-(q.move==="in"?0:1):H.value-q.value});var M=0,B=V;d.forEach(function(H){M+=H.move==="in"?1:-1,M===1&&H.move==="in"&&(B=H.value),M===0&&f(B)&&(w.push({from:B,to:H.value,len:H.value-B-(H.size||0)}),S+=H.value-B-(H.size||0))}),A.breakArray=w,f(V)&&f(K)&&f(k.min)&&(A.unitLength=K-V-S+O,c(k,"afterBreaks"),k.staticScale?k.transA=k.staticScale:A.unitLength&&(k.transA*=(K-k.min+O)/A.unitLength),O&&(k.minPixelPadding=k.transA*(k.minPointOffset||0)),k.min=V,k.max=K)}}),v(I,!0)&&k.chart.redraw()},D}();x.Additions=$}(g||(g={})),g}),n(r,"masters/modules/broken-axis.src.js",[r["Core/Globals.js"],r["Core/Axis/BrokenAxis.js"]],function(i,o){o.compose(i.Axis,i.Series)}),n(r,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),n(r,"Extensions/DataGrouping/ApproximationDefaults.js",[r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Core/Utilities.js"]],function(i,o){function a(x){var m=x.length;return x=u(x),g(x)&&m&&(x=f(x/m)),x}function u(x){var m=x.length;if(!m&&x.hasNulls)var E=null;else if(m)for(E=0;m--;)E+=x[m];return E}var c=o.arrayMax,h=o.arrayMin,f=o.correctFloat,v=o.extend,g=o.isNumber;return o={average:a,averages:function(){var x=[];return[].forEach.call(arguments,function(m){x.push(a(m))}),typeof x[0]>"u"?void 0:x},close:function(x){return x.length?x[x.length-1]:x.hasNulls?null:void 0},high:function(x){return x.length?c(x):x.hasNulls?null:void 0},hlc:function(x,m,E){if(x=i.high(x),m=i.low(m),E=i.close(E),g(x)||g(m)||g(E))return[x,m,E]},low:function(x){return x.length?h(x):x.hasNulls?null:void 0},ohlc:function(x,m,E,R){if(x=i.open(x),m=i.high(m),E=i.low(E),R=i.close(R),g(x)||g(m)||g(E)||g(R))return[x,m,E,R]},open:function(x){return x.length?x[0]:x.hasNulls?null:void 0},range:function(x,m){if(x=i.low(x),m=i.high(m),g(x)||g(m))return[x,m];if(x===null&&m===null)return null},sum:u},v(i,o),o}),n(r,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),n(r,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Core/Utilities.js"]],function(i,o){function a(R){var C=this,_=C.series;_.forEach(function(T){T.groupPixelWidth=void 0}),_.forEach(function(T){T.groupPixelWidth=C.getGroupPixelWidth&&C.getGroupPixelWidth(),T.groupPixelWidth&&(T.hasProcessed=!0),T.applyGrouping(!!R.hasExtremesChanged)})}function u(){for(var R=this.series,C=R.length,_=0,T=!1,L,j;C--;)(j=R[C].options.dataGrouping)&&(_=Math.max(_,x(j.groupPixelWidth,i.common.groupPixelWidth)),L=(R[C].processedXData||R[C].data).length,(R[C].groupPixelWidth||L>this.chart.plotSizeX/_||L&&j.forced)&&(T=!0));return T?_:0}function c(){this.series.forEach(function(R){R.hasProcessed=!1})}function h(R,C){var _;if(C=x(C,!0),R||(R={forced:!1,units:null}),this instanceof E)for(_=this.series.length;_--;)this.series[_].update({dataGrouping:R},!1);else this.chart.options.series.forEach(function(T){T.dataGrouping=typeof R=="boolean"?R:g(R,T.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),C&&this.chart.redraw()}var f=o.addEvent,v=o.extend,g=o.merge,x=o.pick,m=[],E;return{compose:function(R){E=R,m.indexOf(R)===-1&&(m.push(R),f(R,"afterSetScale",c),f(R,"postProcessData",a),v(R.prototype,{applyGrouping:a,getGroupPixelWidth:u,setDataGrouping:h}))}}}),n(r,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Defaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){function f(I){var A=this.chart,k=this.options.dataGrouping,b=this.allowDG!==!1&&k&&$(k.enabled,A.options.isStock),y=this.visible||!A.options.chart.ignoreHiddenSeries,d=this.currentDataGrouping,w=!1;if(b&&!this.requireSorting&&(this.requireSorting=w=!0),I=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!I)||!b,w&&(this.requireSorting=!1),!I){this.destroyGroupedData();var O=k.groupAll?this.xData:this.processedXData,S=k.groupAll?this.yData:this.processedYData;b=A.plotSizeX,I=this.xAxis;var F=I.options.ordinal,V=this.groupPixelWidth;if(w=void 0,V&&O&&O.length&&b){this.isDirty=w=!0,this.points=null;var K=I.getExtremes(),Y=K.min;K=K.max,F=F&&I.ordinal&&I.ordinal.getGroupIntervalFactor(Y,K,this)||1,b=I.getTimeTicks(a.Additions.prototype.normalizeTimeTickInterval(V*(K-Y)/b*F,k.units||o.units),Math.min(Y,O[0]),Math.max(K,O[O.length-1]),I.options.startOfWeek,O,this.closestPointRange),V=R.groupData.apply(this,[O,S,b,k.approximation]),O=V.groupedXData,S=V.groupedYData,F=0,k&&k.smoothed&&O.length&&(k.firstAnchor="firstPoint",k.anchor="middle",k.lastAnchor="lastPoint",T(32,!1,A,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),A=O;var M=this.options.dataGrouping;if(Y=this.currentDataGrouping&&this.currentDataGrouping.gapSize,M&&this.xData&&Y&&this.groupMap){var B=A.length-1,H=M.anchor,q=$(M.firstAnchor,H);if(M=$(M.lastAnchor,H),H&&H!=="start"){var Q=Y*{middle:.5,end:1}[H];for(H=A.length-1;H--&&0<H;)A[H]+=Q}if(q&&q!=="start"&&this.xData[0]>=A[0]){H=this.groupMap[0].start,Q=this.groupMap[0].length;var U=void 0;j(H)&&j(Q)&&(U=H+(Q-1)),A[0]={middle:A[0]+.5*Y,end:A[0]+Y,firstPoint:this.xData[0],lastPoint:U&&this.xData[U]}[q]}M&&M!=="start"&&Y&&A[B]>=K-Y&&(K=this.groupMap[this.groupMap.length-1].start,A[B]={middle:A[B]+.5*Y,end:A[B]+Y,firstPoint:K&&this.xData[K],lastPoint:this.xData[this.xData.length-1]}[M])}for(K=1;K<b.length;K++)b.info.segmentStarts&&b.info.segmentStarts.indexOf(K)!==-1||(F=Math.max(b[K]-b[K-1],F));K=b.info,K.gapSize=F,this.closestPointRange=b.info.totalRange,this.groupMap=V.groupMap,y&&(y=O,_(y[0])&&j(I.min)&&j(I.dataMin)&&y[0]<I.min&&((!_(I.options.min)&&I.min<=I.dataMin||I.min===I.dataMin)&&(I.min=Math.min(y[0],I.min)),I.dataMin=Math.min(y[0],I.dataMin)),_(y[y.length-1])&&j(I.max)&&j(I.dataMax)&&y[y.length-1]>I.max&&((!_(I.options.max)&&j(I.dataMax)&&I.max>=I.dataMax||I.max===I.dataMax)&&(I.max=Math.max(y[y.length-1],I.max)),I.dataMax=Math.max(y[y.length-1],I.dataMax))),k.groupAll&&(this.allGroupedData=S,k=this.cropData(O,S,I.min,I.max,1),O=k.xData,S=k.yData,this.cropStart=k.start),this.processedXData=O,this.processedYData=S}else this.groupMap=null;this.hasGroupedData=w,this.currentDataGrouping=K,this.preventGraphAnimation=(d&&d.totalRange)!==(K&&K.totalRange)}}function v(){this.groupedData&&(this.groupedData.forEach(function(I,A){I&&(this.groupedData[A]=I.destroy?I.destroy():null)},this),this.groupedData.length=0)}function g(){D.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function x(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function m(I,A,k,b){var y=this,d=y.data,w=y.options&&y.options.data,O=[],S=[],F=[],V=I.length,K=!!A,Y=[],M=y.pointArrayMap,B=M&&M.length,H=["x"].concat(M||["y"]),q=this.options.dataGrouping&&this.options.dataGrouping.groupAll,Q=0,U=0;if(b=typeof b=="function"?b:b&&i[b]?i[b]:i[y.getDGApproximation&&y.getDGApproximation()||"average"],B)for(var X=M.length;X--;)Y.push([]);else Y.push([]);X=B||1;for(var G=0;G<=V;G++)if(!(I[G]<k[0])){for(;typeof k[Q+1]<"u"&&I[G]>=k[Q+1]||G===V;){var Z=k[Q];y.dataGroupInfo={start:q?U:y.cropStart+U,length:Y[0].length};var J=b.apply(y,Y);for(y.pointClass&&!_(y.dataGroupInfo.options)&&(y.dataGroupInfo.options=z(y.pointClass.prototype.optionsToObject.call({series:y},y.options.data[y.cropStart+U])),H.forEach(function(nt){delete y.dataGroupInfo.options[nt]})),typeof J<"u"&&(O.push(Z),S.push(J),F.push(y.dataGroupInfo)),U=G,Z=0;Z<X;Z++)Y[Z].length=0,Y[Z].hasNulls=!1;if(Q+=1,G===V)break}if(G===V)break;if(M){Z=y.options.dataGrouping&&y.options.dataGrouping.groupAll?G:y.cropStart+G,J=d&&d[Z]||y.pointClass.prototype.applyOptions.apply({series:y},[w[Z]]);var et=void 0;for(Z=0;Z<B;Z++)et=J[M[Z]],j(et)?Y[Z].push(et):et===null&&(Y[Z].hasNulls=!0)}else Z=K?A[G]:null,j(Z)?Y[0].push(Z):Z===null&&(Y[0].hasNulls=!0)}return{groupedXData:O,groupedYData:S,groupMap:F}}function E(I){I=I.options;var A=this.type,k=this.chart.options.plotOptions,b=this.useCommonDataGrouping&&o.common,y=o.seriesSpecific,d=u.defaultOptions.plotOptions[A].dataGrouping;if(k&&(y[A]||b)){var w=this.chart.rangeSelector;d||(d=z(o.common,y[A])),I.dataGrouping=z(b,d,k.series&&k.series.dataGrouping,k[A].dataGrouping,this.userOptions.dataGrouping,!I.isInternal&&w&&j(w.selected)&&w.buttonOptions[w.selected].dataGrouping)}}var R=c.series.prototype,C=h.addEvent,_=h.defined,T=h.error,L=h.extend,j=h.isNumber,z=h.merge,$=h.pick,D=R.generatePoints,P=[];return{compose:function(I){var A=I.prototype.pointClass;P.indexOf(A)===-1&&(P.push(A),C(A,"update",function(){if(this.dataGroup)return T(24,!1,this.series.chart),!1})),P.indexOf(I)===-1&&(P.push(I),C(I,"afterSetOptions",E),C(I,"destroy",v),L(I.prototype,{applyGrouping:f,destroyGroupedData:v,generatePoints:g,getDGApproximation:x,groupData:m}))},groupData:m}}),n(r,"Extensions/DataGrouping/DataGrouping.js",[r["Extensions/DataGrouping/DataGroupingAxisComposition.js"],r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){function h(E){var R=this.chart,C=R.time,_=E.labelConfig,T=_.series,L=T.tooltipOptions,j=T.options.dataGrouping,z=T.xAxis,$=L.xDateFormat,D=L[E.isFooter?"footerFormat":"headerFormat"];if(z&&z.options.type==="datetime"&&j&&x(_.key)){var P=T.currentDataGrouping;if(j=j.dateTimeLabelFormats||o.common.dateTimeLabelFormats,P)if(L=j[P.unitName],P.count===1)$=L[0];else{$=L[1];var I=L[2]}else!$&&j&&z.dateTime&&($=z.dateTime.getXDateFormat(_.x,L.dateTimeLabelFormats));$=C.dateFormat($,_.key),I&&($+=C.dateFormat(I,_.key+P.totalRange-1)),T.chart.styledMode&&(D=this.styledModeFormat(D)),E.text=f(D,{point:g(_.point,{key:$}),series:T},R),E.preventDefault()}}var f=u.format,v=c.addEvent,g=c.extend,x=c.isNumber,m=[];return u={compose:function(E,R,C){i.compose(E),a.compose(R),m.indexOf(C)===-1&&(m.push(C),v(C,"headerFormatter",h))},groupData:a.groupData},u}),n(r,"masters/modules/datagrouping.src.js",[r["Core/Globals.js"],r["Extensions/DataGrouping/ApproximationDefaults.js"],r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Extensions/DataGrouping/DataGrouping.js"]],function(i,o,a,u){i.dataGrouping={approximationDefaults:o,approximations:a},u.compose(i.Axis,i.Series,i.Tooltip)}),n(r,"Series/DataModifyComposition.js",[r["Core/Axis/Axis.js"],r["Core/Series/Point.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=o.prototype.tooltipFormatter,h=u.addEvent,f=u.arrayMax,v=u.arrayMin,g=u.correctFloat,x=u.defined,m=u.isArray,E=u.isNumber,R=u.isString,C=u.pick,_;return function(T){function L(d,w,O){this.isXAxis||(this.series.forEach(function(S){d==="compare"&&typeof w!="boolean"?S.setCompare(w,!1):d!=="cumulative"||R(w)||S.setCumulative(w,!1)}),C(O,!0)&&this.chart.redraw())}function j(d){var w=this,O=w.series.chart.numberFormatter,S=function(F){d=d.replace("{point."+F+"}",(0<w[F]&&F==="change"?"+":"")+O(w[F],C(w.series.tooltipOptions.changeDecimals,2)))};return x(w.change)&&S("change"),x(w.cumulativeSum)&&S("cumulativeSum"),c.apply(this,[d])}function z(){var d=this.options.compare;if(d==="percent"||d==="value"||this.options.cumulative){var w=new y(this);d==="percent"||d==="value"?w.initCompare(d):w.initCumulative()}this.dataModify=w}function $(d){d=d.dataExtremes;var w=d.activeYData;if(this.dataModify&&d){var O=void 0;this.options.compare?O=[this.dataModify.modifyValue(d.dataMin),this.dataModify.modifyValue(d.dataMax)]:this.options.cumulative&&m(w)&&2<=w.length&&(O=y.getCumulativeExtremes(w)),O&&(d.dataMin=v(O),d.dataMax=f(O))}}function D(d,w){this.options.compare=this.userOptions.compare=d,this.update({},C(w,!0)),!this.dataModify||d!=="value"&&d!=="percent"?this.points.forEach(function(O){delete O.change}):this.dataModify.initCompare(d)}function P(){if(this.xAxis&&this.processedYData&&this.dataModify){var d=this.processedXData,w=this.processedYData,O=w.length,S=this.options.compareStart===!0?0:1,F=-1,V;for(this.pointArrayMap&&(F=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),V=0;V<O-S;V++){var K=w[V]&&-1<F?w[V][F]:w[V];if(E(K)&&K!==0&&d[V+S]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function I(d,w){this.setModifier("compare",d,w)}function A(d,w){d=C(d,!1),this.options.cumulative=this.userOptions.cumulative=d,this.update({},C(w,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(function(O){delete O.cumulativeSum})}function k(d,w){this.setModifier("cumulative",d,w)}var b=[];T.compose=function(d,w,O){if(b.indexOf(d)===-1){b.push(d);var S=d.prototype;S.setCompare=D,S.setCumulative=A,h(d,"afterInit",z),h(d,"afterGetExtremes",$),h(d,"afterProcessData",P)}return b.indexOf(w)===-1&&(b.push(w),w=w.prototype,w.setCompare=I,w.setModifier=L,w.setCumulative=k),b.indexOf(O)===-1&&(b.push(O),O.prototype.tooltipFormatter=j),d};var y=function(){function d(w){this.series=w}return d.prototype.modifyValue=function(){return 0},d.getCumulativeExtremes=function(w){var O=1/0,S=-1/0;return w.reduce(function(F,V){return V=F+V,O=Math.min(O,V,F),S=Math.max(S,V,F),V}),[O,S]},d.prototype.initCompare=function(w){this.modifyValue=function(O,S){O===null&&(O=0);var F=this.compareValue;return typeof O<"u"&&typeof F<"u"?(O=w==="value"?O-F:O/F*100-(this.series.options.compareBase===100?0:100),typeof S<"u"&&(S=this.series.points[S])&&(S.change=O),O):0}},d.prototype.initCumulative=function(){this.modifyValue=function(w,O){if(w===null&&(w=0),w!==void 0&&O!==void 0){var S=0<O?this.series.points[O-1]:null;return S&&S.cumulativeSum&&(w=g(S.cumulativeSum+w)),(O=this.series.points[O])&&(O.cumulativeSum=w),w}return 0}},d}();T.Additions=y}(_||(_={})),_}),n(r,"Core/Axis/NavigatorAxisComposition.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(i,o){function a(){this.navigatorAxis||(this.navigatorAxis=new E(this))}function u(R){var C=this.chart.options,_=C.navigator,T=this.navigatorAxis,L=C.chart.zooming.pinchType,j=C.rangeSelector;C=C.chart.zooming.type,this.isXAxis&&(_&&_.enabled||j&&j.enabled)&&(C==="y"?R.zoomed=!1:(!c&&C==="xy"||c&&L==="xy")&&this.options.range&&(_=T.previousZoom,v(R.newMin)?T.previousZoom=[this.min,this.max]:_&&(R.newMin=_[0],R.newMax=_[1],T.previousZoom=void 0))),typeof R.zoomed<"u"&&R.preventDefault()}var c=i.isTouchDevice,h=o.addEvent,f=o.correctFloat,v=o.defined,g=o.isNumber,x=o.pick,m=[],E=function(){function R(C){this.axis=C}return R.compose=function(C){m.indexOf(C)===-1&&(m.push(C),C.keepProps.push("navigatorAxis"),h(C,"init",a),h(C,"zoom",u))},R.prototype.destroy=function(){this.axis=void 0},R.prototype.toFixedRange=function(C,_,T,L){var j=this.axis,z=j.chart;C=x(T,j.translate(C,!0,!j.horiz)),_=x(L,j.translate(_,!0,!j.horiz)),z=z&&z.fixedRange,j=(j.pointRange||0)/2;var $=z&&(_-C)/z;return v(T)||(C=f(C+j)),v(L)||(_=f(_-j)),.7<$&&1.3>$&&(L?C=_-z:_=C+z),g(C)&&g(_)||(C=_=void 0),{min:C,max:_}},R}();return E}),n(r,"Stock/Navigator/NavigatorDefaults.js",[r["Core/Color/Color.js"],r["Core/Series/SeriesRegistry.js"]],function(i,o){return i=i.parse,o=o.seriesTypes,o={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:i("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:typeof o.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},o}),n(r,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(i,o,a,u,c){return c===void 0&&(c={}),i=c.width?c.width/2:a,o=Math.round(i/3)+.5,u=c.height||u,[["M",-i-1,.5],["L",i,.5],["L",i,u+.5],["L",-i-1,u+.5],["L",-i-1,.5],["M",-o,4],["L",-o,u-3],["M",o-1,4],["L",o-1,u-3]]}}}),n(r,"Stock/Navigator/NavigatorComposition.js",[r["Core/Defaults.js"],r["Core/Globals.js"],r["Core/Axis/NavigatorAxisComposition.js"],r["Stock/Navigator/NavigatorDefaults.js"],r["Stock/Navigator/NavigatorSymbols.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f){function v(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function g(){var b=this.legend,y=this.navigator;if(y){var d=b&&b.options,w=y.xAxis,O=y.yAxis,S=y.scrollbarHeight;this.inverted?(y.left=y.opposite?this.chartWidth-S-y.height:this.spacing[3]+S,y.top=this.plotTop+S):(y.left=I(w.left,this.plotLeft+S),y.top=y.navigatorOptions.top||this.chartHeight-y.height-S-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(d&&d.verticalAlign==="bottom"&&d.layout!=="proximate"&&d.enabled&&!d.floating?b.legendHeight+I(d.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),w&&O&&(this.inverted?w.options.left=O.options.left=y.left:w.options.top=O.options.top=y.top,w.setAxisSize(),O.setAxisSize())}}function x(b){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new k(this),I(b.redraw,!0)&&this.redraw(b.animation))}function m(){var b=this.options;(b.navigator.enabled||b.scrollbar.enabled)&&(this.scroller=this.navigator=new k(this))}function E(){var b=this.options,y=b.navigator,d=b.rangeSelector;if((y&&y.enabled||d&&d.enabled)&&(!j&&b.chart.zooming.type==="x"||j&&b.chart.zooming.pinchType==="x"))return!1}function R(b){var y=b.navigator;y&&b.xAxis[0]&&(b=b.xAxis[0].getExtremes(),y.render(b.min,b.max))}function C(b){var y=b.options.navigator||{},d=b.options.scrollbar||{};this.navigator||this.scroller||!y.enabled&&!d.enabled||(P(!0,this.options.navigator,y),P(!0,this.options.scrollbar,d),delete b.options.navigator,delete b.options.scrollbar)}function _(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}var T=i.defaultOptions,L=i.setOptions,j=o.isTouchDevice,z=h.getRendererType,$=f.addEvent,D=f.extend,P=f.merge,I=f.pick,A=[],k;return{compose:function(b,y,d,w){a.compose(b),k=d,A.indexOf(y)===-1&&(A.push(y),y.prototype.callbacks.push(R),$(y,"afterAddSeries",v),$(y,"afterSetChartSize",g),$(y,"afterUpdate",x),$(y,"beforeRender",m),$(y,"beforeShowResetZoom",E),$(y,"update",C)),A.indexOf(w)===-1&&(A.push(w),$(w,"afterUpdate",_)),A.indexOf(z)===-1&&(A.push(z),D(z().prototype.symbols,c)),A.indexOf(L)===-1&&(A.push(L),D(T,{navigator:u}))}}}),n(r,"Core/Axis/ScrollbarAxis.js",[r["Core/Utilities.js"]],function(i){var o=i.addEvent,a=i.defined,u=i.pick;return function(){function c(){}return c.compose=function(h,f){if(c.composed.indexOf(h)===-1)c.composed.push(h);else return h;var v=function(g){var x=u(g.options&&g.options.min,g.min),m=u(g.options&&g.options.max,g.max);return{axisMin:x,axisMax:m,scrollMin:a(g.dataMin)?Math.min(x,g.min,g.dataMin,u(g.threshold,1/0)):x,scrollMax:a(g.dataMax)?Math.max(m,g.max,g.dataMax,u(g.threshold,-1/0)):m}};return o(h,"afterInit",function(){var g=this;g.options&&g.options.scrollbar&&g.options.scrollbar.enabled&&(g.options.scrollbar.vertical=!g.horiz,g.options.startOnTick=g.options.endOnTick=!1,g.scrollbar=new f(g.chart.renderer,g.options.scrollbar,g.chart),o(g.scrollbar,"changed",function(x){var m=v(g),E=m.axisMax,R=m.scrollMin,C=m.scrollMax-R;a(m.axisMin)&&a(E)&&(g.horiz&&!g.reversed||!g.horiz&&g.reversed?(m=R+C*this.to,R+=C*this.from):(m=R+C*(1-this.from),R+=C*(1-this.to)),this.shouldUpdateExtremes(x.DOMType)?g.setExtremes(R,m,!0,x.DOMType!=="mousemove"&&x.DOMType!=="touchmove",x):this.setRange(this.from,this.to))}))}),o(h,"afterRender",function(){var g=v(this),x=g.scrollMin,m=g.scrollMax;g=this.scrollbar;var E=this.axisTitleMargin+(this.titleOffset||0),R=this.chart.scrollbarsOffsets,C=this.options.margin||0;g&&(this.horiz?(this.opposite||(R[1]+=E),g.position(this.left,this.top+this.height+2+R[1]-(this.opposite?C:0),this.width,this.height),this.opposite||(R[1]+=C),E=1):(this.opposite&&(R[0]+=E),g.position(g.options.opposite?this.left+this.width+2+R[0]-(this.opposite?0:C):this.opposite?0:C,this.top,this.width,this.height),this.opposite&&(R[0]+=C),E=0),R[E]+=g.size+g.options.margin,isNaN(x)||isNaN(m)||!a(this.min)||!a(this.max)||this.min===this.max?g.setRange(0,1):(R=(this.min-x)/(m-x),x=(this.max-x)/(m-x),this.horiz&&!this.reversed||!this.horiz&&this.reversed?g.setRange(R,x):g.setRange(1-x,1-R)))}),o(h,"afterGetOffset",function(){var g=this.scrollbar&&!this.scrollbar.options.opposite;g=this.horiz?2:g?3:1;var x=this.scrollbar;x&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[g]+=x.size+x.options.margin)}),h},c.composed=[],c}()}),n(r,"Stock/Scrollbar/ScrollbarDefaults.js",[r["Core/Globals.js"]],function(i){return{height:i.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1}}),n(r,"Stock/Scrollbar/Scrollbar.js",[r["Core/Defaults.js"],r["Core/Globals.js"],r["Core/Axis/ScrollbarAxis.js"],r["Stock/Scrollbar/ScrollbarDefaults.js"],r["Core/Utilities.js"]],function(i,o,a,u,c){var h=i.defaultOptions,f=c.addEvent,v=c.correctFloat,g=c.defined,x=c.destroyObjectProperties,m=c.fireEvent,E=c.merge,R=c.pick,C=c.removeEvent;return i=function(){function _(T,L,j){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(T,L,j)}return _.compose=function(T){a.compose(T,_)},_.swapXY=function(T,L){return L&&T.forEach(function(j){for(var z=j.length,$,D=0;D<z;D+=2)$=j[D+1],typeof $=="number"&&(j[D+1]=j[D+2],j[D+2]=$)}),T},_.prototype.addEvents=function(){var T=this.options.inverted?[1,0]:[0,1],L=this.scrollbarButtons,j=this.scrollbarGroup.element,z=this.track.element,$=this.mouseDownHandler.bind(this),D=this.mouseMoveHandler.bind(this),P=this.mouseUpHandler.bind(this);T=[[L[T[0]].element,"click",this.buttonToMinClick.bind(this)],[L[T[1]].element,"click",this.buttonToMaxClick.bind(this)],[z,"click",this.trackClick.bind(this)],[j,"mousedown",$],[j.ownerDocument,"mousemove",D],[j.ownerDocument,"mouseup",P]],o.hasTouch&&T.push([j,"touchstart",$],[j.ownerDocument,"touchmove",D],[j.ownerDocument,"touchend",P]),T.forEach(function(I){f.apply(null,I)}),this._events=T},_.prototype.buttonToMaxClick=function(T){var L=(this.to-this.from)*R(this.options.step,.2);this.updatePosition(this.from+L,this.to+L),m(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.buttonToMinClick=function(T){var L=v(this.to-this.from)*R(this.options.step,.2);this.updatePosition(v(this.from-L),v(this.to-L)),m(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.cursorToScrollbarPosition=function(T){var L=this.options;return L=L.minWidth>this.calculatedWidth?L.minWidth:0,{chartX:(T.chartX-this.x-this.xOffset)/(this.barWidth-L),chartY:(T.chartY-this.y-this.yOffset)/(this.barWidth-L)}},_.prototype.destroy=function(){var T=this,L=T.chart.scroller;T.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(j){T[j]&&T[j].destroy&&(T[j]=T[j].destroy())}),L&&T===L.scrollbar&&(L.scrollbar=null,x(L.scrollbarButtons))},_.prototype.drawScrollbarButton=function(T){var L=this.renderer,j=this.scrollbarButtons,z=this.options,$=this.size,D=L.g().add(this.group);j.push(D),D=L.rect().addClass("highcharts-scrollbar-button").add(D),this.chart.styledMode||D.attr({stroke:z.buttonBorderColor,"stroke-width":z.buttonBorderWidth,fill:z.buttonBackgroundColor}),D.attr(D.crisp({x:-.5,y:-.5,width:$+1,height:$+1,r:z.buttonBorderRadius},D.strokeWidth())),D=L.path(_.swapXY([["M",$/2+(T?-1:1),$/2-3],["L",$/2+(T?-1:1),$/2+3],["L",$/2+(T?2:-2),$/2]],z.vertical)).addClass("highcharts-scrollbar-arrow").add(j[T]),this.chart.styledMode||D.attr({fill:z.buttonArrowColor})},_.prototype.init=function(T,L,j){this.scrollbarButtons=[],this.renderer=T,this.userOptions=L,this.options=E(u,h.scrollbar,L),this.chart=j,this.size=R(this.options.size,this.options.height),L.enabled&&(this.render(),this.addEvents())},_.prototype.mouseDownHandler=function(T){T=this.chart.pointer.normalize(T),T=this.cursorToScrollbarPosition(T),this.chartX=T.chartX,this.chartY=T.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},_.prototype.mouseMoveHandler=function(T){var L=this.chart.pointer.normalize(T),j=this.options.vertical?"chartY":"chartX",z=this.initPositions||[];!this.grabbedCenter||T.touches&&T.touches[0][j]===0||(L=this.cursorToScrollbarPosition(L)[j],j=this[j],j=L-j,this.hasDragged=!0,this.updatePosition(z[0]+j,z[1]+j),this.hasDragged&&m(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:T.type,DOMEvent:T}))},_.prototype.mouseUpHandler=function(T){this.hasDragged&&m(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:T.type,DOMEvent:T}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},_.prototype.position=function(T,L,j,z){var $=this.options.vertical,D=this.rendered?"animate":"attr",P=z,I=0;this.group.show(),this.x=T,this.y=L+this.trackBorderWidth,this.width=j,this.height=z,this.xOffset=P,this.yOffset=I,$?(this.width=this.yOffset=j=I=this.size,this.xOffset=P=0,this.barWidth=z-2*j,this.x=T+=this.options.margin):(this.height=this.xOffset=z=P=this.size,this.barWidth=j-2*z,this.y+=this.options.margin),this.group[D]({translateX:T,translateY:this.y}),this.track[D]({width:j,height:z}),this.scrollbarButtons[1][D]({translateX:$?0:j-P,translateY:$?z-I:0})},_.prototype.removeEvents=function(){this._events.forEach(function(T){C.apply(null,T)}),this._events.length=0},_.prototype.render=function(){var T=this.renderer,L=this.options,j=this.size,z=this.chart.styledMode,$=T.g("scrollbar").attr({zIndex:L.zIndex}).hide().add();this.group=$,this.track=T.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:L.trackBorderRadius||0,height:j,width:j}).add($),z||this.track.attr({fill:L.trackBackgroundColor,stroke:L.trackBorderColor,"stroke-width":L.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=T.g().add($),this.scrollbar=T.rect().addClass("highcharts-scrollbar-thumb").attr({height:j,width:j,r:L.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=T.path(_.swapXY([["M",-3,j/4],["L",-3,2*j/3],["M",0,j/4],["L",0,2*j/3],["M",3,j/4],["L",3,2*j/3]],L.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),z||(this.scrollbar.attr({fill:L.barBackgroundColor,stroke:L.barBorderColor,"stroke-width":L.barBorderWidth}),this.scrollbarRifles.attr({stroke:L.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},_.prototype.setRange=function(T,L){var j=this.options,z=j.vertical,$=j.minWidth,D=this.barWidth,P=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(g(D)){var I=D*Math.min(L,1);T=Math.max(T,0);var A=Math.ceil(D*T);this.calculatedWidth=I=v(I-A),I<$&&(A=(D-$+I)*T,I=$),$=Math.floor(A+this.xOffset+this.yOffset),D=I/2-.5,this.from=T,this.to=L,z?(this.scrollbarGroup[P]({translateY:$}),this.scrollbar[P]({height:I}),this.scrollbarRifles[P]({translateY:D}),this.scrollbarTop=$,this.scrollbarLeft=0):(this.scrollbarGroup[P]({translateX:$}),this.scrollbar[P]({width:I}),this.scrollbarRifles[P]({translateX:D}),this.scrollbarLeft=$,this.scrollbarTop=0),12>=I?this.scrollbarRifles.hide():this.scrollbarRifles.show(),j.showFull===!1&&(0>=T&&1<=L?this.group.hide():this.group.show()),this.rendered=!0}},_.prototype.shouldUpdateExtremes=function(T){return R(this.options.liveRedraw,o.svg&&!o.isTouchDevice&&!this.chart.boosted)||T==="mouseup"||T==="touchend"||!g(T)},_.prototype.trackClick=function(T){var L=this.chart.pointer.normalize(T),j=this.to-this.from,z=this.y+this.scrollbarTop,$=this.x+this.scrollbarLeft;this.options.vertical&&L.chartY>z||!this.options.vertical&&L.chartX>$?this.updatePosition(this.from+j,this.to+j):this.updatePosition(this.from-j,this.to-j),m(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.update=function(T){this.destroy(),this.init(this.chart.renderer,E(!0,this.options,T),this.chart)},_.prototype.updatePosition=function(T,L){1<L&&(T=v(1-v(L-T)),L=1),0>T&&(L=v(L-T),T=0),this.from=T,this.to=L},_.defaultOptions=u,_}(),h.scrollbar=E(!0,i.defaultOptions,h.scrollbar),i}),n(r,"Stock/Navigator/Navigator.js",[r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/Globals.js"],r["Core/Axis/NavigatorAxisComposition.js"],r["Stock/Navigator/NavigatorComposition.js"],r["Stock/Scrollbar/Scrollbar.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f){function v(b){for(var y=[],d=1;d<arguments.length;d++)y[d-1]=arguments[d];if(y=[].filter.call(y,D),y.length)return Math[b].apply(0,y)}var g=o.defaultOptions,x=a.hasTouch,m=a.isTouchDevice,E=f.addEvent,R=f.clamp,C=f.correctFloat,_=f.defined,T=f.destroyObjectProperties,L=f.erase,j=f.extend,z=f.find,$=f.isArray,D=f.isNumber,P=f.merge,I=f.pick,A=f.removeEvent,k=f.splat;return function(){function b(y){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(y)}return b.compose=function(y,d,w){c.compose(y,d,b,w)},b.prototype.drawHandle=function(y,d,w,O){var S=this.navigatorOptions.handles.height;this.handles[d][O](w?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(y,10)+.5-S)}:{translateX:Math.round(this.left+parseInt(y,10)),translateY:Math.round(this.top+this.height/2-S/2-1)})},b.prototype.drawOutline=function(y,d,w,O){var S=this.navigatorOptions.maskInside,F=this.outline.strokeWidth(),V=F/2,K=F%2/2;F=this.outlineHeight;var Y=this.scrollbarHeight||0,M=this.size,B=this.left-Y,H=this.top;w?(B-=V,w=H+d+K,d=H+y+K,K=[["M",B+F,H-Y-K],["L",B+F,w],["L",B,w],["L",B,d],["L",B+F,d],["L",B+F,H+M+Y]],S&&K.push(["M",B+F,w-V],["L",B+F,d+V])):(y+=B+Y-K,d+=B+Y-K,H+=V,K=[["M",B,H],["L",y,H],["L",y,H+F],["L",d,H+F],["L",d,H],["L",B+M+2*Y,H]],S&&K.push(["M",y-V,H],["L",d+V,H])),this.outline[O]({d:K})},b.prototype.drawMasks=function(y,d,w,O){var S=this.left,F=this.top,V=this.height;if(w)var K=[S,S,S],Y=[F,F+y,F+d],M=[V,V,V],B=[y,d-y,this.size-d];else K=[S,S+y,S+d],Y=[F,F,F],M=[y,d-y,this.size-d],B=[V,V,V];this.shades.forEach(function(H,q){H[O]({x:K[q],y:Y[q],width:M[q],height:B[q]})})},b.prototype.renderElements=function(){var y=this,d=y.navigatorOptions,w=d.maskInside,O=y.chart,S=O.renderer,F={cursor:O.inverted?"ns-resize":"ew-resize"},V=y.navigatorGroup=S.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!w,w,!w].forEach(function(B,H){var q=S.rect().addClass("highcharts-navigator-mask"+(H===1?"-inside":"-outside")).add(V);O.styledMode||(q.attr({fill:B?d.maskFill:"rgba(0,0,0,0)"}),H===1&&q.css(F)),y.shades[H]=q}),y.outline=S.path().addClass("highcharts-navigator-outline").add(V),O.styledMode||y.outline.attr({"stroke-width":d.outlineWidth,stroke:d.outlineColor}),d.handles&&d.handles.enabled){var K=d.handles,Y=K.height,M=K.width;[0,1].forEach(function(B){y.handles[B]=S.symbol(K.symbols[B],-M/2-1,0,M,Y,K),O.inverted&&y.handles[B].attr({rotation:90,rotationOriginX:Math.floor(-M/2),rotationOriginY:(Y+M)/2}),y.handles[B].attr({zIndex:7-B}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][B]).add(V),O.styledMode||y.handles[B].attr({fill:K.backgroundColor,stroke:K.borderColor,"stroke-width":K.lineWidth}).css(F)})}},b.prototype.update=function(y){(this.series||[]).forEach(function(d){d.baseSeries&&delete d.baseSeries.navigatorSeries}),this.destroy(),P(!0,this.chart.options.navigator,y),this.init(this.chart)},b.prototype.render=function(y,d,w,O){var S=this.chart,F=this.xAxis,V=F.pointRange||0,K=F.navigatorAxis.fake?S.xAxis[0]:F,Y=this.navigatorEnabled,M=this.rendered,B=S.inverted,H=S.xAxis[0].minRange,q=S.xAxis[0].options.maxRange,Q=this.scrollbarHeight,U;if(!this.hasDragged||_(w)){if(y=C(y-V/2),d=C(d+V/2),!D(y)||!D(d))if(M)w=0,O=I(F.width,K.width);else return;this.left=I(F.left,S.plotLeft+Q+(B?S.plotWidth:0));var X=this.size=U=I(F.len,(B?S.plotHeight:S.plotWidth)-2*Q);S=B?Q:U+2*Q,w=I(w,F.toPixels(y,!0)),O=I(O,F.toPixels(d,!0)),D(w)&&Math.abs(w)!==1/0||(w=0,O=S),y=F.toValue(w,!0),d=F.toValue(O,!0);var G=Math.abs(C(d-y));G<H?this.grabbedLeft?w=F.toPixels(d-H-V,!0):this.grabbedRight&&(O=F.toPixels(y+H+V,!0)):_(q)&&C(G-V)>q&&(this.grabbedLeft?w=F.toPixels(d-q-V,!0):this.grabbedRight&&(O=F.toPixels(y+q+V,!0))),this.zoomedMax=R(Math.max(w,O),0,X),this.zoomedMin=R(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(w,O),0,X),this.range=this.zoomedMax-this.zoomedMin,X=Math.round(this.zoomedMax),w=Math.round(this.zoomedMin),Y&&(this.navigatorGroup.attr({visibility:"inherit"}),M=M&&!this.hasDragged?"animate":"attr",this.drawMasks(w,X,B,M),this.drawOutline(w,X,B,M),this.navigatorOptions.handles.enabled&&(this.drawHandle(w,0,B,M),this.drawHandle(X,1,B,M))),this.scrollbar&&(B?(B=this.top-Q,K=this.left-Q+(Y||!K.opposite?0:(K.titleOffset||0)+K.axisTitleMargin),Q=U+2*Q):(B=this.top+(Y?this.height:-Q),K=this.left-Q),this.scrollbar.position(K,B,S,Q),this.scrollbar.setRange(this.zoomedMin/(U||1),this.zoomedMax/(U||1))),this.rendered=!0}},b.prototype.addMouseEvents=function(){var y=this,d=y.chart,w=d.container,O=[],S,F;y.mouseMoveHandler=S=function(V){y.onMouseMove(V)},y.mouseUpHandler=F=function(V){y.onMouseUp(V)},O=y.getPartsEvents("mousedown"),O.push(E(d.renderTo,"mousemove",S),E(w.ownerDocument,"mouseup",F)),x&&(O.push(E(d.renderTo,"touchmove",S),E(w.ownerDocument,"touchend",F)),O.concat(y.getPartsEvents("touchstart"))),y.eventsToUnbind=O,y.series&&y.series[0]&&O.push(E(y.series[0].xAxis,"foundExtremes",function(){d.navigator.modifyNavigatorAxisExtremes()}))},b.prototype.getPartsEvents=function(y){var d=this,w=[];return["shades","handles"].forEach(function(O){d[O].forEach(function(S,F){w.push(E(S.element,y,function(V){d[O+"Mousedown"](V,F)}))})}),w},b.prototype.shadesMousedown=function(y,d){y=this.chart.pointer.normalize(y);var w=this.chart,O=this.xAxis,S=this.zoomedMin,F=this.size,V=this.range,K=this.left,Y=y.chartX;if(w.inverted&&(Y=y.chartY,K=this.top),d===1)this.grabbedCenter=Y,this.fixedWidth=V,this.dragOffset=Y-S;else{if(y=Y-K-V/2,d===0)y=Math.max(0,y);else if(d===2&&y+V>=F)if(y=F-V,this.reversedExtremes){y-=V;var M=this.getUnionExtremes().dataMin}else var B=this.getUnionExtremes().dataMax;y!==S&&(this.fixedWidth=V,d=O.navigatorAxis.toFixedRange(y,y+V,M,B),_(d.min)&&w.xAxis[0].setExtremes(Math.min(d.min,d.max),Math.max(d.min,d.max),!0,null,{trigger:"navigator"}))}},b.prototype.handlesMousedown=function(y,d){this.chart.pointer.normalize(y),y=this.chart;var w=y.xAxis[0],O=this.reversedExtremes;d===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=O?w.min:w.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=O?w.max:w.min),y.fixedRange=null},b.prototype.onMouseMove=function(y){var d=this,w=d.chart,O=d.navigatorSize,S=d.range,F=d.dragOffset,V=w.inverted,K=d.left;y.touches&&y.touches[0].pageX===0||(y=w.pointer.normalize(y),w=y.chartX,V&&(K=d.top,w=y.chartY),d.grabbedLeft?(d.hasDragged=!0,d.render(0,0,w-K,d.otherHandlePos)):d.grabbedRight?(d.hasDragged=!0,d.render(0,0,d.otherHandlePos,w-K)):d.grabbedCenter&&(d.hasDragged=!0,w<F?w=F:w>O+F-S&&(w=O+F-S),d.render(0,0,w-F,w-F+S)),d.hasDragged&&d.scrollbar&&I(d.scrollbar.options.liveRedraw,a.svg&&!m&&!this.chart.boosted)&&(y.DOMType=y.type,setTimeout(function(){d.onMouseUp(y)},0)))},b.prototype.onMouseUp=function(y){var d=this.chart,w=this.xAxis,O=this.scrollbar,S=y.DOMEvent||y,F=d.inverted,V=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!O||!O.hasDragged)||y.trigger==="scrollbar"){if(O=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var K=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var Y=this.fixedExtreme;this.zoomedMax===this.size&&(Y=this.reversedExtremes?O.dataMin:O.dataMax),this.zoomedMin===0&&(K=this.reversedExtremes?O.dataMax:O.dataMin),w=w.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,K,Y),_(w.min)&&d.xAxis[0].setExtremes(Math.min(w.min,w.max),Math.max(w.min,w.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:S})}y.DOMType!=="mousemove"&&y.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&D(this.zoomedMin)&&D(this.zoomedMax)&&(d=Math.round(this.zoomedMin),y=Math.round(this.zoomedMax),this.shades&&this.drawMasks(d,y,F,V),this.outline&&this.drawOutline(d,y,F,V),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(d,0,F,V),this.drawHandle(y,1,F,V)))},b.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(y){y()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},b.prototype.removeBaseSeriesEvents=function(){var y=this.baseSeries||[];this.navigatorEnabled&&y[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&y.forEach(function(d){A(d,"updatedData",this.updatedDataHandler)},this),y[0].xAxis&&A(y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},b.prototype.init=function(y){var d=y.options,w=d.navigator||{},O=w.enabled,S=d.scrollbar||{},F=S.enabled;d=O&&w.height||0;var V=F&&S.height||0;this.handles=[],this.shades=[],this.chart=y,this.setBaseSeries(),this.height=d,this.scrollbarHeight=V,this.scrollbarEnabled=F,this.navigatorEnabled=O,this.navigatorOptions=w,this.scrollbarOptions=S,this.outlineHeight=d+V,this.opposite=I(w.opposite,!(O||!y.inverted));var K=this;O=K.baseSeries,S=y.xAxis.length,F=y.yAxis.length;var Y=O&&O[0]&&O[0].xAxis||y.xAxis[0]||{options:{}};y.isDirtyBox=!0,K.navigatorEnabled?(K.xAxis=new i(y,P({breaks:Y.options.breaks,ordinal:Y.options.ordinal},w.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:S,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},y.inverted?{offsets:[V,0,-V,0],width:d}:{offsets:[0,-V,0,V],height:d})),K.yAxis=new i(y,P(w.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:F,isInternal:!0,reversed:I(w.yAxis&&w.yAxis.reversed,y.yAxis[0]&&y.yAxis[0].reversed,!1),zoomEnabled:!1},y.inverted?{width:d}:{height:d})),O||w.series.data?K.updateNavigatorSeries(!1):y.series.length===0&&(K.unbindRedraw=E(y,"beforeRedraw",function(){0<y.series.length&&!K.series&&(K.setBaseSeries(),K.unbindRedraw())})),K.reversedExtremes=y.inverted&&!K.xAxis.reversed||!y.inverted&&K.xAxis.reversed,K.renderElements(),K.addMouseEvents()):(K.xAxis={chart:y,navigatorAxis:{fake:!0},translate:function(M,B){var H=y.xAxis[0],q=H.getExtremes(),Q=H.len-2*V,U=v("min",H.options.min,q.dataMin);return H=v("max",H.options.max,q.dataMax)-U,B?M*H/Q+U:Q*(M-U)/H},toPixels:function(M){return this.translate(M)},toValue:function(M){return this.translate(M,!0)}},K.xAxis.navigatorAxis.axis=K.xAxis,K.xAxis.navigatorAxis.toFixedRange=u.prototype.toFixedRange.bind(K.xAxis.navigatorAxis)),y.options.scrollbar.enabled&&(y.scrollbar=K.scrollbar=new h(y.renderer,P(y.options.scrollbar,{margin:K.navigatorEnabled?0:10,vertical:y.inverted}),y),E(K.scrollbar,"changed",function(M){var B=K.size,H=B*this.to;B*=this.from,K.hasDragged=K.scrollbar.hasDragged,K.render(0,0,B,H),this.shouldUpdateExtremes(M.DOMType)&&setTimeout(function(){K.onMouseUp(M)})})),K.addBaseSeriesEvents(),K.addChartEvents()},b.prototype.getUnionExtremes=function(y){var d=this.chart.xAxis[0],w=this.xAxis,O=w.options,S=d.options,F;return y&&d.dataMin===null||(F={dataMin:I(O&&O.min,v("min",S.min,d.dataMin,w.dataMin,w.min)),dataMax:I(O&&O.max,v("max",S.max,d.dataMax,w.dataMax,w.max))}),F},b.prototype.setBaseSeries=function(y,d){var w=this.chart,O=this.baseSeries=[];y=y||w.options&&w.options.navigator.baseSeries||(w.series.length?z(w.series,function(S){return!S.options.isInternal}).index:0),(w.series||[]).forEach(function(S,F){S.options.isInternal||!S.options.showInNavigator&&(F!==y&&S.options.id!==y||S.options.showInNavigator===!1)||O.push(S)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,d)},b.prototype.updateNavigatorSeries=function(y,d){var w=this,O=w.chart,S=w.baseSeries,F={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},V=w.series=(w.series||[]).filter(function(H){var q=H.baseSeries;return 0>S.indexOf(q)?(q&&(A(q,"updatedData",w.updatedDataHandler),delete q.navigatorSeries),H.chart&&H.destroy(),!1):!0}),K,Y,M=w.navigatorOptions.series,B;S&&S.length&&S.forEach(function(H){var q=H.navigatorSeries,Q=j({color:H.color,visible:H.visible},$(M)?g.navigator.series:M);q&&w.navigatorOptions.adaptToUpdatedData===!1||(F.name="Navigator "+S.length,K=H.options||{},B=K.navigatorOptions||{},Q.dataLabels=k(Q.dataLabels),Y=P(K,F,Q,B),Y.pointRange=I(Q.pointRange,B.pointRange,g.plotOptions[Y.type||"line"].pointRange),Q=B.data||Q.data,w.hasNavigatorData=w.hasNavigatorData||!!Q,Y.data=Q||K.data&&K.data.slice(0),q&&q.options?q.update(Y,d):(H.navigatorSeries=O.initSeries(Y),H.navigatorSeries.baseSeries=H,V.push(H.navigatorSeries)))}),(M.data&&(!S||!S.length)||$(M))&&(w.hasNavigatorData=!1,M=k(M),M.forEach(function(H,q){F.name="Navigator "+(V.length+1),Y=P(g.navigator.series,{color:O.series[q]&&!O.series[q].options.isInternal&&O.series[q].color||O.options.colors[q]||O.options.colors[0]},F,H),Y.data=H.data,Y.data&&(w.hasNavigatorData=!0,V.push(O.initSeries(Y)))})),y&&this.addBaseSeriesEvents()},b.prototype.addBaseSeriesEvents=function(){var y=this,d=this,w=d.baseSeries||[];w[0]&&w[0].xAxis&&w[0].eventsToUnbind.push(E(w[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),w.forEach(function(O){O.eventsToUnbind.push(E(O,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),O.eventsToUnbind.push(E(O,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),y.navigatorOptions.adaptToUpdatedData!==!1&&O.xAxis&&O.eventsToUnbind.push(E(O,"updatedData",y.updatedDataHandler)),O.eventsToUnbind.push(E(O,"remove",function(){this.navigatorSeries&&(L(d.series,this.navigatorSeries),_(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})},b.prototype.getBaseSeriesMin=function(y){return this.baseSeries.reduce(function(d,w){return Math.min(d,w.xData&&w.xData.length?w.xData[0]:d)},y)},b.prototype.modifyNavigatorAxisExtremes=function(){var y=this.xAxis;if(typeof y.getExtremes<"u"){var d=this.getUnionExtremes(!0);!d||d.dataMin===y.min&&d.dataMax===y.max||(y.min=d.dataMin,y.max=d.dataMax)}},b.prototype.modifyBaseAxisExtremes=function(){var y=this.chart.navigator,d=this.getExtremes(),w=d.dataMin,O=d.dataMax;d=d.max-d.min;var S=y.stickToMin,F=y.stickToMax,V=I(this.options.overscroll,0),K=y.series&&y.series[0],Y=!!this.setExtremes;if(!this.eventArgs||this.eventArgs.trigger!=="rangeSelectorButton"){if(S)var M=w,B=M+d;F&&(B=O+V,S||(M=Math.max(w,B-d,y.getBaseSeriesMin(K&&K.xData?K.xData[0]:-Number.MAX_VALUE)))),Y&&(S||F)&&D(M)&&(this.min=this.userMin=M,this.max=this.userMax=B)}y.stickToMin=y.stickToMax=null},b.prototype.updatedDataHandler=function(){var y=this.chart.navigator,d=this.navigatorSeries;y.stickToMax=I(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,y.reversedExtremes?Math.round(y.zoomedMin)===0:Math.round(y.zoomedMax)>=Math.round(y.size)),y.stickToMin=y.shouldStickToMin(this,y),d&&!y.hasNavigatorData&&(d.options.pointStart=this.xData[0],d.setData(this.options.data,!1,null,!1))},b.prototype.shouldStickToMin=function(y,d){d=d.getBaseSeriesMin(y.xData[0]);var w=y.xAxis;y=w.max;var O=w.min;return w=w.options.range,D(y)&&D(O)?w&&0<y-d?y-d<w:O<=d:!1},b.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(E(this.chart,"redraw",function(){var y=this.navigator,d=y&&(y.baseSeries&&y.baseSeries[0]&&y.baseSeries[0].xAxis||this.xAxis[0]);d&&y.render(d.min,d.max)}),E(this.chart,"getMargins",function(){var y=this.navigator,d=y.opposite?"plotTop":"marginBottom";this.inverted&&(d=y.opposite?"marginRight":"plotLeft"),this[d]=(this[d]||0)+(y.navigatorEnabled||!this.inverted?y.outlineHeight:0)+y.navigatorOptions.margin}))},b.prototype.destroy=function(){var y=this;this.removeEvents(),this.xAxis&&(L(this.chart.xAxis,this.xAxis),L(this.chart.axes,this.xAxis)),this.yAxis&&(L(this.chart.yAxis,this.yAxis),L(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(d){d.destroy&&d.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(d){y[d]&&y[d].destroy&&y[d].destroy(),y[d]=null}),[this.handles].forEach(function(d){T(d)})},b}()}),n(r,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}}),n(r,"Stock/RangeSelector/RangeSelectorComposition.js",[r["Core/Defaults.js"],r["Stock/RangeSelector/RangeSelectorDefaults.js"],r["Core/Utilities.js"]],function(i,o,a){function u(){var A=this.range,k=A.type,b=this.max,y=this.chart.time,d=function(F,V){var K=k==="year"?"FullYear":"Month",Y=new y.Date(F),M=y.get(K,Y);return y.set(K,Y,M+V),M===y.get(K,Y)&&y.set("Date",Y,0),Y.getTime()-F};if(j(A))var w=b-A,O=A;else A&&(w=b+d(b,-(A.count||1)),this.chart&&(this.chart.fixedRange=b-w));var S=$(this.dataMin,Number.MIN_VALUE);return j(w)||(w=S),w<=S&&(w=S,typeof O>"u"&&(O=d(w,A.count)),this.newMax=Math.min(w+O,$(this.dataMax,Number.MAX_VALUE))),j(b)?!j(A)&&A&&A._offsetMin&&(w+=A._offsetMin):w=void 0,w}function c(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new I(this))}function h(){var A=this.axes,k=this.rangeSelector;k&&(j(k.deferredYTDClick)&&(k.clickButton(k.deferredYTDClick),delete k.deferredYTDClick),A.forEach(function(b){b.updateNames(),b.setScale()}),this.getAxisMargins(),k.render(),A=k.options.verticalAlign,k.options.floating||(A==="bottom"?this.extraBottomMargin=!0:A!=="middle"&&(this.extraTopMargin=!0)))}function f(A){var k,b,y,d,w=A.rangeSelector,O=function(){w&&(k=A.xAxis[0].getExtremes(),b=A.legend,d=w&&w.options.verticalAlign,j(k.min)&&w.render(k.min,k.max),b.display&&d==="top"&&d===b.options.verticalAlign&&(y=z(A.spacingBox),y.y=b.options.layout==="vertical"?A.plotTop:y.y+w.getHeight(),b.group.placed=!1,b.align(y)))};w&&(L(D,function(S){return S[0]===A})||D.push([A,[C(A.xAxis[0],"afterSetExtremes",function(S){w&&w.render(S.min,S.max)}),C(A,"redraw",O)]]),O())}function v(){for(var A=0,k=D.length;A<k;++A){var b=D[A];if(b[0]===this){b[1].forEach(function(y){return y()}),D.splice(A,1);break}}}function g(){var A=this.rangeSelector;A&&(A=A.getHeight(),this.extraTopMargin&&(this.plotTop+=A),this.extraBottomMargin&&(this.marginBottom+=A))}function x(){var A=this.rangeSelector;A&&!A.options.floating&&(A.render(),A=A.options.verticalAlign,A==="bottom"?this.extraBottomMargin=!0:A!=="middle"&&(this.extraTopMargin=!0))}function m(A){var k=A.options.rangeSelector;A=this.extraBottomMargin;var b=this.extraTopMargin,y=this.rangeSelector;k&&k.enabled&&!_(y)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=y=new I(this)),this.extraTopMargin=this.extraBottomMargin=!1,y&&(f(this),k=k&&k.verticalAlign||y.options&&y.options.verticalAlign,y.options.floating||(k==="bottom"?this.extraBottomMargin=!0:k!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==A||this.extraTopMargin!==b)&&(this.isDirtyBox=!0)}var E=i.defaultOptions,R=i.setOptions,C=a.addEvent,_=a.defined,T=a.extend,L=a.find,j=a.isNumber,z=a.merge,$=a.pick,D=[],P=[],I;return{compose:function(A,k,b){I=b,P.indexOf(A)===-1&&(P.push(A),A.prototype.minFromRange=u),P.indexOf(k)===-1&&(P.push(k),C(k,"afterGetContainer",c),C(k,"beforeRender",h),C(k,"destroy",v),C(k,"getMargins",g),C(k,"render",x),C(k,"update",m),k.prototype.callbacks.push(f)),P.indexOf(R)===-1&&(T(E,{rangeSelector:o.rangeSelector}),T(E.lang,o.lang))}}}),n(r,"Stock/RangeSelector/RangeSelector.js",[r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/Globals.js"],r["Stock/RangeSelector/RangeSelectorComposition.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h){function f(A){if(A.indexOf("%L")!==-1)return"text";var k="aAdewbBmoyY".split("").some(function(y){return A.indexOf("%"+y)!==-1}),b="HkIlMS".split("").some(function(y){return A.indexOf("%"+y)!==-1});return k&&b?"datetime-local":k?"date":b?"time":"text"}var v=o.defaultOptions,g=h.addEvent,x=h.createElement,m=h.css,E=h.defined,R=h.destroyObjectProperties,C=h.discardElement,_=h.extend,T=h.fireEvent,L=h.isNumber,j=h.merge,z=h.objectEach,$=h.pad,D=h.pick,P=h.pInt,I=h.splat;return o=function(){function A(k){this.buttons=void 0,this.buttonOptions=A.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=k,this.init(k)}return A.compose=function(k,b){u.compose(k,b,A)},A.prototype.clickButton=function(k,b){var y=this.chart,d=this.buttonOptions[k],w=y.xAxis[0],O=y.scroller&&y.scroller.getUnionExtremes()||w||{},S=d.type,F=d.dataGrouping,V=O.dataMin,K=O.dataMax,Y=w&&Math.round(Math.min(w.max,D(K,w.max)));O=d._range;var M,B=!0;if(V!==null&&K!==null){if(y.fixedRange=O,this.setSelected(k),F&&(this.forcedDataGrouping=!0,i.prototype.setDataGrouping.call(w||{chart:this.chart},F,!1),this.frozenStates=d.preserveDataGrouping),S==="month"||S==="year")if(w){S={range:d,max:Y,chart:y,dataMin:V,dataMax:K};var H=w.minFromRange.call(S);L(S.newMax)&&(Y=S.newMax),B=!1}else O=d;else if(O)H=Math.max(Y-O,V),Y=Math.min(H+O,K),B=!1;else if(S==="ytd")if(w)(typeof K>"u"||typeof V>"u")&&(V=Number.MAX_VALUE,K=Number.MIN_VALUE,y.series.forEach(function(X){(X=X.xData)&&(V=Math.min(X[0],V),K=Math.max(X[X.length-1],K))}),b=!1),S=this.getYTDExtremes(K,V,y.time.useUTC),H=M=S.min,Y=S.max;else{this.deferredYTDClick=k;return}else S==="all"&&w&&(y.navigator&&y.navigator.baseSeries[0]&&(y.navigator.baseSeries[0].xAxis.options.range=void 0),H=V,Y=K);if(B&&d._offsetMin&&E(H)&&(H+=d._offsetMin),d._offsetMax&&E(Y)&&(Y+=d._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=k+1),w)w.setExtremes(H,Y,D(b,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:d});else{var q=I(y.options.xAxis)[0],Q=q.range;q.range=O;var U=q.min;q.min=M,g(y,"load",function(){q.range=Q,q.min=U})}T(this,"afterBtnClick")}},A.prototype.setSelected=function(k){this.selected=this.options.selected=k},A.prototype.init=function(k){var b=this,y=k.options.rangeSelector,d=y.buttons||b.defaultButtons.slice(),w=y.selected,O=function(){var S=b.minInput,F=b.maxInput;S&&S.blur&&T(S,"blur"),F&&F.blur&&T(F,"blur")};b.chart=k,b.options=y,b.buttons=[],b.buttonOptions=d,this.eventsToUnbind=[],this.eventsToUnbind.push(g(k.container,"mousedown",O)),this.eventsToUnbind.push(g(k,"resize",O)),d.forEach(b.computeButtonRange),typeof w<"u"&&d[w]&&this.clickButton(w,!1),this.eventsToUnbind.push(g(k,"load",function(){k.xAxis&&k.xAxis[0]&&g(k.xAxis[0],"setExtremes",function(S){this.max-this.min!==k.fixedRange&&S.trigger!=="rangeSelectorButton"&&S.trigger!=="updatedData"&&b.forcedDataGrouping&&!b.frozenStates&&this.setDataGrouping(!1,!1)})}))},A.prototype.updateButtonStates=function(){var k=this,b=this.chart,y=this.dropdown,d=b.xAxis[0],w=Math.round(d.max-d.min),O=!d.hasVisibleSeries,S=b.scroller&&b.scroller.getUnionExtremes()||d,F=S.dataMin,V=S.dataMax;b=k.getYTDExtremes(V,F,b.time.useUTC);var K=b.min,Y=b.max,M=k.selected,B=k.options.allButtonsEnabled,H=k.buttons,q=L(M);k.buttonOptions.forEach(function(Q,U){var X=Q._range,G=Q.type,Z=Q.count||1,J=H[U],et=Q._offsetMax-Q._offsetMin,nt=U===M,at=X>V-F,st=X<d.minRange;Q=0;var mt=!1,wt=!1;X=X===w,(G==="month"||G==="year")&&w+36e5>=864e5*{month:28,year:365}[G]*Z-et&&w-36e5<=864e5*{month:31,year:366}[G]*Z+et?X=!0:G==="ytd"?(X=Y-K+et===w,mt=!nt):G==="all"&&(X=d.max-d.min>=V-F,wt=!nt&&q&&X),G=!B&&(at||st||wt||O),Z=nt&&X||X&&!q&&!mt||nt&&k.frozenStates,G?Q=3:Z&&(q=!0,Q=2),J.state!==Q&&(J.setState(Q),y&&(y.options[U+1].disabled=G,Q===2&&(y.selectedIndex=U+1)),Q===0&&M===U&&k.setSelected())})},A.prototype.computeButtonRange=function(k){var b=k.type,y=k.count||1,d={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};d[b]?k._range=d[b]*y:(b==="month"||b==="year")&&(k._range=864e5*{month:30,year:365}[b]*y),k._offsetMin=D(k.offsetMin,0),k._offsetMax=D(k.offsetMax,0),k._range+=k._offsetMax-k._offsetMin},A.prototype.getInputValue=function(k){k=k==="min"?this.minInput:this.maxInput;var b=this.chart.options.rangeSelector,y=this.chart.time;return k?(k.type==="text"&&b.inputDateParser||this.defaultInputDateParser)(k.value,y.useUTC,y):0},A.prototype.setInputValue=function(k,b){var y=this.options,d=this.chart.time,w=k==="min"?this.minInput:this.maxInput;if(k=k==="min"?this.minDateBox:this.maxDateBox,w){var O=w.getAttribute("data-hc-time");O=E(O)?Number(O):void 0,E(b)&&(E(O)&&w.setAttribute("data-hc-time-previous",O),w.setAttribute("data-hc-time",b),O=b),w.value=d.dateFormat(this.inputTypeFormats[w.type]||y.inputEditDateFormat,O),k&&k.attr({text:d.dateFormat(y.inputDateFormat,O)})}},A.prototype.setInputExtremes=function(k,b,y){if(k=k==="min"?this.minInput:this.maxInput){var d=this.inputTypeFormats[k.type],w=this.chart.time;d&&(b=w.dateFormat(d,b),k.min!==b&&(k.min=b),y=w.dateFormat(d,y),k.max!==y&&(k.max=y))}},A.prototype.showInput=function(k){var b=k==="min"?this.minDateBox:this.maxDateBox;if((k=k==="min"?this.minInput:this.maxInput)&&b&&this.inputGroup){var y=k.type==="text",d=this.inputGroup,w=d.translateX;d=d.translateY;var O=this.options.inputBoxWidth;m(k,{width:y?b.width+(O?-2:20)+"px":"auto",height:y?b.height-2+"px":"auto",border:"2px solid silver"}),y&&O?m(k,{left:w+b.x+"px",top:d+"px"}):m(k,{left:Math.min(Math.round(b.x+w-(k.offsetWidth-b.width)/2),this.chart.chartWidth-k.offsetWidth)+"px",top:d-(k.offsetHeight-b.height)/2+"px"})}},A.prototype.hideInput=function(k){(k=k==="min"?this.minInput:this.maxInput)&&m(k,{top:"-9999em",border:0,width:"1px",height:"1px"})},A.prototype.defaultInputDateParser=function(k,b,y){var d=k.split("/").join("-").split(" ").join("T");if(d.indexOf("T")===-1&&(d+="T00:00"),b)d+="Z";else{var w;(w=a.isSafari)&&(w=d,w=!(6<w.length&&(w.lastIndexOf("-")===w.length-6||w.lastIndexOf("+")===w.length-6))),w&&(w=new Date(d).getTimezoneOffset()/60,d+=0>=w?"+".concat($(-w),":00"):"-".concat($(w),":00"))}return d=Date.parse(d),L(d)||(k=k.split("-"),d=Date.UTC(P(k[0]),P(k[1])-1,P(k[2]))),y&&b&&L(d)&&(d+=y.getTimezoneOffset(d)),d},A.prototype.drawInput=function(k){function b(){var H=O.maxInput,q=O.minInput,Q=y.xAxis[0],U=y.scroller&&y.scroller.xAxis?y.scroller.xAxis:Q,X=U.dataMin;U=U.dataMax;var G=O.getInputValue(k);G!==Number(M.getAttribute("data-hc-time-previous"))&&L(G)&&(M.setAttribute("data-hc-time-previous",G),K&&H&&L(X)?G>Number(H.getAttribute("data-hc-time"))?G=void 0:G<X&&(G=X):q&&L(U)&&(G<Number(q.getAttribute("data-hc-time"))?G=void 0:G>U&&(G=U)),typeof G<"u"&&Q.setExtremes(K?G:Q.min,K?Q.max:G,void 0,void 0,{trigger:"rangeSelectorInput"}))}var y=this.chart,d=this.div,w=this.inputGroup,O=this,S=y.renderer.style||{},F=y.renderer,V=y.options.rangeSelector,K=k==="min",Y=v.lang[K?"rangeSelectorFrom":"rangeSelectorTo"]||"";Y=F.label(Y,0).addClass("highcharts-range-label").attr({padding:Y?2:0,height:Y?V.inputBoxHeight:0}).add(w),F=F.label("",0).addClass("highcharts-range-input").attr({padding:2,width:V.inputBoxWidth,height:V.inputBoxHeight,"text-align":"center"}).on("click",function(){O.showInput(k),O[k+"Input"].focus()}),y.styledMode||F.attr({stroke:V.inputBoxBorderColor,"stroke-width":1}),F.add(w);var M=x("input",{name:k,className:"highcharts-range-selector"},void 0,d);M.setAttribute("type",f(V.inputDateFormat||"%b %e, %Y")),y.styledMode||(Y.css(j(S,V.labelStyle)),F.css(j({color:"#333333"},S,V.inputStyle)),m(M,_({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:S.fontSize,fontFamily:S.fontFamily,top:"-9999em"},V.inputStyle))),M.onfocus=function(){O.showInput(k)},M.onblur=function(){M===a.doc.activeElement&&b(),O.hideInput(k),O.setInputValue(k),M.blur()};var B=!1;return M.onchange=function(){B||(b(),O.hideInput(k),M.blur())},M.onkeypress=function(H){H.keyCode===13&&b()},M.onkeydown=function(H){B=!0,H.keyCode!==38&&H.keyCode!==40||b()},M.onkeyup=function(){B=!1},{dateBox:F,input:M,label:Y}},A.prototype.getPosition=function(){var k=this.chart,b=k.options.rangeSelector;return k=b.verticalAlign==="top"?k.plotTop-k.axisOffset[0]:0,{buttonTop:k+b.buttonPosition.y,inputTop:k+b.inputPosition.y-10}},A.prototype.getYTDExtremes=function(k,b,y){var d=this.chart.time,w=new d.Date(k),O=d.get("FullYear",w);return y=y?d.Date.UTC(O,0,1):+new d.Date(O,0,1),b=Math.max(b,y),w=w.getTime(),{max:Math.min(k||w,w),min:b}},A.prototype.render=function(k,b){var y=this.chart,d=y.renderer,w=y.container,O=y.options,S=O.rangeSelector,F=D(O.chart.style&&O.chart.style.zIndex,0)+1;if(O=S.inputEnabled,S.enabled!==!1){if(this.rendered||(this.group=d.g("range-selector-group").attr({zIndex:7}).add(),this.div=x("div",void 0,{position:"relative",height:0,zIndex:F}),this.buttonOptions.length&&this.renderButtons(),w.parentNode&&w.parentNode.insertBefore(this.div,w),O&&(this.inputGroup=d.g("input-group").add(this.group),d=this.drawInput("min"),this.minDateBox=d.dateBox,this.minLabel=d.label,this.minInput=d.input,d=this.drawInput("max"),this.maxDateBox=d.dateBox,this.maxLabel=d.label,this.maxInput=d.input)),O&&(this.setInputValue("min",k),this.setInputValue("max",b),k=y.scroller&&y.scroller.getUnionExtremes()||y.xAxis[0]||{},E(k.dataMin)&&E(k.dataMax)&&(y=y.xAxis[0].minRange||0,this.setInputExtremes("min",k.dataMin,Math.min(k.dataMax,this.getInputValue("max"))-y),this.setInputExtremes("max",Math.max(k.dataMin,this.getInputValue("min"))+y,k.dataMax)),this.inputGroup)){var V=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(K){if(K){var Y=K.getBBox().width;Y&&(K.attr({x:V}),V+=Y+S.inputSpacing)}})}this.alignElements(),this.rendered=!0}},A.prototype.renderButtons=function(){var k=this,b=this.buttons,y=this.options,d=v.lang,w=this.chart.renderer,O=j(y.buttonTheme),S=O&&O.states,F=O.width||28;delete O.width,delete O.states,this.buttonGroup=w.g("range-selector-buttons").add(this.group);var V=this.dropdown=x("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);g(V,"touchstart",function(){V.style.fontSize="16px"}),[[a.isMS?"mouseover":"mouseenter"],[a.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(K){var Y=K[0],M=K[1];g(V,Y,function(){var B=b[k.currentButtonIndex()];B&&T(B.element,M||Y)})}),this.zoomText=w.label(d&&d.rangeSelectorZoom||"",0).attr({padding:y.buttonTheme.padding,height:y.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(y.labelStyle),O["stroke-width"]=D(O["stroke-width"],0)),x("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,V),this.buttonOptions.forEach(function(K,Y){x("option",{textContent:K.title||K.text},void 0,V),b[Y]=w.button(K.text,0,0,function(M){var B=K.events&&K.events.click,H;B&&(H=B.call(K,M)),H!==!1&&k.clickButton(Y),k.isActive=!0},O,S&&S.hover,S&&S.select,S&&S.disabled).attr({"text-align":"center",width:F}).add(k.buttonGroup),K.title&&b[Y].attr("title",K.title)})},A.prototype.alignElements=function(){var k=this,b=this.buttonGroup,y=this.buttons,d=this.chart,w=this.group,O=this.inputGroup,S=this.options,F=this.zoomText,V=d.options,K=V.exporting&&V.exporting.enabled!==!1&&V.navigation&&V.navigation.buttonOptions;V=S.buttonPosition;var Y=S.inputPosition,M=S.verticalAlign,B=function(U,X){return K&&k.titleCollision(d)&&M==="top"&&X.align==="right"&&X.y-U.getBBox().height-12<(K.y||0)+(K.height||0)+d.spacing[0]?-40:0},H=d.plotLeft;if(w&&V&&Y){var q=V.x-d.spacing[3];if(b){if(this.positionButtons(),!this.initialButtonGroupWidth){var Q=0;F&&(Q+=F.getBBox().width+5),y.forEach(function(U,X){Q+=U.width,X!==y.length-1&&(Q+=S.buttonSpacing)}),this.initialButtonGroupWidth=Q}H-=d.spacing[3],this.updateButtonStates(),F=B(b,V),this.alignButtonGroup(F),w.placed=b.placed=d.hasLoaded}b=0,O&&(b=B(O,Y),Y.align==="left"?q=H:Y.align==="right"&&(q=-Math.max(d.axisOffset[1],-b)),O.align({y:Y.y,width:O.getBBox().width,align:Y.align,x:Y.x+q-2},!0,d.spacingBox),O.placed=d.hasLoaded),this.handleCollision(b),w.align({verticalAlign:M},!0,d.spacingBox),O=w.alignAttr.translateY,b=w.getBBox().height+20,B=0,M==="bottom"&&(B=(B=d.legend&&d.legend.options)&&B.verticalAlign==="bottom"&&B.enabled&&!B.floating?d.legend.legendHeight+D(B.margin,10):0,b=b+B-20,B=O-b-(S.floating?0:S.y)-(d.titleOffset?d.titleOffset[2]:0)-10),M==="top"?(S.floating&&(B=0),d.titleOffset&&d.titleOffset[0]&&(B=d.titleOffset[0]),B+=d.margin[0]-d.spacing[0]||0):M==="middle"&&(Y.y===V.y?B=O:(Y.y||V.y)&&(B=0>Y.y||0>V.y?B-Math.min(Y.y,V.y):O-b)),w.translate(S.x,S.y+Math.floor(B)),V=this.minInput,Y=this.maxInput,O=this.dropdown,S.inputEnabled&&V&&Y&&(V.style.marginTop=w.translateY+"px",Y.style.marginTop=w.translateY+"px"),O&&(O.style.marginTop=w.translateY+"px")}},A.prototype.alignButtonGroup=function(k,b){var y=this.chart,d=this.buttonGroup,w=this.options.buttonPosition,O=y.plotLeft-y.spacing[3],S=w.x-y.spacing[3];w.align==="right"?S+=k-O:w.align==="center"&&(S-=O/2),d&&d.align({y:w.y,width:D(b,this.initialButtonGroupWidth),align:w.align,x:S},!0,y.spacingBox)},A.prototype.positionButtons=function(){var k=this.buttons,b=this.chart,y=this.options,d=this.zoomText,w=b.hasLoaded?"animate":"attr",O=y.buttonPosition,S=b=b.plotLeft;for(d&&d.visibility!=="hidden"&&(d[w]({x:D(b+O.x,b)}),S+=O.x+d.getBBox().width+5),d=0,O=this.buttonOptions.length;d<O;++d)k[d].visibility!=="hidden"?(k[d][w]({x:S}),S+=k[d].width+y.buttonSpacing):k[d][w]({x:b})},A.prototype.handleCollision=function(k){var b=this,y=this.chart,d=this.buttonGroup,w=this.inputGroup,O=this.options,S=O.buttonPosition,F=O.dropdown,V=O.inputPosition;O=function(){var M=0;return b.buttons.forEach(function(B){B=B.getBBox(),B.width>M&&(M=B.width)}),M};var K=function(M){if(w&&d){var B=w.alignAttr.translateX+w.alignOptions.x-k+w.getBBox().x+2,H=w.alignOptions.width,q=d.alignAttr.translateX+d.getBBox().x;return q+M>B&&B+H>q&&S.y<V.y+w.getBBox().height}return!1},Y=function(){w&&d&&w.attr({translateX:w.alignAttr.translateX+(y.axisOffset[1]>=-k?0:-k),translateY:w.alignAttr.translateY+d.getBBox().height+10})};if(d){if(F==="always"){this.collapseButtons(k),K(O())&&Y();return}F==="never"&&this.expandButtons()}w&&d?V.align===S.align||K(this.initialButtonGroupWidth+20)?F==="responsive"?(this.collapseButtons(k),K(O())&&Y()):Y():F==="responsive"&&this.expandButtons():d&&F==="responsive"&&(this.initialButtonGroupWidth>y.plotWidth?this.collapseButtons(k):this.expandButtons())},A.prototype.collapseButtons=function(k){var b=this.buttons,y=this.buttonOptions,d=this.chart,w=this.dropdown,O=this.options,S=this.zoomText,F=d.userOptions.rangeSelector&&d.userOptions.rangeSelector.buttonTheme||{},V=function(Y){return{text:Y?""+Y+" ▾":"▾",width:"auto",paddingLeft:D(O.buttonTheme.paddingLeft,F.padding,8),paddingRight:D(O.buttonTheme.paddingRight,F.padding,8)}};S&&S.hide();var K=!1;y.forEach(function(Y,M){M=b[M],M.state!==2?M.hide():(M.show(),M.attr(V(Y.text)),K=!0)}),K||(w&&(w.selectedIndex=0),b[0].show(),b[0].attr(V(this.zoomText&&this.zoomText.textStr))),y=O.buttonPosition.align,this.positionButtons(),y!=="right"&&y!=="center"||this.alignButtonGroup(k,b[this.currentButtonIndex()].getBBox().width),this.showDropdown()},A.prototype.expandButtons=function(){var k=this.buttons,b=this.buttonOptions,y=this.options,d=this.zoomText;this.hideDropdown(),d&&d.show(),b.forEach(function(w,O){O=k[O],O.show(),O.attr({text:w.text,width:y.buttonTheme.width||28,paddingLeft:D(y.buttonTheme.paddingLeft,"unset"),paddingRight:D(y.buttonTheme.paddingRight,"unset")}),2>O.state&&O.setState(0)}),this.positionButtons()},A.prototype.currentButtonIndex=function(){var k=this.dropdown;return k&&0<k.selectedIndex?k.selectedIndex-1:0},A.prototype.showDropdown=function(){var k=this.buttonGroup,b=this.buttons,y=this.chart,d=this.dropdown;if(k&&d){var w=k.translateX;k=k.translateY,b=b[this.currentButtonIndex()].getBBox(),m(d,{left:y.plotLeft+w+"px",top:k+.5+"px",width:b.width+"px",height:b.height+"px"}),this.hasVisibleDropdown=!0}},A.prototype.hideDropdown=function(){var k=this.dropdown;k&&(m(k,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},A.prototype.getHeight=function(){var k=this.options,b=this.group,y=k.y,d=k.buttonPosition.y,w=k.inputPosition.y;return k.height?k.height:(this.alignElements(),k=b?b.getBBox(!0).height+13+y:0,b=Math.min(w,d),(0>w&&0>d||0<w&&0<d)&&(k+=Math.abs(b)),k)},A.prototype.titleCollision=function(k){return!(k.options.title.text||k.options.subtitle.text)},A.prototype.update=function(k){var b=this.chart;j(!0,b.options.rangeSelector,k),this.destroy(),this.init(b),this.render()},A.prototype.destroy=function(){var k=this,b=k.minInput,y=k.maxInput;k.eventsToUnbind&&(k.eventsToUnbind.forEach(function(d){return d()}),k.eventsToUnbind=void 0),R(k.buttons),b&&(b.onfocus=b.onblur=b.onchange=null),y&&(y.onfocus=y.onblur=y.onchange=null),z(k,function(d,w){d&&w!=="chart"&&(d instanceof c?d.destroy():d instanceof e.HTMLElement&&C(d)),d!==A.prototype[w]&&(k[w]=null)},this)},A}(),_(o.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),o}),n(r,"Core/Axis/OrdinalAxis.js",[r["Core/Axis/Axis.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=u.addEvent,h=u.correctFloat,f=u.css,v=u.defined,g=u.error,x=u.pick,m=u.timeUnits,E=[],R;return function(C){function _(y,d,w,O,S,F,V){S===void 0&&(S=[]),F===void 0&&(F=0);var K={},Y=this.options.tickPixelInterval,M=this.chart.time,B=[],H,q,Q=0,U=[],X=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!S||3>S.length||typeof d>"u")return M.getTimeTicks.apply(M,arguments);var G=S.length;for(H=0;H<G;H++){var Z=H&&S[H-1]>w;if(S[H]<d&&(Q=H),H===G-1||S[H+1]-S[H]>5*F||Z){if(S[H]>X){for(q=M.getTimeTicks(y,S[Q],S[H],O);q.length&&q[0]<=X;)q.shift();q.length&&(X=q[q.length-1]),B.push(U.length),U=U.concat(q)}Q=H+1}if(Z)break}if(q){if(q=q.info,V&&q.unitRange<=m.hour){for(H=U.length-1,Q=1;Q<H;Q++)if(M.dateFormat("%d",U[Q])!==M.dateFormat("%d",U[Q-1])){K[U[Q]]="day";var J=!0}J&&(K[U[0]]="day"),q.higherRanks=K}q.segmentStarts=B,U.info=q}else g(12,!1,this.chart);if(V&&v(Y)){for(q=U.length,M=[],Q=[],H=void 0,J=q;J--;)B=this.translate(U[J]),H&&(Q[J]=H-B),M[J]=H=B;for(Q.sort(),Q=Q[Math.floor(Q.length/2)],Q<.6*Y&&(Q=null),J=U[q-1]>w?q-1:q,H=void 0;J--;)B=M[J],q=Math.abs(H-B),H&&q<.8*Y&&(Q===null||q<.8*Q)?(K[U[J]]&&!K[U[J+1]]?(q=J+1,H=B):q=J,U.splice(q,1)):H=B}return U}function T(y){var d=this.ordinal.positions;if(!d)return y;var w=d.length-1;if(0>y)y=d[0];else if(y>w)y=d[w];else{w=Math.floor(y);var O=y-w}return typeof O<"u"&&typeof d[w]<"u"?d[w]+(O?O*(d[w+1]-d[w]):0):y}function L(y){var d=this.ordinal,w=d.positions;if(!w)return y;var O=(y-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<O&&O<this.left+this.len||(d.extendedOrdinalPositions||(d.extendedOrdinalPositions=d.getExtendedPositions()),w=d.extendedOrdinalPositions),w&&w.length){if(y=d.getIndexOfPoint(O,w),d=h(y%1),0<=y&&y<w.length-1)return w[Math.floor(y)]+d*(w[Math.ceil(y)]-w[Math.floor(y)]);d=w.length,O=w[0],w=w[d-1];var S=(w-O)/(d-1);return 0>y?O+S*y:w+S*(y-d)}return y}function j(y,d){var w=C.Additions.findIndexOf(y,d,!0);return y[w]===d?w:w+(d-y[w])/(y[w+1]-y[w])}function z(){this.ordinal||(this.ordinal=new C.Additions(this))}function $(){this.isXAxis&&v(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&v(this.userMin)&&(this.min+=this.options.overscroll))}function D(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function P(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function I(y){var d=this.xAxis[0],w=d.options.overscroll,O=y.originalEvent.chartX,S=this.options.chart.panning,F=!1;if(S&&S.type!=="y"&&d.options.ordinal&&d.series.length){var V=this.mouseDownX,K=d.getExtremes(),Y=K.dataMax,M=K.min,B=K.max,H=this.hoverPoints,q=d.closestPointRange||d.ordinal&&d.ordinal.overscrollPointsRange;V=(V-O)/(d.translationSlope*(d.ordinal.slope||q)),q=d.ordinal.getExtendedPositions(),q={ordinal:{positions:q,extendedOrdinalPositions:q}};var Q=d.index2val,U=d.val2lin,X=void 0,G=X=void 0,Z=void 0;q.ordinal.positions?1<Math.abs(V)&&(H&&H.forEach(function(J){J.setState()}),0>V?(G=q,Z=d.ordinal.positions?d:q):(G=d.ordinal.positions?d:q,Z=q),X=Z.ordinal.positions,Y>X[X.length-1]&&X.push(Y),this.fixedRange=B-M,X=d.navigatorAxis.toFixedRange(void 0,void 0,Q.apply(G,[U.apply(G,[M,!0])+V]),Q.apply(Z,[U.apply(Z,[B,!0])+V])),X.min>=Math.min(K.dataMin,M)&&X.max<=Math.max(Y,B)+w&&d.setExtremes(X.min,X.max,!0,!1,{trigger:"pan"}),this.mouseDownX=O,f(this.container,{cursor:"move"})):F=!0}else F=!0;F||S&&/y/.test(S.type)?w&&(d.max=d.dataMax+w):y.preventDefault()}function A(){var y=this.xAxis;y&&y.options.ordinal&&(delete y.ordinal.index,delete y.ordinal.extendedOrdinalPositions)}function k(y,d){var w=this.ordinal,O=w.positions,S=w.slope,F=w.extendedOrdinalPositions;if(!O)return y;var V=O.length;if(O[0]<=y&&O[V-1]>=y)y=j(O,y);else{if(F||(F=w.getExtendedPositions&&w.getExtendedPositions(),w.extendedOrdinalPositions=F),!F||!F.length)return y;V=F.length,S||(S=(F[V-1]-F[0])/V),O=j(F,O[0]),y>=F[0]&&y<=F[V-1]?y=j(F,y)-O:y<F[0]?(y=F[0]-y,y=-O-y/S):(y-=F[V-1],y=y/S+V-O)}return d?y:S*(y||0)+w.offset}C.compose=function(y,d,w){if(E.indexOf(y)===-1){E.push(y);var O=y.prototype;O.getTimeTicks=_,O.index2val=T,O.lin2val=L,O.val2lin=k,O.ordinal2lin=O.val2lin,c(y,"afterInit",z),c(y,"foundExtremes",$),c(y,"afterSetScale",D),c(y,"initialAxisTranslation",P)}return E.indexOf(w)===-1&&(E.push(w),c(w,"pan",I)),E.indexOf(d)===-1&&(E.push(d),c(d,"updatedData",A)),y};var b=function(){function y(d){this.index={},this.axis=d}return y.prototype.beforeSetTickPositions=function(){var d=this.axis,w=d.ordinal,O=d.getExtremes(),S=O.min,F=O.max,V=d.isXAxis&&!!d.options.breaks;O=d.options.ordinal;var K=d.chart.options.chart.ignoreHiddenSeries,Y,M,B=[],H=Number.MAX_VALUE,q=!1,Q=!1,U=!1;if(O||V){var X=0;d.series.forEach(function(J,et){if(Y=[],0<et&&J.options.id!=="highcharts-navigator-series"&&1<J.processedXData.length&&(Q=X!==J.processedXData[1]-J.processedXData[0]),X=J.processedXData[1]-J.processedXData[0],J.boosted&&(U=J.boosted),!(K&&J.visible===!1||J.takeOrdinalPosition===!1&&!V)&&(B=B.concat(J.processedXData),G=B.length,B.sort(function(nt,at){return nt-at}),H=Math.min(H,x(J.closestPointRange,H)),G)){for(et=0;et<G-1;)B[et]!==B[et+1]&&Y.push(B[et+1]),et++;Y[0]!==B[0]&&Y.unshift(B[0]),B=Y}}),Q&&U&&(B.pop(),B.shift());var G=B.length;if(2<G){var Z=B[1]-B[0];for(M=G-1;M--&&!q;)B[M+1]-B[M]!==Z&&(q=!0);!d.options.keepOrdinalPadding&&(B[0]-S>Z||F-B[B.length-1]>Z)&&(q=!0)}else d.options.overscroll&&(G===2?H=B[1]-B[0]:G===1?(H=d.options.overscroll,B=[B[0],B[0]+H]):H=w.overscrollPointsRange);q||d.forceOrdinal?(d.options.overscroll&&(w.overscrollPointsRange=H,B=B.concat(w.getOverscrollPositions())),w.positions=B,Z=d.ordinal2lin(Math.max(S,B[0]),!0),M=Math.max(d.ordinal2lin(Math.min(F,B[B.length-1]),!0),1),w.slope=F=(F-S)/(M-Z),w.offset=S-Z*F):(w.overscrollPointsRange=x(d.closestPointRange,w.overscrollPointsRange),w.positions=d.ordinal.slope=w.offset=void 0)}d.isOrdinal=O&&q,w.groupIntervalFactor=null},y.findIndexOf=function(d,w,O){for(var S=0,F=d.length-1,V;S<F;)V=Math.ceil((S+F)/2),d[V]<=w?S=V:F=V-1;return d[S]===w||O?S:-1},y.prototype.getExtendedPositions=function(){var d=this,w=d.axis,O=w.constructor.prototype,S=w.chart,F=w.series[0].currentDataGrouping,V=F?F.count+F.unitName:"raw",K=w.options.overscroll,Y=w.getExtremes(),M=void 0,B=d.index;if(B||(B=d.index={}),!B[V]){var H={series:[],chart:S,forceOrdinal:!1,getExtremes:function(){return{min:Y.dataMin,max:Y.dataMax+K}},getGroupPixelWidth:O.getGroupPixelWidth,getTimeTicks:O.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:O.ordinal2lin,getIndexOfPoint:O.getIndexOfPoint,val2lin:O.val2lin};H.ordinal.axis=H,w.series.forEach(function(q){M={xAxis:H,xData:q.xData.slice(),chart:S,destroyGroupedData:o.noop,getProcessedData:a.prototype.getProcessedData,applyGrouping:a.prototype.applyGrouping},M.xData=M.xData.concat(d.getOverscrollPositions()),M.options={dataGrouping:F?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[F.unitName,[F.count]]]}:{enabled:!1}},H.series.push(M),q.processData.apply(M)}),M.closestPointRange!==M.basePointRange&&M.currentDataGrouping&&(H.forceOrdinal=!0),w.ordinal.beforeSetTickPositions.apply({axis:H}),B[V]=H.ordinal.positions}return B[V]},y.prototype.getGroupIntervalFactor=function(d,w,O){O=O.processedXData;var S=O.length,F=[],V=this.groupIntervalFactor;if(!V){for(V=0;V<S-1;V++)F[V]=O[V+1]-O[V];F.sort(function(K,Y){return K-Y}),F=F[Math.floor(S/2)],d=Math.max(d,O[0]),w=Math.min(w,O[S-1]),this.groupIntervalFactor=V=S*F/(w-d)}return V},y.prototype.getIndexOfPoint=function(d,w){var O=this.axis,S=this.positions?this.positions[0]:0,F=O.series[0].points&&O.series[0].points[0]&&O.series[0].points[0].plotX||O.minPixelPadding;return 1<O.series.length&&O.series.forEach(function(V){V.points&&v(V.points[0])&&v(V.points[0].plotX)&&V.points[0].plotX<F&&V.points[0].plotX>=x(O.min,-1/0)&&(F=V.points[0].plotX)}),d=(d-F)/(O.translationSlope*(this.slope||O.closestPointRange||this.overscrollPointsRange)),y.findIndexOf(w,S)+d},y.prototype.getOverscrollPositions=function(){var d=this.axis,w=d.options.overscroll,O=this.overscrollPointsRange,S=[],F=d.dataMax;if(v(O))for(;F<=d.dataMax+w;)F+=O,S.push(F);return S},y.prototype.postProcessTickInterval=function(d){var w=this.axis,O=this.slope;return O?w.options.breaks?w.closestPointRange||d:d/(O/w.closestPointRange):d},y}();C.Additions=b}(R||(R={})),R}),n(r,"Series/HLC/HLCPoint.js",[r["Core/Series/SeriesRegistry.js"]],function(i){var o=this&&this.__extends||function(){var a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var v in f)f.hasOwnProperty(v)&&(h[v]=f[v])},a(u,c)};return function(u,c){function h(){this.constructor=u}a(u,c),u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();return function(a){function u(){var c=a!==null&&a.apply(this,arguments)||this;return c.close=void 0,c.high=void 0,c.low=void 0,c.options=void 0,c.plotClose=void 0,c.series=void 0,c}return o(u,a),u}(i.seriesTypes.column.prototype.pointClass)}),n(r,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),n(r,"Series/HLC/HLCSeries.js",[r["Series/HLC/HLCPoint.js"],r["Series/HLC/HLCSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var g=function(x,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,R){E.__proto__=R}||function(E,R){for(var C in R)R.hasOwnProperty(C)&&(E[C]=R[C])},g(x,m)};return function(x,m){function E(){this.constructor=x}g(x,m),x.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}}(),h=a.seriesTypes.column,f=u.extend,v=u.merge;return u=function(g){function x(){var m=g!==null&&g.apply(this,arguments)||this;return m.data=void 0,m.options=void 0,m.points=void 0,m.yData=void 0,m}return c(x,g),x.prototype.extendStem=function(m,E,R){var C=m[0];m=m[1],typeof C[2]=="number"&&(C[2]=Math.max(R+E,C[2])),typeof m[2]=="number"&&(m[2]=Math.min(R-E,m[2]))},x.prototype.getPointPath=function(m,E){E=E.strokeWidth();var R=m.series,C=E%2/2,_=Math.round(m.plotX)-C,T=Math.round(m.shapeArgs.width/2),L=[["M",_,Math.round(m.yBottom)],["L",_,Math.round(m.plotHigh)]];return m.close!==null&&(m=Math.round(m.plotClose)+C,L.push(["M",_,m],["L",_+T,m]),R.extendStem(L,E/2,m)),L},x.prototype.drawSinglePoint=function(m){var E=m.series,R=E.chart,C=m.graphic;typeof m.plotY<"u"&&(C||(m.graphic=C=R.renderer.path().add(E.group)),R.styledMode||C.attr(E.pointAttribs(m,m.selected&&"select")),E=E.getPointPath(m,C),C[C?"animate":"attr"]({d:E}).addClass(m.getClassName(),!0))},x.prototype.drawPoints=function(){this.points.forEach(this.drawSinglePoint)},x.prototype.init=function(){g.prototype.init.apply(this,arguments),this.options.stacking=void 0},x.prototype.pointAttribs=function(m,E){return m=g.prototype.pointAttribs.call(this,m,E),delete m.fill,m},x.prototype.toYData=function(m){return[m.high,m.low,m.close]},x.prototype.translate=function(){var m=this,E=m.yAxis,R=this.pointArrayMap&&this.pointArrayMap.slice()||[],C=R.map(function(_){return"plot".concat(_.charAt(0).toUpperCase()+_.slice(1))});C.push("yBottom"),R.push("low"),g.prototype.translate.apply(m),m.points.forEach(function(_){R.forEach(function(T,L){T=_[T],T!==null&&(m.dataModify&&(T=m.dataModify.modifyValue(T)),_[C[L]]=E.toPixels(T,!0))}),_.tooltipPos[1]=_.plotHigh+E.pos-m.chart.plotTop})},x.defaultOptions=v(h.defaultOptions,o),x}(h),f(u.prototype,{pointClass:i,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),a.registerSeriesType("hlc",u),u}),n(r,"Series/OHLC/OHLCPoint.js",[r["Core/Series/SeriesRegistry.js"]],function(i){var o=this&&this.__extends||function(){var a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var v in f)f.hasOwnProperty(v)&&(h[v]=f[v])},a(u,c)};return function(u,c){function h(){this.constructor=u}a(u,c),u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();return function(a){function u(){var c=a!==null&&a.apply(this,arguments)||this;return c.open=void 0,c.options=void 0,c.plotOpen=void 0,c.series=void 0,c}return o(u,a),u.prototype.getClassName=function(){return a.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")},u.prototype.resolveUpColor=function(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)},u.prototype.resolveColor=function(){a.prototype.resolveColor.call(this),this.resolveUpColor()},u.prototype.getZone=function(){var c=a.prototype.getZone.call(this);return this.resolveUpColor(),c},u.prototype.applyOptions=function(){return a.prototype.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this},u}(i.seriesTypes.hlc.prototype.pointClass)}),n(r,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),n(r,"Series/OHLC/OHLCSeries.js",[r["Series/OHLC/OHLCPoint.js"],r["Series/OHLC/OHLCSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){function c(C){C=C.options;var _=C.dataGrouping;_&&C.useOhlcData&&C.id!=="highcharts-navigator-series"&&(_.approximation="ohlc")}function h(C){C=C.options,C.useOhlcData&&C.id!=="highcharts-navigator-series"&&x(this,{pointValKey:R.prototype.pointValKey,pointArrayMap:R.prototype.pointArrayMap,toYData:R.prototype.toYData})}var f=this&&this.__extends||function(){var C=function(_,T){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,j){L.__proto__=j}||function(L,j){for(var z in j)j.hasOwnProperty(z)&&(L[z]=j[z])},C(_,T)};return function(_,T){function L(){this.constructor=_}C(_,T),_.prototype=T===null?Object.create(T):(L.prototype=T.prototype,new L)}}(),v=a.seriesTypes.hlc,g=u.addEvent,x=u.extend,m=u.merge,E=[],R=function(C){function _(){var T=C!==null&&C.apply(this,arguments)||this;return T.data=void 0,T.options=void 0,T.points=void 0,T}return f(_,C),_.compose=function(T){E.indexOf(T)===-1&&(E.push(T),g(T,"afterSetOptions",c),g(T,"init",h))},_.prototype.getPointPath=function(T,L){var j=C.prototype.getPointPath.call(this,T,L);L=L.strokeWidth();var z=L%2/2,$=Math.round(T.plotX)-z,D=Math.round(T.shapeArgs.width/2);return T.open!==null&&(T=Math.round(T.plotOpen)+z,j.push(["M",$,T],["L",$-D,T]),C.prototype.extendStem.call(this,j,L/2,T)),j},_.prototype.pointAttribs=function(T,L){L=C.prototype.pointAttribs.call(this,T,L);var j=this.options;return delete L.fill,!T.options.color&&j.upColor&&T.open<T.close&&(L.stroke=j.upColor),L},_.prototype.toYData=function(T){return[T.open,T.high,T.low,T.close]},_.defaultOptions=m(v.defaultOptions,o),_}(v);return x(R.prototype,{pointClass:i,pointArrayMap:["open","high","low","close"]}),a.registerSeriesType("ohlc",R),R}),n(r,"Series/Candlestick/CandlestickSeriesDefaults.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(i,o){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),n(r,"Series/Candlestick/CandlestickSeries.js",[r["Series/Candlestick/CandlestickSeriesDefaults.js"],r["Core/Defaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o,a,u){var c=this&&this.__extends||function(){var x=function(m,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,C){R.__proto__=C}||function(R,C){for(var _ in C)C.hasOwnProperty(_)&&(R[_]=C[_])},x(m,E)};return function(m,E){function R(){this.constructor=m}x(m,E),m.prototype=E===null?Object.create(E):(R.prototype=E.prototype,new R)}}(),h=o.defaultOptions;o=a.seriesTypes;var f=o.column,v=o.ohlc,g=u.merge;return u=function(x){function m(){var E=x!==null&&x.apply(this,arguments)||this;return E.data=void 0,E.options=void 0,E.points=void 0,E}return c(m,x),m.prototype.pointAttribs=function(E,R){var C=f.prototype.pointAttribs.call(this,E,R),_=this.options,T=E.open<E.close,L=_.lineColor||this.color,j=E.color||this.color;return C["stroke-width"]=_.lineWidth,C.fill=E.options.color||T&&_.upColor||j,C.stroke=E.options.lineColor||T&&_.upLineColor||L,R&&(E=_.states[R],C.fill=E.color||C.fill,C.stroke=E.lineColor||C.stroke,C["stroke-width"]=E.lineWidth||C["stroke-width"]),C},m.prototype.drawPoints=function(){for(var E=this.chart,R=this.yAxis.reversed,C=0,_=this.points;C<_.length;C++){var T=_[C],L=T.graphic,j=!L;if(typeof T.plotY<"u"){L||(T.graphic=L=E.renderer.path().add(this.group)),this.chart.styledMode||L.attr(this.pointAttribs(T,T.selected&&"select")).shadow(this.options.shadow);var z=L.strokeWidth()%2/2,$=Math.round(T.plotX)-z,D=T.plotOpen,P=T.plotClose,I=Math.min(D,P);D=Math.max(D,P);var A=Math.round(T.shapeArgs.width/2);P=R?D!==T.yBottom:Math.round(I)!==Math.round(T.plotHigh);var k=R?Math.round(I)!==Math.round(T.plotHigh):D!==T.yBottom;I=Math.round(I)+z,D=Math.round(D)+z,z=[],z.push(["M",$-A,D],["L",$-A,I],["L",$+A,I],["L",$+A,D],["Z"],["M",$,I],["L",$,P?Math.round(R?T.yBottom:T.plotHigh):I],["M",$,D],["L",$,k?Math.round(R?T.plotHigh:T.yBottom):D]),L[j?"attr":"animate"]({d:z}).addClass(T.getClassName(),!0)}}},m.defaultOptions=g(v.defaultOptions,h.plotOptions,{tooltip:v.defaultOptions.tooltip},i),m}(v),a.registerSeriesType("candlestick",u),u}),n(r,"Series/Flags/FlagsPoint.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(i,o){var a=this&&this.__extends||function(){var c=function(h,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var x in g)g.hasOwnProperty(x)&&(v[x]=g[x])},c(h,f)};return function(h,f){function v(){this.constructor=h}c(h,f),h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),u=o.isNumber;return function(c){function h(){var f=c!==null&&c.apply(this,arguments)||this;return f.options=void 0,f.series=void 0,f.ttBelow=!1,f}return a(h,c),h.prototype.isValid=function(){return u(this.y)||typeof this.y>"u"},h.prototype.hasNewShapeType=function(){var f=this.options.shape||this.series.options.shape;return this.graphic&&f&&f!==this.graphic.symbolKey},h}(i.seriesTypes.column.prototype.pointClass)}),n(r,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}}}),n(r,"Series/Flags/FlagsSymbols.js",[r["Core/Renderer/RendererRegistry.js"]],function(i){var o;return function(a){function u(f,v,g,x,m){var E=m&&m.anchorX||f;m=m&&m.anchorY||v;var R=this.circle(E-1,m-1,2,2);return R.push(["M",E,m],["L",f,v+x],["L",f,v],["L",f+g,v],["L",f+g,v+x],["L",f,v+x],["Z"]),R}function c(f,v){f[v+"pin"]=function(g,x,m,E,R){var C=R&&R.anchorX;R=R&&R.anchorY,v==="circle"&&E>m&&(g-=Math.round((E-m)/2),m=E);var _=f[v](g,x,m,E);if(C&&R){var T=C;v==="circle"?T=g+m/2:(g=_[0],m=_[1],g[0]==="M"&&m[0]==="L"&&(T=(g[1]+m[1])/2)),_.push(["M",T,x>R?x:x+E],["L",C,R]),_=_.concat(f.circle(C-1,R-1,2,2))}return _}}var h=[];a.compose=function(f){if(h.indexOf(f)===-1){h.push(f);var v=f.prototype.symbols;v.flag=u,c(v,"circle"),c(v,"square")}var g=i.getRendererType();h.indexOf(g)&&(h.push(g),v=f.prototype.symbols,f=g.prototype.symbols,f.circlepin=v.circlepin,f.flag=v.flag.bind(v),f.squarepin=v.squarepin)}}(o||(o={})),o}),n(r,"Series/OnSeriesComposition.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(i,o,a){var u=i.prototype,c=o.prototype,h=a.defined,f=a.stableSort,v;return function(g){function x(R){return c.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,R)}function m(){u.translate.apply(this);var R=this,C=R.options,_=R.chart,T=R.points,L=C.onSeries,j=(L=L&&_.get(L))&&L.options.step,z=L&&L.points,$=_.inverted,D=R.xAxis,P=R.yAxis;_=T.length-1;var I;C=C.onKey||"y";var A=z&&z.length,k=0,b;if(L&&L.visible&&A){k=(L.pointXOffset||0)+(L.barW||0)/2;var y=L.currentDataGrouping,d=z[A-1].x+(y?y.totalRange:0);for(f(T,function(S,F){return S.x-F.x}),C="plot"+C[0].toUpperCase()+C.substr(1);A--&&T[_];){var w=z[A];if(y=T[_],y.y=w.y,w.x<=y.x&&typeof w[C]<"u"){if(y.x<=d&&(y.plotY=w[C],w.x<y.x&&!j&&(b=z[A+1])&&typeof b[C]<"u")){var O=(y.x-w.x)/(b.x-w.x);y.plotY+=O*(b[C]-w[C]),y.y+=O*(b.y-w.y)}if(_--,A++,0>_)break}}}T.forEach(function(S,F){if(S.plotX+=k,(typeof S.plotY>"u"||$)&&(0<=S.plotX&&S.plotX<=D.len?$?(S.plotY=D.translate(S.x,0,1,0,1),S.plotX=h(S.y)?P.translate(S.y,0,0,0,1):0):S.plotY=(D.opposite?0:R.yAxis.len)+D.offset:S.shapeArgs={}),(I=T[F-1])&&I.plotX===S.plotX){typeof I.stackIndex>"u"&&(I.stackIndex=0);var V=I.stackIndex+1}S.stackIndex=V}),this.onSeries=L}var E=[];g.compose=function(R){if(E.indexOf(R)===-1){E.push(R);var C=R.prototype;C.getPlotBox=x,C.translate=m}return R},g.getPlotBox=x,g.translate=m}(v||(v={})),v}),n(r,"Series/Flags/FlagsSeries.js",[r["Series/Flags/FlagsPoint.js"],r["Series/Flags/FlagsSeriesDefaults.js"],r["Series/Flags/FlagsSymbols.js"],r["Core/Globals.js"],r["Series/OnSeriesComposition.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g){var x=this&&this.__extends||function(){var z=function($,D){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,I){P.__proto__=I}||function(P,I){for(var A in I)I.hasOwnProperty(A)&&(P[A]=I[A])},z($,D)};return function($,D){function P(){this.constructor=$}z($,D),$.prototype=D===null?Object.create(D):(P.prototype=D.prototype,new P)}}();u=u.noop;var m=h.distribute,E=f.series,R=f.seriesTypes.column,C=g.addEvent,_=g.defined;h=g.extend;var T=g.merge,L=g.objectEach,j=g.wrap;return g=function(z){function $(){var D=z!==null&&z.apply(this,arguments)||this;return D.data=void 0,D.options=void 0,D.points=void 0,D}return x($,z),$.prototype.animate=function(D){D&&this.setClip()},$.prototype.drawPoints=function(){var D=this.points,P=this.chart,I=P.renderer,A=P.inverted,k=this.options,b=k.y,y=this.yAxis,d={},w=[],O;for(O=D.length;O--;){var S=D[O],F=(A?S.plotY:S.plotX)>this.xAxis.len,V=S.plotX,K=S.stackIndex,Y=S.options.shape||k.shape,M=S.plotY;typeof M<"u"&&(M=S.plotY+b-(typeof K<"u"&&K*k.stackDistance)),S.anchorX=K?void 0:S.plotX;var B=K?void 0:S.plotY,H=Y!=="flag";K=S.graphic,typeof M<"u"&&0<=V&&!F?(K&&S.hasNewShapeType()&&(K=K.destroy()),K||(K=S.graphic=I.label("",null,null,Y,null,null,k.useHTML).addClass("highcharts-point").add(this.markerGroup),S.graphic.div&&(S.graphic.div.point=S),K.isNew=!0),K.attr({align:H?"center":"left",width:k.width,height:k.height,"text-align":k.textAlign}),P.styledMode||K.attr(this.pointAttribs(S)).css(T(k.style,S.style)).shadow(k.shadow),0<V&&(V-=K.strokeWidth()%2),Y={y:M,anchorY:B},k.allowOverlapX&&(Y.x=V,Y.anchorX=S.anchorX),K.attr({text:S.options.title||k.title||"A"})[K.isNew?"attr":"animate"](Y),k.allowOverlapX||(d[S.plotX]?d[S.plotX].size=Math.max(d[S.plotX].size,K.width):d[S.plotX]={align:H?.5:0,size:K.width,target:V,anchorX:V}),S.tooltipPos=[V,M+y.pos-P.plotTop]):K&&(S.graphic=K.destroy())}if(!k.allowOverlapX){var q=100;for(L(d,function(Q){Q.plotX=Q.anchorX,w.push(Q),q=Math.max(Q.size,q)}),m(w,A?y.len:this.xAxis.len,q),P=0;P<D.length;P++)I=D[P],b=I.plotX,(b=(A=I.graphic)&&d[b])&&A&&(_(b.pos)?A[A.isNew?"attr":"animate"]({x:b.pos+(b.align||0)*b.size,anchorX:I.anchorX}).show().isNew=!1:A.hide().isNew=!0)}k.useHTML&&this.markerGroup&&j(this.markerGroup,"on",function(Q){return v.prototype.on.apply(Q.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},$.prototype.drawTracker=function(){var D=this.points;z.prototype.drawTracker.call(this);for(var P=function(A){var k=A.graphic;k&&(A.unbindMouseOver&&A.unbindMouseOver(),A.unbindMouseOver=C(k.element,"mouseover",function(){0<A.stackIndex&&!A.raised&&(A._y=k.y,k.attr({y:A._y-8}),A.raised=!0);for(var b=0;b<D.length;b++){var y=D[b];y!==A&&y.raised&&y.graphic&&(y.graphic.attr({y:y._y}),y.raised=!1)}}))},I=0;I<D.length;I++)P(D[I])},$.prototype.pointAttribs=function(D,P){var I=this.options,A=D&&D.color||this.color,k=I.lineColor,b=D&&D.lineWidth;return D=D&&D.fillColor||I.fillColor,P&&(D=I.states[P].fillColor,k=I.states[P].lineColor,b=I.states[P].lineWidth),{fill:D||A,stroke:k||A,"stroke-width":b||I.lineWidth||0}},$.prototype.setClip=function(){E.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])},$.compose=a.compose,$.defaultOptions=T(R.defaultOptions,o),$}(R),c.compose(g),h(g.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:i,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:u,init:E.prototype.init}),f.registerSeriesType("flags",g),g}),n(r,"Core/Chart/StockChart.js",[r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/FormatUtilities.js"],r["Core/Defaults.js"],r["Stock/Navigator/NavigatorDefaults.js"],r["Stock/RangeSelector/RangeSelectorDefaults.js"],r["Stock/Scrollbar/ScrollbarDefaults.js"],r["Core/Series/Series.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(i,o,a,u,c,h,f,v,g,x){function m(k,b){return k==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:k==="yAxis"?{labels:{y:-2},opposite:I(b.opposite,!0),showLastLabel:!(!b.categories&&b.type!=="category"),title:{text:null}}:{}}function E(k,b){return k==="xAxis"?(k={type:"datetime",categories:void 0},I(b.navigator&&b.navigator.enabled,c.enabled,!0)&&(k.startOnTick=!1,k.endOnTick=!1),k):{}}var R=this&&this.__extends||function(){var k=function(b,y){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,w){d.__proto__=w}||function(d,w){for(var O in w)w.hasOwnProperty(O)&&(d[O]=w[O])},k(b,y)};return function(b,y){function d(){this.constructor=b}k(b,y),b.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}(),C=a.format,_=u.getOptions;a=x.addEvent;var T=x.clamp,L=x.defined,j=x.extend,z=x.find,$=x.isNumber,D=x.isString,P=x.merge,I=x.pick,A=x.splat;return x=function(k){function b(){return k!==null&&k.apply(this,arguments)||this}return R(b,k),b.prototype.init=function(y,d){var w=_(),O=y.xAxis,S=y.yAxis,F=I(y.navigator&&y.navigator.enabled,c.enabled,!0);y.xAxis=y.yAxis=void 0,F=P({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:F},scrollbar:{enabled:I(f.enabled,!0)},rangeSelector:{enabled:I(h.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:I(w.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},y,{isStock:!0}),y.xAxis=O,y.yAxis=S,F.xAxis=A(y.xAxis||{}).map(function(V,K){return P(m("xAxis",V),w.xAxis,w.xAxis&&w.xAxis[K],V,E("xAxis",y))}),F.yAxis=A(y.yAxis||{}).map(function(V,K){return P(m("yAxis",V),w.yAxis,w.yAxis&&w.yAxis[K],V)}),k.prototype.init.call(this,F,d)},b.prototype.createAxis=function(y,d){return d.axis=P(m(y,d.axis),d.axis,E(y,this.userOptions)),k.prototype.createAxis.call(this,y,d)},b}(o),function(k){k.stockChart=function(b,y,d){return new k(b,y,d)}}(x||(x={})),a(v,"setOptions",function(k){var b;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?b={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(b={marker:{enabled:!1,radius:2}}),b&&(k.plotOptions[this.type]=P(k.plotOptions[this.type],b)))}),a(i,"autoLabelAlign",function(k){var b=this.chart,y=this.options;b=b._labelPanes=b._labelPanes||{};var d=this.options.labels;this.chart.options.isStock&&this.coll==="yAxis"&&(y=y.top+","+y.height,!b[y]&&d.enabled&&(d.x===15&&(d.x=0),typeof d.align>"u"&&(d.align="right"),b[y]=this,k.align="right",k.preventDefault()))}),a(i,"destroy",function(){var k=this.chart,b=this.options&&this.options.top+","+this.options.height;b&&k._labelPanes&&k._labelPanes[b]===this&&delete k._labelPanes[b]}),a(i,"getPlotLinePath",function(k){function b(J){var et=J==="xAxis"?"yAxis":"xAxis";return J=y.options[et],$(J)?[w[et][J]]:D(J)?[w.get(J)]:d.map(function(nt){return nt[et]})}var y=this,d=this.isLinked&&!this.series?this.linkedParent.series:this.series,w=y.chart,O=w.renderer,S=y.left,F=y.top,V,K,Y,M,B=[],H=[],q=k.translatedValue,Q=k.value,U=k.force;if(w.options.isStock&&k.acrossPanes!==!1&&y.coll==="xAxis"||y.coll==="yAxis"){k.preventDefault(),H=b(y.coll);var X=y.isXAxis?w.yAxis:w.xAxis;X.forEach(function(J){if(!L(J.options.id)||J.options.id.indexOf("navigator")===-1){var et=J.isXAxis?"yAxis":"xAxis";et=L(J.options[et])?w[et][J.options[et]]:w[et][0],y===et&&H.push(J)}});var G=H.length?[]:[y.isXAxis?w.yAxis[0]:w.xAxis[0]];H.forEach(function(J){G.indexOf(J)!==-1||z(G,function(et){return et.pos===J.pos&&et.len===J.len})||G.push(J)});var Z=I(q,y.translate(Q,void 0,void 0,k.old));$(Z)&&(y.horiz?G.forEach(function(J){var et;K=J.pos,M=K+J.len,V=Y=Math.round(Z+y.transB),U!=="pass"&&(V<S||V>S+y.width)&&(U?V=Y=T(V,S,S+y.width):et=!0),et||B.push(["M",V,K],["L",Y,M])}):G.forEach(function(J){var et;V=J.pos,Y=V+J.len,K=M=Math.round(F+y.height-Z),U!=="pass"&&(K<F||K>F+y.height)&&(U?K=M=T(K,F,F+y.height):et=!0),et||B.push(["M",V,K],["L",Y,M])})),k.path=0<B.length?O.crispPolyLine(B,k.lineWidth||1):null}}),g.prototype.crispPolyLine=function(k,b){for(var y=0;y<k.length;y+=2){var d=k[y],w=k[y+1];d[1]===w[1]&&(d[1]=w[1]=Math.round(d[1])-b%2/2),d[2]===w[2]&&(d[2]=w[2]=Math.round(d[2])+b%2/2)}return k},a(i,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),a(i,"afterDrawCrosshair",function(k){var b,y;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&$(this.min)&&$(this.max)){var d=this.chart,w=this.logarithmic,O=this.crosshair.label,S=this.horiz,F=this.opposite,V=this.left,K=this.top,Y=this.crossLabel,M=O.format,B="",H=this.options.tickPosition==="inside",q=this.crosshair.snap!==!1,Q=0,U=k.e||this.cross&&this.cross.e;k=k.point;var X=this.min,G=this.max;w&&(X=w.lin2log(X),G=w.lin2log(G)),w=S?"center":F?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",Y||(Y=this.crossLabel=d.renderer.label("",0,void 0,O.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(k&&k.series?k.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:O.align||w,padding:I(O.padding,8),r:I(O.borderRadius,3),zIndex:2}).add(this.labelGroup),d.styledMode||Y.attr({fill:O.backgroundColor||k&&k.series&&k.series.color||"#666666",stroke:O.borderColor||"","stroke-width":O.borderWidth||0}).css(j({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},O.style||{}))),S?(w=q?(k.plotX||0)+V:U.chartX,K+=F?0:this.height):(w=F?this.width+V:0,K=q?(k.plotY||0)+K:U.chartY),M||O.formatter||(this.dateTime&&(B="%b %d, %Y"),M="{value"+(B?":"+B:"")+"}"),B=q?this.isXAxis?k.x:k.y:this.toValue(S?U.chartX:U.chartY),q=k&&k.series?k.series.isPointInside(k):$(B)&&B>X&&B<G,U="",M?U=C(M,{value:B},d):O.formatter&&$(B)&&(U=O.formatter.call(this,B)),Y.attr({text:U,x:w,y:K,visibility:q?"inherit":"hidden"}),O=Y.getBBox(),$(Y.y)&&(S?(H&&!F||!H&&F)&&(K=Y.y-O.height):K=Y.y-O.height/2),S?(b=V-O.x,y=V+this.width-O.x):(b=this.labelAlign==="left"?V:0,y=this.labelAlign==="right"?V+this.width:d.chartWidth),Y.translateX<b&&(Q=b-Y.translateX),Y.translateX+O.width>=y&&(Q=-(Y.translateX+O.width-y)),Y.attr({x:w+Q,y:K,anchorX:S?w:this.opposite?0:d.chartWidth,anchorY:S?this.opposite?d.chartHeight:0:K+O.height/2})}}),v.prototype.forceCropping=function(){var k=this.chart,b=this.options.dataGrouping;return this.allowDG!==!1&&b&&I(b.enabled,k.options.isStock)},a(o,"update",function(k){k=k.options,"scrollbar"in k&&this.navigator&&(P(!0,this.options.scrollbar,k.scrollbar),this.navigator.update({}),delete k.scrollbar)}),x}),n(r,"masters/modules/stock.src.js",[r["Core/Globals.js"],r["Series/DataModifyComposition.js"],r["Stock/Navigator/Navigator.js"],r["Stock/RangeSelector/RangeSelector.js"],r["Stock/Scrollbar/Scrollbar.js"],r["Core/Axis/OrdinalAxis.js"],r["Series/OHLC/OHLCSeries.js"],r["Series/Flags/FlagsSeries.js"],r["Core/Chart/StockChart.js"]],function(i,o,a,u,c,h,f,v,g){i.Navigator=a,i.RangeSelector=u,i.Scrollbar=c,i.StockChart=i.stockChart=g.stockChart,o.compose(i.Series,i.Axis,i.Point),v.compose(i.Renderer),a.compose(i.Axis,i.Chart,i.Series),f.compose(i.Series),h.compose(i.Axis,i.Series,i.Chart),u.compose(i.Axis,i.Chart),c.compose(i.Axis)}),n(r,"masters/highstock.src.js",[r["masters/highcharts.src.js"]],function(i){return i.product="Highstock",i}),r["masters/highstock.src.js"]._modules=r,r["masters/highstock.src.js"]})})(Ect);const Ga=iE;var oE={},Tct={get exports(){return oE},set exports(t){oE=t}};(function(t,e){(function(n,r){t.exports=r(ut)})(typeof self<"u"?self:bL,function(n){return function(r){function i(a){if(o[a])return o[a].exports;var u=o[a]={i:a,l:!1,exports:{}};return r[a].call(u.exports,u,u.exports,i),u.l=!0,u.exports}var o={};return i.m=r,i.c=o,i.d=function(a,u,c){i.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(u,"a",u),u},i.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},i.p="",i(i.s=0)}([function(r,i,o){function a(){return a=Object.assign?Object.assign.bind():function(_){for(var T=1;T<arguments.length;T++){var L=arguments[T];for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&(_[j]=L[j])}return _},a.apply(this,arguments)}function u(_){return v(_)||f(_)||h(_)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(_,T){if(_){if(typeof _=="string")return g(_,T);var L=Object.prototype.toString.call(_).slice(8,-1);return L==="Object"&&_.constructor&&(L=_.constructor.name),L==="Map"||L==="Set"?Array.from(_):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?g(_,T):void 0}}function f(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function v(_){if(Array.isArray(_))return g(_)}function g(_,T){(T==null||T>_.length)&&(T=_.length);for(var L=0,j=new Array(T);L<T;L++)j[L]=_[L];return j}function x(_){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(_)}Object.defineProperty(i,"__esModule",{value:!0}),o.d(i,"HighchartsReact",function(){return C});var m=o(1),E=o.n(m),R=typeof window<"u"?m.useLayoutEffect:m.useEffect,C=Object(m.memo)(Object(m.forwardRef)(function(_,T){var L=Object(m.useRef)(),j=Object(m.useRef)(),z=Object(m.useRef)(_.constructorType),$=Object(m.useRef)(_.highcharts);return R(function(){function D(){var I=_.highcharts||(typeof window>"u"?"undefined":x(window))==="object"&&window.Highcharts,A=_.constructorType||"chart";I?I[A]?_.options?j.current=I[A](L.current,_.options,_.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(j.current){if(_.allowChartUpdate!==!1)if(_.constructorType!==z.current||_.highcharts!==$.current)z.current=_.constructorType,$.current=_.highcharts,D();else if(!_.immutable&&j.current){var P;(P=j.current).update.apply(P,[_.options].concat(u(_.updateArgs||[!0,!0])))}else D()}else D()},[_.options,_.allowChartUpdate,_.updateArgs,_.containerProps,_.highcharts,_.constructorType]),R(function(){return function(){j.current&&(j.current.destroy(),j.current=null)}},[]),Object(m.useImperativeHandle)(T,function(){return{get chart(){return j.current},container:L}},[]),E.a.createElement("div",a({},_.containerProps,{ref:L}))}));i.default=C},function(r,i){r.exports=n}])})})(Tct);const kct=aE(oE);var sE={},Cct={get exports(){return sE},set exports(t){sE=t}};(function(t){(function(e){t.exports?(e.default=e,t.exports=e):e(typeof Highcharts<"u"?Highcharts:void 0)})(function(e){function n(r,i,o,a){r.hasOwnProperty(i)||(r[i]=a.apply(null,o),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:r[i]}})))}e=e?e._modules:{},n(e,"Series/NodesComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(r,i){r=r.series;var o=r.prototype,a=r.prototype.pointClass.prototype,u=i.defined,c=i.extend,h=i.find,f=i.merge,v=i.pick,g;return function(x){function m(){return this.data=[].concat(this.points||[],this.nodes),o.destroy.apply(this,arguments)}function E(){this.nodes&&(this.nodes.forEach(function(T){T.destroy()}),this.nodes.length=0),o.setData.apply(this,arguments)}function R(T){var L=arguments,j=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];T!=="select"&&j.forEach(function(z){z&&z.series&&(a.setState.apply(z,L),z.isNode||(z.fromNode.graphic&&a.setState.apply(z.fromNode,L),z.toNode&&z.toNode.graphic&&a.setState.apply(z.toNode,L)))}),a.setState.apply(this,L)}function C(T,L,j,z){var $=this,D=this.series.options.nodes,P=this.series.options.data,I=P&&P.length||0,A=P&&P[this.index];a.update.call(this,T,this.isNode?!1:L,j,z),this.isNode&&(T=(D||[]).reduce(function(k,b,y){return $.id===b.id?y:k},-1),z=f(D&&D[T]||{},P&&P[this.index]||{}),P&&(A?P[this.index]=A:P.length=I),D?0<=T?D[T]=z:D.push(z):this.series.options.nodes=[z],v(L,!0)&&this.series.chart.redraw(j))}var _=[];x.compose=function(T,L){return _.indexOf(T)===-1&&(_.push(T),T=T.prototype,T.setNodeState=R,T.setState=R,T.update=C),_.indexOf(L)===-1&&(_.push(L),T=L.prototype,T.destroy=m,T.setData=E),L},x.createNode=function(T){var L=this.pointClass,j=function(D,P){return h(D,function(I){return I.id===P})},z=j(this.nodes,T);if(!z){j=this.options.nodes&&j(this.options.nodes,T);var $=new L().init(this,c({className:"highcharts-node",isNode:!0,id:T,y:1},j));$.linksTo=[],$.linksFrom=[],$.getSum=function(){var D=0,P=0;return $.linksTo.forEach(function(I){D+=I.weight||0}),$.linksFrom.forEach(function(I){P+=I.weight||0}),Math.max(D,P)},$.offset=function(D,P){for(var I=0,A=0;A<$[P].length;A++){if($[P][A]===D)return I;I+=$[P][A].weight}},$.hasShape=function(){var D=0;return $.linksTo.forEach(function(P){P.outgoing&&D++}),!$.linksTo.length||D!==$.linksTo.length},$.index=this.nodes.push($)-1,z=$}return z.formatPrefix="node",z.name=z.name||z.options.id||"",z.mass=v(z.options.mass,z.options.marker&&z.options.marker.radius,this.options.marker&&this.options.marker.radius,4),z},x.destroy=m,x.generatePoints=function(){var T=this,L=this.chart,j={};o.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(z){z.linksFrom.length=0,z.linksTo.length=0,z.level=z.options.level}),this.points.forEach(function(z){u(z.from)&&(j[z.from]||(j[z.from]=T.createNode(z.from)),j[z.from].linksFrom.push(z),z.fromNode=j[z.from],L.styledMode?z.colorIndex=v(z.options.colorIndex,j[z.from].colorIndex):z.color=z.options.color||j[z.from].color),u(z.to)&&(j[z.to]||(j[z.to]=T.createNode(z.to)),j[z.to].linksTo.push(z),z.toNode=j[z.to]),z.name=z.name||z.id},this),this.nodeLookup=j},x.setNodeState=R,x.updateNode=C}(g||(g={})),g}),n(e,"Series/Sankey/SankeyPoint.js",[e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(r,i,o){var a=this&&this.__extends||function(){var c=function(h,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var x in g)g.hasOwnProperty(x)&&(v[x]=g[x])},c(h,f)};return function(h,f){function v(){this.constructor=h}c(h,f),h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),u=o.defined;return function(c){function h(){var f=c!==null&&c.apply(this,arguments)||this;return f.className=void 0,f.fromNode=void 0,f.level=void 0,f.linkBase=void 0,f.linksFrom=void 0,f.linksTo=void 0,f.mass=void 0,f.nodeX=void 0,f.nodeY=void 0,f.options=void 0,f.series=void 0,f.toNode=void 0,f}return a(h,c),h.prototype.applyOptions=function(f,v){return r.prototype.applyOptions.call(this,f,v),u(this.options.level)&&(this.options.column=this.column=this.options.level),this},h.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+r.prototype.getClassName.call(this)},h.prototype.getFromNode=function(){for(var f=-1,v,g=0;g<this.linksTo.length;g++){var x=this.linksTo[g];x.fromNode.column>f&&x.fromNode!==this&&(v=x.fromNode,f=v.column)}return{fromNode:v,fromColumn:f}},h.prototype.setNodeColumn=function(){u(this.options.column)||(this.column=this.linksTo.length===0?0:this.getFromNode().fromColumn+1)},h.prototype.isValid=function(){return this.isNode||typeof this.weight=="number"},h}(i.seriesTypes.column.prototype.pointClass)}),n(e,"Series/Sankey/SankeySeriesDefaults.js",[],function(){return{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,opacity:1,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1,opacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} → {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}}),n(e,"Series/Sankey/SankeyColumnComposition.js",[e["Core/Utilities.js"]],function(r){var i=r.defined,o=r.relativeLength,a;return function(u){u.compose=function(h,f){return h.sankeyColumn=new c(h,f),h};var c=function(){function h(f,v){this.points=f,this.series=v}return h.prototype.getTranslationFactor=function(f){for(var v=this.points,g=v.slice(),x=f.options.minLinkWidth||0,m=0,E,R=(f.chart.plotSizeY||0)-(f.options.borderWidth||0)-(v.length-1)*f.nodePadding;v.length;){for(m=R/v.sankeyColumn.sum(),f=!1,E=v.length;E--;)v[E].getSum()*m<x&&(v.splice(E,1),R-=x,f=!0);if(!f)break}return v.length=0,g.forEach(function(C){v.push(C)}),m},h.prototype.top=function(f){var v=this.series,g=v.nodePadding,x=this.points.reduce(function(m,E){return 0<m&&(m+=g),E=Math.max(E.getSum()*f,v.options.minLinkWidth||0),m+E},0);return((v.chart.plotSizeY||0)-x)/2},h.prototype.left=function(f){var v=this.series,g=v.chart,x=v.options.equalNodes,m=g.inverted?g.plotHeight:g.plotWidth,E=v.nodePadding,R=this.points.reduce(function(C,_){return 0<C&&(C+=E),_=x?m/_.series.nodes.length-E:Math.max(_.getSum()*f,v.options.minLinkWidth||0),C+_},0);return((g.plotSizeX||0)-Math.round(R))/2},h.prototype.sum=function(){return this.points.reduce(function(f,v){return f+v.getSum()},0)},h.prototype.offset=function(f,v){var g=this.points,x=this.series,m=x.nodePadding,E=0;if(x.is("organization")&&f.hangsFrom)return{absoluteTop:f.hangsFrom.nodeY};for(var R=0;R<g.length;R++){var C=g[R].getSum(),_=Math.max(C*v,x.options.minLinkWidth||0),T=f.options[x.chart.inverted?"offsetHorizontal":"offsetVertical"],L=f.options.offset||0;if(C=C?_+m:0,g[R]===f)return{relativeTop:E+(i(T)?o(T,_):o(L,C))};E+=C}},h}();u.SankeyColumnAdditions=c}(a||(a={})),a}),n(e,"Series/TreeUtilities.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(r,i){function o(g,x){var m=x.before,E=x.idRoot,R=x.mapIdToNode[E],C=x.points[g.i],_=C&&C.options||{},T=[],L=0;return g.levelDynamic=g.level-(x.levelIsConstant!==!1?0:R.level),g.name=v(C&&C.name,""),g.visible=E===g.id||x.visible===!0,typeof m=="function"&&(g=m(g,x)),g.children.forEach(function(j,z){var $=a({},x);a($,{index:z,siblings:g.children.length,visible:g.visible}),j=o(j,$),T.push(j),j.visible&&(L+=j.val)}),m=v(_.value,L),g.visible=0<=m&&(0<L||g.visible),g.children=T,g.childrenTotal=L,g.isLeaf=g.visible&&!L,g.val=m,g}var a=i.extend,u=i.isArray,c=i.isNumber,h=i.isObject,f=i.merge,v=i.pick;return{getColor:function(g,x){var m=x.index,E=x.mapOptionsToLevel,R=x.parentColor,C=x.parentColorIndex,_=x.series,T=x.colors,L=x.siblings,j=_.points,z=_.chart.options.chart,$;if(g){if(j=j[g.i],g=E[g.level]||{},E=j&&g.colorByPoint)var D=j.index%(T?T.length:z.colorCount),P=T&&T[D];_.chart.styledMode||(T=j&&j.options.color,z=g&&g.color,($=R)&&($=($=g&&g.colorVariation)&&$.key==="brightness"&&m&&L?r.parse(R).brighten(m/L*$.to).get():R),$=v(T,z,P,$,_.color));var I=v(j&&j.options.colorIndex,g&&g.colorIndex,D,C,x.colorIndex)}return{color:$,colorIndex:I}},getLevelOptions:function(g){var x={};if(h(g)){var m=c(g.from)?g.from:1,E=g.levels,R={},C=h(g.defaults)?g.defaults:{};for(u(E)&&(R=E.reduce(function(_,T){if(h(T)&&c(T.level)){var L=f({},T),j=v(L.levelIsConstant,C.levelIsConstant);delete L.levelIsConstant,delete L.level,T=T.level+(j?0:m-1),h(_[T])?f(!0,_[T],L):_[T]=L}return _},{})),E=c(g.to)?g.to:1,g=0;g<=E;g++)x[g]=f({},C,h(R[g])?R[g]:{})}return x},setTreeValues:o,updateRootId:function(g){if(h(g)){var x=h(g.options)?g.options:{};x=v(g.rootNode,x.rootId,""),h(g.userOptions)&&(g.userOptions.rootId=x),g.rootNode=x}return x}}}),n(e,"Series/Sankey/SankeySeries.js",[e["Core/Color/Color.js"],e["Core/Globals.js"],e["Series/NodesComposition.js"],e["Series/Sankey/SankeyPoint.js"],e["Series/Sankey/SankeySeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Sankey/SankeyColumnComposition.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"]],function(r,i,o,a,u,c,h,f,v){var g=this&&this.__extends||function(){var j=function(z,$){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var I in P)P.hasOwnProperty(I)&&(D[I]=P[I])},j(z,$)};return function(z,$){function D(){this.constructor=z}j(z,$),z.prototype=$===null?Object.create($):(D.prototype=$.prototype,new D)}}(),x=c.series,m=c.seriesTypes.column,E=f.getLevelOptions;f=v.extend;var R=v.isObject,C=v.merge,_=v.pick,T=v.relativeLength,L=v.stableSort;return v=function(j){function z(){var $=j!==null&&j.apply(this,arguments)||this;return $.colDistance=void 0,$.data=void 0,$.group=void 0,$.nodeLookup=void 0,$.nodePadding=void 0,$.nodes=void 0,$.nodeWidth=void 0,$.options=void 0,$.points=void 0,$.translationFactor=void 0,$}return g(z,j),z.getDLOptions=function($){var D=R($.optionsPoint)?$.optionsPoint.dataLabels:{};return $=R($.level)?$.level.dataLabels:{},C({style:{}},$,D)},z.prototype.createNodeColumns=function(){var $=[];this.nodes.forEach(function(P){P.setNodeColumn(),$[P.column]||($[P.column]=h.compose([],this)),$[P.column].push(P)},this);for(var D=0;D<$.length;D++)typeof $[D]>"u"&&($[D]=h.compose([],this));return $},z.prototype.order=function($,D){var P=this;typeof $.level>"u"&&($.level=D,$.linksFrom.forEach(function(I){I.toNode&&P.order(I.toNode,D+1)}))},z.prototype.generatePoints=function(){o.generatePoints.apply(this,arguments);var $=this;this.orderNodes&&(this.nodes.filter(function(D){return D.linksTo.length===0}).forEach(function(D){$.order(D,0)}),L(this.nodes,function(D,P){return D.level-P.level}))},z.prototype.getNodePadding=function(){var $=this.options.nodePadding||0;if(this.nodeColumns){var D=this.nodeColumns.reduce(function(P,I){return Math.max(P,I.length)},0);D*$>this.chart.plotSizeY&&($=this.chart.plotSizeY/D)}return $},z.prototype.hasData=function(){return!!this.processedXData.length},z.prototype.pointAttribs=function($,D){if(!$)return{};var P=this,I=P.mapOptionsToLevel[($.isNode?$.level:$.fromNode.level)||0]||{},A=$.options,k=I.states&&I.states[D||""]||{};D=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce(function(y,d){return y[d]=_(k[d],A[d],I[d],P.options[d]),y},{});var b=_(k.color,A.color,D.colorByPoint?$.color:I.color);return $.isNode?{fill:b,stroke:D.borderColor,"stroke-width":D.borderWidth,opacity:D.opacity}:{fill:r.parse(b).setOpacity(D.linkOpacity).get()}},z.prototype.drawTracker=function(){m.prototype.drawTracker.call(this,this.points),m.prototype.drawTracker.call(this,this.nodes)},z.prototype.drawPoints=function(){m.prototype.drawPoints.call(this,this.points),m.prototype.drawPoints.call(this,this.nodes)},z.prototype.drawDataLabels=function(){m.prototype.drawDataLabels.call(this,this.points),m.prototype.drawDataLabels.call(this,this.nodes)},z.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=T(this.options.nodeWidth,this.chart.plotSizeX);var $=this,D=this.chart,P=this.options,I=this.nodeWidth,A=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=A.reduce(function(k,b){return Math.min(k,b.sankeyColumn.getTranslationFactor($))},1/0),this.colDistance=(D.plotSizeX-I-P.borderWidth)/Math.max(1,A.length-1),$.mapOptionsToLevel=E({from:1,levels:P.levels,to:A.length-1,defaults:{borderColor:P.borderColor,borderRadius:P.borderRadius,borderWidth:P.borderWidth,color:$.color,colorByPoint:P.colorByPoint,levelIsConstant:!0,linkColor:P.linkColor,linkLineWidth:P.linkLineWidth,linkOpacity:P.linkOpacity,states:P.states}}),A.forEach(function(k){k.forEach(function(b){$.translateNode(b,k)})},this),this.nodes.forEach(function(k){k.linksFrom.forEach(function(b){(b.weight||b.isNull)&&b.to&&($.translateLink(b),b.allowShadow=!1)})})},z.prototype.translateLink=function($){var D=function(nt,at){return at=nt.offset($,at)*k,Math.min(nt.nodeY+at,nt.nodeY+(nt.shapeArgs&&nt.shapeArgs.height||0)-b)},P=$.fromNode,I=$.toNode,A=this.chart,k=this.translationFactor,b=Math.max($.weight*k,this.options.minLinkWidth),y=(A.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,d=D(P,"linksFrom");D=D(I,"linksTo");var w=P.nodeX,O=this.nodeWidth;I=I.nodeX;var S=$.outgoing,F=I>w+O;if(A.inverted&&(d=A.plotSizeY-d,D=(A.plotSizeY||0)-D,O=-O,b=-b,F=w>I),$.shapeType="path",$.linkBase=[d,d+b,D,D+b],F&&typeof D=="number")$.shapeArgs={d:[["M",w+O,d],["C",w+O+y,d,I-y,D,I,D],["L",I+(S?O:0),D+b/2],["L",I,D+b],["C",I-y,D+b,w+O+y,d+b,w+O,d+b],["Z"]]};else if(typeof D=="number"){y=I-20-b,S=I-20,F=w+O;var V=F+20,K=V+b,Y=d,M=d+b,B=M+20,H=B+(A.plotHeight-d-b),q=H+20,Q=q+b,U=D,X=U+b,G=X+20,Z=q+.7*b,J=I-.7*b,et=F+.7*b;$.shapeArgs={d:[["M",F,Y],["C",et,Y,K,M-.7*b,K,B],["L",K,H],["C",K,Z,et,Q,F,Q],["L",I,Q],["C",J,Q,y,Z,y,H],["L",y,G],["C",y,X-.7*b,J,U,I,U],["L",I,X],["C",S,X,S,X,S,G],["L",S,H],["C",S,q,S,q,I,q],["L",F,q],["C",V,q,V,q,V,H],["L",V,B],["C",V,M,V,M,F,M],["Z"]]}}$.dlBox={x:w+(I-w+O)/2,y:d+(D-d)/2,height:b,width:0},$.tooltipPos=A.inverted?[A.plotSizeY-$.dlBox.y-b/2,A.plotSizeX-$.dlBox.x]:[$.dlBox.x,$.dlBox.y+b/2],$.y=$.plotY=1,$.x=$.plotX=1,$.color||($.color=P.color)},z.prototype.translateNode=function($,D){var P=this.translationFactor,I=this.chart,A=this.options,k=$.getSum(),b=Math.max(Math.round(k*P),this.options.minLinkWidth),y=Math.round(this.nodeWidth),d=Math.round(A.borderWidth)%2/2,w=D.sankeyColumn.offset($,P);if(D=Math.floor(_(w.absoluteTop,D.sankeyColumn.top(P)+w.relativeTop))+d,d=Math.floor(this.colDistance*$.column+A.borderWidth/2)+T($.options.offsetHorizontal||0,y)+d,d=I.inverted?I.plotSizeX-d:d,$.sum=k){$.shapeType="rect",$.nodeX=d,$.nodeY=D,k=d,P=D,w=$.options.width||A.width||y;var O=$.options.height||A.height||b;I.inverted&&(k=d-y,P=I.plotSizeY-D-b,w=$.options.height||A.height||y,O=$.options.width||A.width||b),$.dlOptions=z.getDLOptions({level:this.mapOptionsToLevel[$.level],optionsPoint:$.options}),$.plotX=1,$.plotY=1,$.tooltipPos=I.inverted?[I.plotSizeY-P-O/2,I.plotSizeX-k-w/2]:[k+w/2,P+O/2],$.shapeArgs={x:k,y:P,width:w,height:O,display:$.hasShape()?"":"none"}}else $.dlOptions={enabled:!1}},z.defaultOptions=C(m.defaultOptions,u),z}(m),o.compose(a,v),f(v.prototype,{animate:x.prototype.animate,createNode:o.createNode,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,noSharedTooltip:!0,pointArrayMap:["from","to","weight"],pointClass:a,searchPoint:i.noop}),c.registerSeriesType("sankey",v),v}),n(e,"masters/modules/sankey.src.js",[],function(){})})})(Cct);const Ict=sE;Ict(Ga);Ga.wrap(Ga.seriesTypes.sankey.prototype,"pointAttribs",function(t,e,n){if(!e)return{};const r=this,i=e.isNode?e.level:e.fromNode.level,o=r.mapOptionsToLevel[i||0]||{},a=e.options,u=o.states&&o.states[n||""]||{},c=["colorByPoint","borderColor","borderWidth","linkOpacity","opacity"].reduce((f,v)=>(f[v]=Ga.pick(u[v],a[v],o[v],r.options[v]),f),{}),h=Ga.pick(u.color,a.color,c.colorByPoint?e.color:o.color);return e.isNode?{fill:h,stroke:c.borderColor,"stroke-width":c.borderWidth,opacity:c.opacity}:{fill:Ga.Color.parse(h).setOpacity(c.linkOpacity).get()}});function Act({data:t}){const e={chart:{events:{load(){const n=this;let r=[],i=[];n.series[0].nodes.forEach(u=>{u.level===0?r.push(u.dataLabel.width):i.push(u.dataLabel.width)});const o=Math.max(...r),a=Math.max(...i);n.update({chart:{spacingLeft:o+5,spacingRight:a+5}},!0,!0,!1),n.series[0].nodes.forEach(u=>{const c=u.level===0,h=u.dataLabel,f=h.width,v=f+5;h.attr({x:h.x+(c?-v:v)})})}}},tooltip:{headerFormat:""},title:{text:"",enabled:!1},legend:{enabled:!1},credits:{enabled:!1},series:[{type:"sankey",data:t}]};return we.jsx(kct,{highcharts:Ga,options:e})}const Pct=({data:t})=>{const e=(r,i)=>{const{name:o,value:a}=r.target;Xm.collection("items").doc(i).update({[o]:o==="amount"&&a&&!a.endsWith(".")?parseFloat(a):a})},n=r=>{Xm.collection("items").doc(r).delete()};return we.jsx("div",{className:"container",children:we.jsxs("table",{children:[we.jsx("thead",{children:we.jsxs("tr",{children:[we.jsx("th",{children:"Source"}),we.jsx("th",{children:"Destination"}),we.jsx("th",{children:"Amount"}),we.jsx("th",{children:"Operation"})]})}),we.jsx("tbody",{children:t.map(({id:r,source:i,destination:o,amount:a})=>we.jsxs("tr",{children:[we.jsx("td",{children:we.jsx("input",{name:"source",value:i,type:"text",onChange:u=>e(u,r),placeholder:"Type Source"})}),we.jsx("td",{children:we.jsx("input",{name:"destination",value:o,type:"text",onChange:u=>e(u,r),placeholder:"Type Destination"})}),we.jsx("td",{children:we.jsx("input",{name:"amount",type:"text",value:a,onChange:u=>e(u,r),placeholder:"Type Amount"})}),we.jsx("td",{children:we.jsx("button",{style:{marginLeft:20},onClick:u=>n(r),children:"Delete"})})]},r))})]})})};function Rct(){const[t,e]=ut.useState([]),[n,r]=ut.useState(""),[i,o]=ut.useState(""),[a,u]=ut.useState("");ut.useEffect(()=>{c()},[]);function c(){Xm.collection("items").onSnapshot(function(f){e(f.docs.map(v=>({id:v.id,source:v.data().source,destination:v.data().destination,amount:v.data().amount})))})}function h(f){f.preventDefault(),Xm.collection("items").add({timestamp:Ht.firestore.FieldValue.serverTimestamp(),source:n,destination:i,amount:parseFloat(a)}),r(""),o(""),u("")}return we.jsx("div",{className:"App",children:we.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},children:[we.jsx("h1",{children:"Money Flow 😃"}),t.length>0&&we.jsx(Act,{data:t.map(f=>[f.source,f.destination,f.amount])}),we.jsxs("form",{style:{display:"flex",flexDirection:"row",width:"80vw"},children:[we.jsx(r1,{id:"source",label:"Source",value:n,style:{width:"30vw"},onChange:f=>r(f.target.value)}),we.jsx(r1,{id:"destination",label:"destination",value:i,style:{width:"30vw"},onChange:f=>o(f.target.value)}),we.jsx(r1,{id:"amount",label:"amount",value:a,style:{width:"30vw"},onChange:f=>u(f.target.value)}),we.jsx(Jq,{type:"submit",variant:"contained",onClick:h,style:{display:"none"},children:"Default"})]}),t.length>0&&we.jsx(Pct,{data:t})]})})}lf.render(we.jsx(Ve.StrictMode,{children:we.jsx(Rct,{})}),document.getElementById("root"));
